
<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="description" content="排序算法将一串数组（一个列表）中的元素（整数，数字，字符串等）按某种顺序（增大，减小，字典顺序等）重新排列。有很多种不同的排序算法，每一种都有各自的优势和限制。排序常常作为计算机课程中的介绍性问题，用以介绍一系列的算法思路。不失普遍性，我们在此可视化中，只将（可能包含重复）的整数数组排序至非减。试试点击 Bubble Sort 来可视化五个（含重复项）的杂乱整数的排序。">
<meta name="keywords" content="排序 冒泡排序 选择 选择排序 插入 插入排序 归并排序 随机快速排序 计数排序 基数排序">
 
<meta name="csrf-token" content="WtIPAnE7RYRxQ9DLF9hy2IhtEZVltGDiA8vkfkKi">
<meta http-equiv="X-UA-Compatible" content="IE=EDGE">
<meta property="og:image" content="https://visualgo.net/img/png/sorting.png">
<title>排序（冒泡排序，选择排序，插入排序，归并排序，快速排序，计数排序，基数排序） - VisuAlgo</title>
<link rel="icon" href="https://visualgo.net/img/favicon.png" type="image/x-icon">
<link rel="shortcut icon" href="https://visualgo.net/img/favicon.png" type="image/x-icon">
<link rel="apple-touch-icon" href="https://visualgo.net/img/favicon.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://visualgo.net/img/favicon.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://visualgo.net/img/favicon.png">
<link rel="stylesheet" href="https://visualgo.net/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="https://visualgo.net/fonts/silkscreen/stylesheet.css">
<link rel="stylesheet" type="text/css" href="https://visualgo.net/css/common-1.0.2.css">
<link rel="stylesheet" href="https://visualgo.net/css/viz-1.0.4.css">
<link rel="stylesheet" href="https://visualgo.net/css/visual.css">
<link rel="stylesheet" href="https://visualgo.net/css/drawgraph-1.0.2.css">
<style>
      #e-lecture {
        top: 45px;
        right: 130px;
        width: 400px;
        display: block;
        background: none;
        /*overflow: normal;*/
        white-space: normal;
        text-align: right;
        color: black; font-weight: bold; font-size: 20px;
        z-index: 8001;
      }
      #e-lecture-timeline {
        top: 80px;
        right: 130px;
        display: flex;
        position: absolute;
        z-index: 10000;
      }
      .e-lecture-timeline-slide {
        height: 5px;
        width: 2px;
        background: black;
        float: left;
      }
      .e-lecture-timeline-checkpoint {
        height: 20px;
        width: 3px;
        margin-left: 2px;
        margin-top: -7.5px;
        background: black;
        float: left;
      }

      #e-lecture-f1map {
        top: 102.5px;
        right: 130px;
        display: flex;
        position: absolute;
        z-index: 10000;
      }

      .e-lecture-f1map-sector {
        flex-grow: 1;
        background: black;
        float: left;
        height: 5px;
        margin-right: 1px;
      }

      .e-lecture-f1map-sector:last-child {
        margin-right: 0px;
      }

      .electure-prev, .electure-next { /* force update, copied from viz.css */
        position: absolute;
        /* bottom: -12px; */
        top: -20px;
        /*bottom: '';*/
        padding: 3px 8px;
        background: #999;
        color: white;
        cursor: pointer;
        border-radius: 2px;
      }

      .electure-read-status {
        position: absolute;
        bottom: 4px;
        right: 4px;
        font-size: 14px;
        cursor: default;
        color: #00FF7F;
        display: none;
      }

      .electure-prev {
        left: -10px;
        /* right: 30px; */
      }
      .electure-next {
        right: -10px;
        color: white;
      }
      .electure-print, .electure-end {
        position: fixed;
        top: 45px;
        height: 20px;
        width: 17px;
        right: 80px;
        padding: 3px 8px;
        background: #999;
        color: white;
        cursor: pointer;
        border-radius: 2px;
        text-align: center;
      }
      .electure-end {
        right: 45px; /* beside the X */
      }

      #change-lang-popup {
        position: fixed;
        background: green;
        left: 40px;
        top: 50px;
        width: 250px;
        height: 125px;
        border: transparent;
        border-radius: 10px;
        padding: 10px 20px;
        z-index: 9000;
      }

      #change-lang-popup p {
        font-size: medium;
        color: white;
        line-height: 2;
        font-family: "PT Sans", sans-serif;
      }

      #change-lang-popup-btn {
        text-decoration: underline;
        margin-left: 50px;
      }

      #change-lang-popup-btn:hover {
        cursor: pointer;
      }

      #rotateDeviceOverlay {
        z-index: 10000;
        width: 90%;
        height: 100%;
        align-items: center;
        justify-content: center;
        background-color: white;
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        right: 0;
        display: flex;
        padding-right: 5%;
        padding-left: 5%;
        overflow: hidden;
      }

      #mobile-playback-overlay {
        z-index: 9600;
        width: 90%;
        height: 100%;
        align-items: center;
        justify-content: center;
        gap: 100px;
        background-color: black;
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        right: 0;
        display: flex;
        padding-right: 5%;
        padding-left: 5%;
        opacity: 0.3;
        overflow: hidden;
      }
      .mobile-playback-item {
        min-width: 2.5%;
        max-width: 35px;
      }
      .mobile-playback-item img {
        width: 100%
      }
      .mobile-playback-label {
        opacity: 0;
        color: white;
        font-size: 25px;
        font-weight: bold;
        min-width: 1.5%;
        max-width: 25px;
        transition: opacity 0.25s ease-out;
        -webkit-backface-visibility: hidden;
      }
      #mobile-playback-rewind-label {
        margin-right: -70px;
      }
      #mobile-playback-forward-label {
        margin-left: -70px;
      }
      #viz-speed-value {
          font-size: 15px;
          width: 10%;
      }

      #scale {
        position: fixed;
        left: 5px;
      }
    </style>
<style>
#create-userdefined-input input { width: 130px; }

text {
  fill: black;
  font: 20px sans-serif;
  text-anchor: middle;
}

text-alt {
  fill: black;
  font: 0px sans-serif;
  text-anchor: middle;
}

#viz-radix-sort-canvas {
  position: fixed;
  top: 40%;
  left: 50%;
  margin-top: -250px;
  margin-left: -500px;
  height: 500px;
  width: 1000px;
}

div .radix-sort-element {
  position: absolute;
  border: 1px solid black;
  width: 55px;
  font: 20px sans-serif;
  color: black;
}

#radix-sort-bucket-labels-collection {
  position: absolute;
  bottom: 100px;
  left: 0px;
}

.radix-sort-bucket-label {
  position: absolute;
  border-top: 1px solid black;
  width: 57px;
  font: 20px sans-serif;
  color: black;
}

#viz-counting-sort-secondary-canvas {
  position: relative;
  top: -160px;
}

#viz-sort-index-canvas {
  position: relative;
  top: -395px;
}

#sort-viz {
  width: 100%;
  text-align: center;
  overflow: hidden;
  padding-top: 10px;
}
</style>
<style>
/* copied here from common.css (perhaps need to use version numbering) until caches worldwide settles */
#reload-mobile-popup, #message-popup { /* #gdpr-popup, */
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  min-width: 320px;
  bottom: 62px;
  height: 300px;
  background-color: #0275d8;
  border-radius: 15px;
  padding: 30px 40px;
  z-index: 9500;
}
#reload-mobile-popup {
  background-color: green;
  height: 200px;
}
#message-popup {
  z-index: 9000;
  width: 40%;
  height: 130px;
  background-color: #d9534f;
}

#reload-mobile-popup p, #message-popup p { /* #gdpr-popup p, */
  font-size: large;
  color: white;
  line-height: 2;
  font-family: "PT Sans", sans-serif;
}

#reload-mobile-popup .inner-button, #message-popup .inner-button { /* #gdpr-popup .gdpr-button, */
  border: white solid 2px;
  border-radius: 4px;
  font-weight: bold;
  font-size: x-large;
  padding: 2px 8px;
  color: white;
  width: 90px;
  text-align: center;
  position: absolute;
  letter-spacing: 1px;
  text-decoration: none;
  cursor: pointer;
}

#gdpr-accept, #reload-mobile-button, #dismiss-message-btn {
  bottom: 30px;
  right: 40px;
}

#gdpr-reject, #cancel-reload-mobile-button {
  bottom: 30px;
  right: 170px;
}
    </style>
</head>
<body>
<div id="body-container" style="display: flex; flex-direction: column; min-height: 100vh;">
<style>
  #topbar {
    background-color: rgb(0,0,0);
    font-family: "PT Sans", sans-serif;
    font-size: 13px;
    height: 40px;

    padding-left: 40px;
    padding-right: 40px;

    display: flex;
    flex-wrap: wrap;
    align-items: center;
    position: relative;
    justify-content: flex-start;
  }

  #topbar a:hover {
    text-decoration: none;
  }

  #account-dropdown-btn {
    color: #198754;
    font-size: 1rem;
    padding: 0 0.5rem;
    margin-left: 0.5rem;

    border: 2px solid;
    border-radius: 0.25rem;
    height: 24px;
    line-height: 1.5;
  }

  #account-dropdown-btn:hover {
    color: #0a58ca!important;
    border-color: #198754;
    text-decoration: none;
  }

  #login-button {
    color: #198754;
    font-size: 1rem;
    padding: 0 0.5rem;
    margin-left: 0.5rem;

    border: 2px solid;
    border-radius: 0.25rem;

    height: 24px;
    line-height: 1.5;
  }

  #login-button a:hover {
    color: #0a58ca!important;
    text-decoration: none;
  }

  #account-dropdown-menu {
    display: none;
    position: absolute;
    background-color: white;
    z-index: 1000;
    min-width: 10rem;
    padding: 0.5rem 0;
    margin: 0;
    font-size: 1rem;
    color: rgb(0,0,0);
    text-align: left;
    list-style: none;
    background-clip: padding-box;
    border: 1px solid rgba(0,0,0,.15);
    border-radius: 0.25rem;
    top: 45px;
    right: 40px;
    line-height: 1.5;
  }

  .account-dropdown-item {
    display: block;
    width: auto;
    padding: 0.25rem 1rem;
    clear: both;
    font-weight: 400;
    color: rgb(0,0,0);
    text-align: inherit;
    text-decoration: none;
    white-space: nowrap;
    background-color: transparent;
    border: 0;
    height: 24px;
    font-family: SilkscreenNormal, sans-serif;
  }

  .account-dropdown-item:hover {
    background-color: #e9ecef;
    color: #0a58ca;
    text-decoration: none;
  }
</style>
<nav id="topbar">
<span style="margin-right: 0.25rem">
<a href="https://www.comp.nus.edu.sg/~stevenha" style="text-decoration: none; color: white">
<span class="colour" style="border: 1px solid; border-color: #198754!important; border-radius: .25rem!important">7</span>
</a>
<a href="https://visualgo.net" style="font-family: SilkscreenNormal,sans-serif; font-size: 20px; margin-left: 4px;">
<span style="color: white">Visu</span><span class="colour">Algo</span><span style="font-size: 40%; color: white">.net</span>
</a>
<span style="color: white">/</span>
<select id="Language" class="select2-dropdown" onchange="changeURL()">
<option value="en">en</option>
<option value="zh" selected>zh</option>
<option value="id">id</option>
</select>
<span style="color: white; font-family: monospace">/sorting</span>
</span>
<span style="max-height: 30px">
<span id="title">
<a id="title-Bubble" class="selected-viz">冒泡</a>
<a id="title-Selection">选择</a>
<a id="title-Insertion">插入</a>
<a id="title-Merge">归并</a>
<a id="title-Quick">快速</a>
<a id="title-RandomizedQuick">随机快速</a>
<a id="title-Counting">计数</a>
<a id="title-Radix">基数</a>
</span>
</span>
<span style="max-height: 30px; background-color:rgb(0,0,0)!important; color: white; margin-left: auto">
<div id="mode-menu">
<div id="mode-button" style="background-color: rgb(0,0,0)!important;" title="exploration">探索模式 &#9663;</div>
<div id="other-modes" style="background-color: rgb(0,0,0)!important; padding-top: 11px">
<a title="e-Lecture" style="background-color: rgb(0,0,0)!important;">电子讲座模式</a>
</div>
</div>
</span>
</span>
</nav>
<ul id="account-dropdown-menu">
<li><a class="account-dropdown-item" href="https://visualgo.net/profile">Profile</a></li>
<li><a class="account-dropdown-item" href="https://visualgo.net/training">Training</a></li>
<li><a class="account-dropdown-item" href="https://visualgo.net/tests">Tests</a></li>
<li><a class="account-dropdown-item" href="https://visualgo.net/logout">Log Out</a></li>
</ul>
<script>
  function changeURL() {
    let URL = window.location.href.split('/');
    URL[3] = document.getElementById("Language").value;
    window.location.assign(URL.join('/'));
  }

  function changeDefaultLanguageAndURL() {
    let URL = window.location.href.split('/');
    let val = document.getElementById("Language").value;
    URL[3] = val;

    let data = {
      '_token': "WtIPAnE7RYRxQ9DLF9hy2IhtEZVltGDiA8vkfkKi",
      'lang'  : val
    }
    $.post('https://visualgo.net/changeLanguage', data, function (res, status) {
      if(res['status'] === 'success') {
        window.location.assign(URL.join('/'));
      } else if (res['status'] === 'failed') {
        alert(res['message']);
      } else {
        alert('An unknown error occurred');
      }
    })
  }
</script>
<div id="dark-overlay"></div>
<div id="main-content-container" style="flex: 1">

<div id="mobile-playback-overlay" class="playing" style="display: none;">
<span id="mobile-playback-rewind-label" class="mobile-playback-label">-7</span>
<span id="mobile-playback-rewind" class="mobile-playback-item" onclick="mobilePlaybackRewind()"><img src="https://visualgo.net/img/prevFrame.png" alt="rewind 7 frames"></span>
<span id="mobile-playback-pause" class="mobile-playback-item" onclick="mobilePlaybackPauseOrPlay()"><img src="https://visualgo.net/img/pause.png" alt="pause"></span>
<span id="mobile-playback-play" class="mobile-playback-item" style="display: none;" onclick="mobilePlaybackPauseOrPlay()"><img src="https://visualgo.net/img/play.png" alt="play"></span>
<span id="mobile-playback-forward" class="mobile-playback-item" onclick="mobilePlaybackForward()"><img src="https://visualgo.net/img/nextFrame.png" alt="forward 7 frames"></span>
<span id="mobile-playback-forward-label" class="mobile-playback-label">+7</span>
</div>
<div id="status" class="panel"><p></p></div>
<div id="status-hide" class="panel-hide"><img src="https://visualgo.net/img/arrow_white_right.png" alt=">" title="show/hide status panel" /></div>
<div id="codetrace" class="panel">
<p id="code1" style="padding-top: 10px;"></p>
<p id="code2"></p>
<p id="code3"></p>
<p id="code4"></p>
<p id="code5"></p>
<p id="code6"></p>
<p id="code7" style="padding-bottom: 10px;"></p>
</div>
<div id="codetrace-hide" class="panel-hide"><img src="https://visualgo.net/img/arrow_white_right.png" alt=">" title="show/hide codetrace panel" /></div>
<div id="left-bar"></div>
<div id="right-bar"></div>
<div id="media-controls">
<div id="speed-control"><div id="speed-input"></div><div id="viz-speed-value">1x</div></div>
<span id="go-to-beginning" class="media-control-button" title="go to beginning" onclick="goToBeginning()"><img src="https://visualgo.net/img/goToBeginning.png" alt="go to beginning"></span>
<span id="previous" class="media-control-button" title="step backward" onclick="stepBackward()"><img src="https://visualgo.net/img/prevFrame.png" alt="previous frame"></span>
<span id="pause" class="media-control-button" title="pause" onclick="pause()"><img src="https://visualgo.net/img/pause.png" alt="pause"></span>
<span id="play" class="media-control-button" title="play" onclick="play()"><img src="https://visualgo.net/img/play.png" alt="play"></span>
<span id="next" class="media-control-button" title="step forward" onclick="stepForward()"><img src="https://visualgo.net/img/nextFrame.png" alt="next frame"></span>
<span id="go-to-end" class="media-control-button" title="go to end" onclick="goToEnd()"><img src="https://visualgo.net/img/goToEnd.png" alt="go to end"></span>
<div id="progress-bar" class="media-control-button"></div>
</div>
<div id="e-lecture" class="panel"></div> 
<div id="e-lecture-timeline"></div>
<div id="e-lecture-f1map">
<div class="e-lecture-f1map-sector" sectorNo="1"></div>
<div class="e-lecture-f1map-sector" sectorNo="2"></div>
<div class="e-lecture-f1map-sector" sectorNo="3"></div>
</div>
<div id="overlay" hidden onclick="end_eLecture()"> 
<div id="electure-dropdown">
<select class="lecture-dropdown" style="width:100%">
<option value="1">1. 排序问题和排序算法</option>
<option value="1-1">&nbsp;&nbsp;&nbsp;1-1. 动力 - 有趣的计算机科学想法</option>
<option value="1-2">&nbsp;&nbsp;&nbsp;1-2. 动力 - 应用</option>
<option value="1-3">&nbsp;&nbsp;&nbsp;1-3. 小提示<br></option>
<option value="2">2. 动作</option>
<option value="2-1">&nbsp;&nbsp;&nbsp;2-1. 定义你自己的输入</option>
<option value="2-2">&nbsp;&nbsp;&nbsp;2-2. 执行已选择的排序算法</option>
<option value="3">3. 可视化</option>
<option value="4">4. 常见的排序算法</option>
<option value="4-1">&nbsp;&nbsp;&nbsp;4-1. 缩写</option>
<option value="5">5. 3. O(N<sup><span style="white-space: normal;">2</span></sup>) 基于比较的排序算法</option>
<option value="6">6. 基础算法分析<br></option>
<option value="6-1">&nbsp;&nbsp;&nbsp;6-1. 数学预备知识</option>
<option value="6-2">&nbsp;&nbsp;&nbsp;6-2. 是什么？<br></option>
<option value="6-3">&nbsp;&nbsp;&nbsp;6-3. 测量实际运行时间？<br></option>
<option value="6-4">&nbsp;&nbsp;&nbsp;6-4. 数操作数（1）<br></option>
<option value="6-5">&nbsp;&nbsp;&nbsp;6-5. 数操作数（2）<br></option>
<option value="6-6">&nbsp;&nbsp;&nbsp;6-6. 渐进分析<br></option>
<option value="6-7">&nbsp;&nbsp;&nbsp;6-7. 忽略首项的系数<br></option>
<option value="6-8">&nbsp;&nbsp;&nbsp;6-8. 上限（Big-O 符号）<br></option>
<option value="6-9">&nbsp;&nbsp;&nbsp;6-9. Big-O 符号（数学上的）<br></option>
<option value="6-10">&nbsp;&nbsp;&nbsp;6-10. 增长项<br></option>
<option value="6-11">&nbsp;&nbsp;&nbsp;6-11. 增长项（可视化的/比较的）<br></option>
<option value="7">7. 冒泡排序</option>
<option value="7-1">&nbsp;&nbsp;&nbsp;7-1. 冒泡排序，伪代码 &amp; 分析</option>
<option value="7-2">&nbsp;&nbsp;&nbsp;7-2. 冒泡排序：提前终止</option>
<option value="7-3">&nbsp;&nbsp;&nbsp;7-3. 答案</option>
<option value="8">8. 选择排序</option>
<option value="8-1">&nbsp;&nbsp;&nbsp;8-1. 选择排序，伪代码 &amp; 分析</option>
<option value="8-2">&nbsp;&nbsp;&nbsp;8-2. 小测验</option>
<option value="9">9. 插入排序</option>
<option value="9-1">&nbsp;&nbsp;&nbsp;9-1. 插入排序，伪代码和分析 1</option>
<option value="9-2">&nbsp;&nbsp;&nbsp;9-2. 插入排序：分析 2</option>
<option value="9-3">&nbsp;&nbsp;&nbsp;9-3. 小测验</option>
<option value="10">10. 2.5 O(<b>N</b> log <b>N</b>) 基于比较的排序<br><div><br></div></option>
<option value="11">11. 归并排序</option>
<option value="11-1">&nbsp;&nbsp;&nbsp;11-1. 重要的子程序，O(N) 归并<br></option>
<option value="11-2">&nbsp;&nbsp;&nbsp;11-2. 合并子程序伪代码实现</option>
<option value="11-3">&nbsp;&nbsp;&nbsp;11-3. 分而治之的范例</option>
<option value="11-4">&nbsp;&nbsp;&nbsp;11-4. 归并排序是分而治之的算法</option>
<option value="11-5">&nbsp;&nbsp;&nbsp;11-5. 归并排序伪代码实现</option>
<option value="11-6">&nbsp;&nbsp;&nbsp;11-6. 示范</option>
<option value="11-7">&nbsp;&nbsp;&nbsp;11-7. 归并排序：分析 第一部分<br></option>
<option value="11-8">&nbsp;&nbsp;&nbsp;11-8. 归并排序：分析 第二部分<br></option>
<option value="11-9">&nbsp;&nbsp;&nbsp;11-9. 归并排序：分析 第三部分</option>
<option value="11-10">&nbsp;&nbsp;&nbsp;11-10. 优缺点</option>
<option value="11-11">&nbsp;&nbsp;&nbsp;11-11. 答案<br></option>
<option value="12">12. 快速排序</option>
<option value="12-1">&nbsp;&nbsp;&nbsp;12-1. 快速排序是分而治之的算法</option>
<option value="12-2">&nbsp;&nbsp;&nbsp;12-2. 重要的子程序，O(N) 分区<br></option>
<option value="12-3">&nbsp;&nbsp;&nbsp;12-3. 答案</option>
<option value="12-4">&nbsp;&nbsp;&nbsp;12-4. 分区排序 - 继续</option>
<option value="12-5">&nbsp;&nbsp;&nbsp;12-5. 分区 - 当 <span style="white-space: normal;">&nbsp;A</span><span style="white-space: normal;">[k] &gt; p</span><span style="white-space: normal;">&nbsp;的情况</span></option>
<option value="12-6">&nbsp;&nbsp;&nbsp;12-6. 分区 - 当 <span style="white-space-collapse: collapse;">&nbsp;A[k] &lt; p 的情况</span><br></option>
<option value="12-7">&nbsp;&nbsp;&nbsp;12-7. 分区伪代码实现</option>
<option value="12-8">&nbsp;&nbsp;&nbsp;12-8. 快速排序伪代码实现</option>
<option value="12-9">&nbsp;&nbsp;&nbsp;12-9. 示范</option>
<option value="12-10">&nbsp;&nbsp;&nbsp;12-10. 快速排序：分析 第一部分</option>
<option value="12-11">&nbsp;&nbsp;&nbsp;12-11. 快速排序：分析 第二部分</option>
<option value="12-12">&nbsp;&nbsp;&nbsp;12-12. 快速排序： 分析 第三部分</option>
<option value="12-13">&nbsp;&nbsp;&nbsp;12-13. 快速排序：最佳情况（极少）</option>
<option value="13">13. 随机快速排序</option>
<option value="13-1">&nbsp;&nbsp;&nbsp;13-1. 魔法般的分析</option>
<option value="13-2">&nbsp;&nbsp;&nbsp;13-2. 答案</option>
<option value="14">14. 2. O(N) 不基于比较的排序算法</option>
<option value="14-1">&nbsp;&nbsp;&nbsp;14-1. 排序算法的下限</option>
<option value="15">15. 计数排序</option>
<option value="16">16. 基数排序</option>
<option value="16-1">&nbsp;&nbsp;&nbsp;16-1. 最好的整数排序算法？</option>
<option value="16-2">&nbsp;&nbsp;&nbsp;16-2. 答案<br></option>
<option value="17">17. 排序算法的附加属性</option>
<option value="17-1">&nbsp;&nbsp;&nbsp;17-1. 就地 (in-place) 排序</option>
<option value="17-2">&nbsp;&nbsp;&nbsp;17-2. 稳定 (stable) 排序</option>
<option value="17-3">&nbsp;&nbsp;&nbsp;17-3. 缓存性能</option>
<option value="18">18. 小测验</option>
<option value="18-1">&nbsp;&nbsp;&nbsp;18-1. 小测验 #1</option>
<option value="18-2">&nbsp;&nbsp;&nbsp;18-2. 小测验 #2</option>
<option value="19">19. 附加功能</option>
<option value="19-1">&nbsp;&nbsp;&nbsp;19-1. 挑战</option>
<option value="19-2">&nbsp;&nbsp;&nbsp;19-2. 逆序数 / 逆序数对的个数</option>
<option value="19-3">&nbsp;&nbsp;&nbsp;19-3. 实现方法</option>
<option value="19-4">&nbsp;&nbsp;&nbsp;19-4. 在线测验</option>
<option value="19-5">&nbsp;&nbsp;&nbsp;19-5. 在线评估练习</option>
<option value="20">20. Detailed Analysis of Randomized Quicksort</option>
</select>
</div>
<div class="electure-print" title="Print the e-Lecture note" style="z-index=8001;">&#9997;</div>
<div class="electure-end" title="Close the e-Lecture mode" style="z-index=8001;">&#10008;</div>
</div>
<div id="dropdown-temp-holder" hidden></div>

<div id="electure-1" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<div>排序算法将一串数组（一个列表）中的元素（整数，数字，字符串等）按某种顺序（增大，减小，字典顺序等）重新排列。</div><div>有很多种不同的排序算法，每一种都有各自的优势和限制。</div><div>排序常常作为计算机课程中的介绍性问题，用以介绍一系列的算法思路。</div><div>不失普遍性，我们在此可视化中，只将（可能包含重复）的整数数组排序至非减。试试点击 <span class="slide-actions" onclick="doButtonAction11()">Bubble Sort</span> 来可视化五个（含重复项）的杂乱整数的排序。<br></div>
<div class="electure-addition">
<hr>
<p><b>Remarks</b>: By default, we show e-Lecture Mode for first time (or non logged-in) visitor.<br>
If you are an NUS student and a repeat visitor, please <a href="https://visualgo.net/login"><u>login</u></a>.</p>
</div>
<div class="electure-next" data-nextid="1-1" title="Go to the next slide 1-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-1-1" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>排序问题有许多有趣的算法解决方案，体现了许多计算机科学的思想：</p><ol><li><a href="?slide=5"><u>比较</u></a>和<a href="?slide=14"><u>非比较</u></a>的策略，</li><li>迭代与递归实现，</li><li>分治范式（例如，<a href="?slide=11-4"><u>归并排序</u></a>或<a href="?slide=12-1"><u>快速排序</u></a>），</li><li>最好/最坏/平均时间复杂度分析，</li><li><a href="?slide=13"><u>随机算法</u></a>等。</li></ol>
<div class="electure-addition">
<hr>
<p>Pro-tip 1: Since you are not <a href="https://visualgo.net/login"><u>logged-in</u></a>, you may be a first time visitor (or not an NUS student) who are not aware of the following keyboard shortcuts to navigate this e-Lecture mode: <b>[PageDown]</b>/<b>[PageUp]</b> to go to the next/previous slide, respectively, (and if the drop-down box is highlighted, you can also use <b>[&rarr; or &darr;/&larr; or &uarr;]</b> to do the same),and <b>[Esc]</b> to toggle between this e-Lecture mode and exploration mode.</p>
</div>
<div class="electure-prev" data-nextid="1" title="Go to the previous slide 1">&larr;</div>
<div class="electure-next" data-nextid="1-2" title="Go to the next slide 1-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-1-2" class="electure-dialog" style="top:70px;left:60px;width:500px;">
当（整数）数组 <b>A </b>有序时，涉及 <b>A </b>的许多问题变得简单（至少比原本简单）：<br><ol><li> 在数组 <b>A </b>中搜索特定值 <b>v</b>，<br></li><li> 查找（静态）数组 <b>A</b> 中的最小/最大/第 <b>k </b>个最小/最大值，<br></li><li> 测试唯一性并删除数组 <b>A </b>中的重复项，<br></li><li> 计算特定值 <b>v</b> 在数组 <b>A</b> 中出现多少次，<br></li><li> 设置数组 <b>A</b> 和另一个排序数组 <b>B</b> 之间的交集/联合，</li><li> 寻找一个目标对 <b>x∈A</b> 和 <b>y∈A</b>，使得 <b>x + y </b>等于目标 <b>z </b>等。</li><li> 计算在区间 [<b>lo</b>..<b>hi</b>] 内共计有多少个值。<br></li></ol>讨论：在现实课堂中，指导员可以详细阐述这些应用。
<div class="electure-addition">
<hr>
<p>Pro-tip 2: We designed this visualization and this e-Lecture mode to look good on 1366x768 resolution <b>or larger</b> (typical modern laptop resolution in 2021). We recommend using Google Chrome to access VisuAlgo. Go to full screen mode (<b>F11</b>) to enjoy this setup. However, you can use zoom-in (<b>Ctrl +</b>) or zoom-out (<b>Ctrl -</b>) to calibrate this.</p>
</div>
<div class="electure-prev" data-nextid="1-1" title="Go to the previous slide 1-1">&larr;</div>
<div class="electure-next" data-nextid="1-3" title="Go to the next slide 1-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-1-3" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
<hr>
<p>Pro-tip 3: Other than using the typical media UI at the bottom of the page, you can also control the animation playback using keyboard shortcuts (in Exploration Mode): <b>Spacebar</b> to play/pause/replay the animation, <b>&larr;</b>/<b>&rarr;</b> to step the animation backwards/forwards, respectively, and <b>-</b>/<b>+</b> to decrease/increase the animation speed, respectively.</p>
</div>
<div class="electure-prev" data-nextid="1-2" title="Go to the previous slide 1-2">&larr;</div>
<div class="electure-next" data-nextid="2" title="Go to the next slide 2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-2" class="electure-dialog" style="bottom:140px;left:60px;width:500px;">
在这个可视化中，你可以做两件事。<br>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="1-3" title="Go to the previous slide 1-3">&larr;</div>
<div class="electure-next" data-nextid="2-1" title="Go to the next slide 2-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-2-1" class="electure-dialog" style="bottom:140px;left:60px;width:500px;">
第一步是关于定义你自己的输入，一个数组/一个列表是：<br><ol><li> 完全随机的</li><li> 随机但有序的（按升序/降序排列） </li><li> 随机但几乎有序的（按升序/降序排列）</li><li>随机但包含许多重复项（因此在小范围的整数内）<br></li><li> 完全由你自己定义。<br></li></ol><div>在探索模式下，您可以尝试使用此可视化中提供的各种排序算法来找出最佳和最差情况的输入。<br></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="2" title="Go to the previous slide 2">&larr;</div>
<div class="electure-next" data-nextid="2-2" title="Go to the next slide 2-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-2-2" class="electure-dialog" style="bottom:140px;left:60px;width:500px;">
<p>第二个操作是最重要的操作：通过单击“Sort”按钮来执行排序算法。<br></p><p>需要注意的是，你可以通过切换页面顶部的算法缩写来切换当前算法。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="2-1" title="Go to the previous slide 2-1">&larr;</div>
<div class="electure-next" data-nextid="3" title="Go to the next slide 3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-3" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
在此处查看所选排序算法的可视化/动画。<div>不失一般性，我们在可视化中只展示整数，而我们的目标是把它们从初始数列排序至非减数列。需要注意的是，非减数列绝大多数情况下意味着递增数列，但是存在有重复元素的可能性，有可能相邻元素之间会相等。</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="2-2" title="Go to the previous slide 2-2">&larr;</div>
<div class="electure-next" data-nextid="4" title="Go to the next slide 4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-4" class="electure-dialog" style="top:70px;left:220px;width:500px;">
<div>你能在顶部找到计算机课上常见的几种排序算法。你可以在点击“Sort”之前，通过选择相应的算法缩写来激活不同的算法。</div><div>为了使我们的课堂更多样，我们在页面加载时会随机选择一个算法。</div><div>这门课中前六个算法是<b>基于排序</b>的，而后两个不是。我们会在这个电子讲座中讨论这个想法。</div><div>中间的三个算法是递归的，而其他的算法常常基于迭代实现。<br></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="3" title="Go to the previous slide 3">&larr;</div>
<div class="electure-next" data-nextid="4-1" title="Go to the next slide 4-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-4-1" class="electure-dialog" style="top:70px;left:220px;width:500px;">
<p>为了节省屏幕空间，我们将算法名称缩写为三个字符:</p><ol><li>基于比较的排序算法:<ol><li>BUB - 冒泡排序，</li><li>SEL - 选择排序，</li><li>INS - 插入排序，</li><li>MER - 归并排序 (递归实现)，</li><li>QUI - 快速排序 (递归实现)，</li><li>R-Q - 随机快速排序 (递归实现)</li></ol></li><li>不基于比较的排序算法:<ol><li>COU - 计数排序，</li><li>RAD - 基数排序</li></ol></li></ol>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="4" title="Go to the previous slide 4">&larr;</div>
<div class="electure-next" data-nextid="5" title="Go to the next slide 5">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-5" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>在接下来的幻灯片，我们将讨论三种基于比较的排序算法</p><div><ol><li><a href="?slide=7"><u>冒泡排序</u></a><br></li><li><a href="?slide=8"><u>选择排序</u></a><br></li><li><a href="?slide=9"><u>插入排序</u></a><br></li></ol></div><div>它们被称为基于比较的算法，因为它们比较数组的元素对并决定是否交换它们。<br>这三种排序算法最容易实现，但不是效率最高的，因为它们的时间复杂度是O（N<sup>2</sup>)。</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="4-1" title="Go to the previous slide 4-1">&larr;</div>
<div class="electure-next" data-nextid="6" title="Go to the next slide 6">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div>在我们开始各种排序算法的讨论之前，或许先讨论渐进算法的分析能帮助你理解后面要提到的各种 O(<b>N<sup>2</sup></b>)，O(<b>N</b> log <b>N</b>)，和特殊的 O(<b>N</b>) 的排序算法。</div><div>如果你对这方面知识已有了解，可跳过此小节。<br></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="5" title="Go to the previous slide 5">&larr;</div>
<div class="electure-next" data-nextid="6-1" title="Go to the next slide 6-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-1" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>你应该已经了解下列知识：<br>-. 对数和指数, e.g., log<sub>2</sub>(1024) = 10, 2<sup>10</sup> = 1024<br>-. 等差数列, e.g., 1+2+3+4+…+10 = 10*11/2 = 55<br>-. 等比数列, e.g., 1+2+4+8+..+1024 = 1*(1-2<sup>11</sup>)/(1-2) = 2047<br>-. 线性/二次/三次函数, e.g., f1(x) = x+2, f2(x) = x<sup>2</sup>+x-1, f3(x) = x<sup>3</sup>+2x<sup>2</sup>-x+7<br>-. 向上取整 (ceiling), 向下取整 (floor) , 和绝对值 (absolute) 函数, e.g., ceil(3.1) = 4, floor(3.1) = 3, abs(-7) = 7</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6" title="Go to the previous slide 6">&larr;</div>
<div class="electure-next" data-nextid="6-2" title="Go to the next slide 6-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-2" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div>算法的分析是一个严谨分析算法所需资源（时间和空间）并用简单公式表示结果的过程。</div><div>算法所需的时间/空间也被分别称为算法的时间/空间复杂度。</div><div>在本课中，我们会更注重各排序算法的时间要求。<br></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-1" title="Go to the previous slide 6-1">&larr;</div>
<div class="electure-next" data-nextid="6-3" title="Go to the next slide 6-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-3" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>我们可以通过使用墙钟时间或在我们的程序中插入时间测量代码来测量程序的实际运行时间，例如，参见 <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SpeedTest.cpp" target="_blank"><u>SpeedTest.cpp</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SpeedTest.py" target="_blank"><u>py</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SpeedTest.java" target="_blank"><u>java</u></a> 中显示的代码。</p><br><p>然而，实际运行时间在比较两种算法时并没有意义，因为它们可能是用不同的语言编写的，使用不同的数据集，或在不同的计算机上运行。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-2" title="Go to the previous slide 6-2">&larr;</div>
<div class="electure-next" data-nextid="6-4" title="Go to the next slide 6-4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-4" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>我们不是测量实际的时间，而是计算操作的数量（算术，赋值，比较等）。这是一种评估其效率的方法，因为算法的执行时间与它所需的操作数量有关。</p><br><p>请参阅在 <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SpeedTest.cpp" target="_blank"><u>SpeedTest.cpp</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SpeedTest.py" target="_blank"><u>py</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SpeedTest.java" target="_blank"><u>java</u></a> 中显示的代码和评论（特别是如何获得变量计数器的最终值）。</p><br><p>知道算法需要的操作数量（精确），我们可以这样说：算法 <b>X </b>需要 <b>2n<sup>2</sup> + 100n </b>次操作来解决大小为 <b>n </b>的问题。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-3" title="Go to the previous slide 6-3">&larr;</div>
<div class="electure-next" data-nextid="6-5" title="Go to the next slide 6-5">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-5" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>如果已知一次操作所需的时间<b>t</b>，那么我们可以说算法<b>X</b>需要<b>(2n<sup>2</sup> + 100n)t</b>时间单位来解决大小为<b>n</b>的问题。</p><br><p>然而，时间<b>t</b>取决于前面提到的因素，例如，不同的语言、编译器和计算机，操作本身的复杂性（加法/减法比乘法/除法更容易/更快地计算），等等。</p><br><p>因此，我们可以说，算法<b>X</b>解决大小为<b>n</b>的问题所需的时间<b>与2n<sup>2</sup> + 100n成比例</b>，而不是将分析与实际时间<b>t</b>绑定在一起。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-4" title="Go to the previous slide 6-4">&larr;</div>
<div class="electure-next" data-nextid="6-6" title="Go to the next slide 6-6">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-6" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p><a href="https://www.collinsdictionary.com/dictionary/english/asymptotic" target="_blank"><u>渐近</u></a>分析是一种专注于分析<b>大输入大小n</b>问题的算法分析，只考虑公式的<b>主导项</b>，并<b>忽略主导项的系数</b>。</p><br><p>我们选择主导项，因为随着输入的增大，低阶项对总体成本的贡献较小，例如，对于f(n) = 2n<sup>2</sup> + 100n，我们有：<br>f(1000) = 2*1000<sup>2</sup> + 100*1000 = 2.1M，相比之下<br>f(100000) = 2*100000<sup>2</sup> + 100*100000 = 20010M。<br>(注意，低阶项100n的贡献较小)。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-5" title="Go to the previous slide 6-5">&larr;</div>
<div class="electure-next" data-nextid="6-7" title="Go to the next slide 6-7">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-7" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div>假设两个算法分别有 2n<sup>2</sup> and 30n<sup>2</sup> 的首项。</div><div>虽然实际时间会因常数不同而不同，但它们的增长率 (growth rate) 是一样的。</div><div>相比于另一个首项为 n<sup>3</sup> 的算法，增长率的不同才是更重要的决定因素。</div><div>因此，我们在学习算法复杂度的时候可以不用在意首项的系数。<br></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-6" title="Go to the previous slide 6-6">&larr;</div>
<div class="electure-next" data-nextid="6-8" title="Go to the next slide 6-8">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-8" class="electure-dialog" style="top:70px;left:60px;width:500px;">
如果算法 A 需要正比于 f(n) 的时间，则算法 A 和 f(n) 等阶。<p>写作算法 A 有时间复杂度 O(f(n))，其中 f(n) 是算法 A 的增长率函数。<br></p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-7" title="Go to the previous slide 6-7">&larr;</div>
<div class="electure-next" data-nextid="6-9" title="Go to the next slide 6-9">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-9" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div>数学上来说，对于一个算法 A ，当存在常数 k，正整数 n<sub>0</sub> 使得 A 解决大小为 n (<b>n ≥ n<sub>0</sub></b>) 的问题时话费的时间不超过 <b>k*f(n)</b>，那么我们认为 A 是一个 O(<b>f(n)</b>) 的算法。也就是说，当问题大小大于 <b>n<sub>0</sub></b>，算法 A 不超过 <b>k*f(n)</b> 时间。</div><div><br></div><div>注意：<b>n<sub>0</sub></b> 和 <b>k</b> 不唯一，可能存在很多可能的有效 <b>f(n)</b>。<br></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-8" title="Go to the previous slide 6-8">&larr;</div>
<div class="electure-next" data-nextid="6-10" title="Go to the next slide 6-10">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-10" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div>在渐进分析 (asymptotic analysis) 中，一个公式能被简化为系数为1的单项。</div><div>这一项被称为增长项 (growth term)，其中包含了增长率 (rate of growth)，增长次幂 (order of growth)，数量级(order of magnitude) 信息。</div><div>最常见的增长项从快到慢依次是：</div><div>O(<b>1</b>)/常数时间 &lt; O(log <b>n</b>)/对数时间 &lt; O(<b>n</b>)/线性时间 &lt; O(<b>n</b> log <b>n</b>)/准线性时间 &lt; O(<b>n</b><sup>2</sup>)/二次时间 &lt; O(<b>n</b><sup>3</sup>)/三次时间 &lt;<br>O(2<sup><b>n</b></sup>)/指数时间 &lt; O(<b>n</b>!)/同样指数时间 &lt; ∞ (如死循环).</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-9" title="Go to the previous slide 6-9">&larr;</div>
<div class="electure-next" data-nextid="6-11" title="Go to the next slide 6-11">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-6-11" class="electure-dialog" style="top:70px;left:60px;width:500px;">
我们在接下来的排序课程中会看到三种不同的增长率：O(<b>n<sup>2</sup></b>), O(<b>n log n</b>), 和 O(<b>n</b>)。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-10" title="Go to the previous slide 6-10">&larr;</div>
<div class="electure-next" data-nextid="7" title="Go to the next slide 7">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
给定一个 <b>N</b> 个元素的数组，冒泡法排序将：<br><ol><li>比较一对相邻元素（a，b），</li><li>如果两项的大小关系不正确，交换这两个数（在本例中为a &gt; b），</li><li>重复步骤1和2，直到我们到达数组的末尾（最后一对是第 <b>N-2</b> 和<b> N-1</b> 项，因为我们的数组从零开始）</li><li>到目前为止，最大项将在最后的位置。 然后我们将 <b>N</b> 减少1，并重复步骤1，直到 <b>N = 1</b>。<br></li></ol>不用多说，我们来试试上面的小例子 <span class="slide-actions" onclick="doButtonAction11()">Bubble Sort</span> 。<br>如果您想象较大的项目“冒泡”（也就是“浮动到数组的右侧”），则应该能看到到一个“气泡式”动画。<br>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="6-11" title="Go to the previous slide 6-11">&larr;</div>
<div class="electure-next" data-nextid="7-1" title="Go to the next slide 7-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-1" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<pre>method bubbleSort(array A, integer N) // 标准版本<br>  for each R from N-1 down to 1 // 重复 N-1 次迭代<br>    for each index i in [0..R-1] // &#39;未排序区域&#39;，O(N)<br>      if A[i] &gt; A[i+1] // 这两个不是非递减顺序<br>        swap(a[i], a[i+1]) // 在 O(1) 中交换它们</pre><p>比较和交换需要的时间由一个常数限制，我们称之为 <b>c</b>。然后，在（标准）冒泡排序中有两个嵌套循环。外循环正好运行 <b>N-1</b> 次迭代。但是内循环的运行时间越来越短：</p><ol><li>当 R=<b>N</b>-1 时，(<b>N</b>−1) 次迭代（比较和交换），</li><li>当 R=<b>N</b>-2 时，(<b>N</b>−2) 次迭代，<br>...，</li><li>当 R=1 时，1 次迭代（然后完成）。</li></ol><p>因此，总的迭代次数 = (<b>N</b>−1)+(<b>N</b>−2)+...+1 = <b>N</b>*(<b>N</b>−1)/2 (<a href="https://en.wikipedia.org/wiki/Arithmetic_progression#Sum" target="_blank"><u>推导</u></a>).</p><p>总时间 = c*<b>N</b>*(<b>N</b>−1)/2 = O(<b>N</b>^2).</p><br><p>请参阅在 <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.cpp" target="_blank"><u>SortingDemo.cpp</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.py" target="_blank"><u>py</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.java" target="_blank"><u>java</u></a> 中显示的代码。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7" title="Go to the previous slide 7">&larr;</div>
<div class="electure-next" data-nextid="7-2" title="Go to the next slide 7-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-2" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>冒泡排序实际上效率低下，其<b>O(N^2)</b>时间复杂度。想象一下，我们有<b>N</b> = 10<sup>5</sup>个数字。即使我们的计算机超级快，能在1秒内计算10<sup>8</sup>次操作，冒泡排序也需要大约100秒才能完成。</p><br><p>然而，它可以提前终止，例如，在上面显示的小型升序排序示例 [3, 6, 11, 25, 39]中，<span class="slide-actions" onclick="doButtonAction11()">Bubble Sort</span>可以在O(<b>N</b>)时间内终止。</p><br><p>改进的想法很简单：如果我们在内循环中<b>没有交换</b>，那就意味着数组<b>已经排序</b>，我们可以在那个点停止冒泡排序。</p><br><p>讨论：尽管这使冒泡排序在一般情况下运行得更快，但这个改进的想法并没有改变冒泡排序的<b>O(N^2)</b>时间复杂度...为什么呢？</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-1" title="Go to the previous slide 7-1">&larr;</div>
<div class="electure-next" data-nextid="7-3" title="Go to the next slide 7-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-7-3" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-2" title="Go to the previous slide 7-2">&larr;</div>
<div class="electure-next" data-nextid="8" title="Go to the next slide 8">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-8" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
给定 <b>N</b> 个项目和 <b>L = 0</b> 的数组，选择排序将：<br><ol><li>在 <b>[L ... N-1] </b>范围内找出最小项目 <b>X </b>的位置，<br></li><li>用第 <b>L</b> 项交换第 <b>X</b> 项，<br></li><li>将下限 <b>L</b> 增加1并重复步骤1直到 <b>L = N-2</b>。<br></li></ol>让我们在上面的同一个小示例数组上尝试 <span class="slide-actions" onclick="doButtonAction8()">Selection Sort</span>。<br>在不失普遍性的情况下，我们也可以实现反向的选择排序：找到最大项目 <b>Y </b>的位置并将其与末项交换。<br>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="7-3" title="Go to the previous slide 7-3">&larr;</div>
<div class="electure-next" data-nextid="8-1" title="Go to the next slide 8-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-8-1" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<pre>method selectionSort(array A[], integer N)<br>  for each L in [0..N-2] // O(<b>N</b>)<br>    let X be the index of the minimum element in A[L..N-1] // O(<b>N</b>)<br>    swap(A[X], A[L]) // O(1)，X 可能等于 L (没有实际交换)</pre><p>总计: O(<b>N</b><sup>2</sup>) — 准确地说，它类似于<a href="?slide=7-1"><u>冒泡排序分析</u></a>。</p><br><p>请参阅在<a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.cpp" target="_blank"><u>SortingDemo.cpp</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.py" target="_blank"><u>py</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.java" target="_blank"><u>java</u></a>中显示的代码。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="8" title="Go to the previous slide 8">&larr;</div>
<div class="electure-next" data-nextid="8-2" title="Go to the next slide 8-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-8-2" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<span style="white-space: normal;"><input class="mcq-answer" id="mcq-answer-4" value="26" hidden><p>Quiz: <b>How many (real) swaps are required to sort [29, 10, 14, 37, 13] by Selection Sort?</b></p><form><input type="radio" name="mcq-4-choice" value="24"> 1<br><input type="radio" name="mcq-4-choice" value="26"> 3<br><input type="radio" name="mcq-4-choice" value="25"> 2<br><input type="radio" name="mcq-4-choice" value="27"> 4<br></form><button class="mcq-submit" id="submit-4">Submit</button> <span id="answer-status-4"></span><br></span>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="8-1" title="Go to the previous slide 8-1">&larr;</div>
<div class="electure-next" data-nextid="9" title="Go to the next slide 9">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-9" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>插入排序类似于大多数人整理扑克牌的方式。<img src="https://puu.sh/vfi6a/e532309371.png" alt="Poker hand"></p><ol><li>手里只拿一张牌，</li><li>拿下一张牌并将其插入到正确的排序位置，</li><li>对所有牌重复上一步。</li></ol><p class="notforprint">让我们尝试在小示例数组 [40, 13, 20, 8] 上使用 <span class="slide-actions" onclick="doButtonAction10()">Insertion Sort</span>。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="8-2" title="Go to the previous slide 8-2">&larr;</div>
<div class="electure-next" data-nextid="9-1" title="Go to the next slide 9-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-9-1" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<pre>method insertionSort(array A[], integer N)<br>  for i in [1..N-1] // O(N)<br>    let X be A[i] // X is the next item to be inserted into A[0..i-1]<br>    for j from i-1 down to 0 // this loop can be fast or slow<br>      if A[j] &gt; X<br>        A[j+1] = A[j] // make a place for X<br>      else<br>        break<br>    A[j+1] = X // insert X at index j+1</pre><p>See the code shown in <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.cpp" target="_blank"><u>SortingDemo.cpp</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.py" target="_blank"><u>py</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.java" target="_blank"><u>java</u></a>.</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="9" title="Go to the previous slide 9">&larr;</div>
<div class="electure-next" data-nextid="9-2" title="Go to the next slide 9-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-9-2" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
外循环执行 <b>N-1</b> 次，这很明显。<br>但内循环执行的次数取决于输入：<br><ol><li>在最好的情况下，数组已经排序并且 (a [j]&gt; X) 总是为假。所以不需要移位数据，并且内部循环在O（1）时间内运行，<br></li><li>在最坏的情况下，数组被反向排序并且 (a [j]&gt; X) 总是为真。插入始终发生在数组的前端，并且内部循环在O（<b>N</b>）时间内运行。<br></li></ol><div>因此，最佳情况时间是<span style="white-space: normal;">O(</span><b style="white-space: normal;">N × 1</b><span style="white-space: normal;">) = O(</span><b style="white-space: normal;">N</b><span style="white-space: normal;">)&nbsp;</span>，最坏情况时间是<span style="white-space: normal;">O(</span><b style="white-space: normal;">N × N</b><span style="white-space: normal;">) = O(</span><b style="white-space: normal;">N</b><sup style="white-space: normal;">2</sup><span style="white-space: normal;">).</span><br></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="9-1" title="Go to the previous slide 9-1">&larr;</div>
<div class="electure-next" data-nextid="9-3" title="Go to the next slide 9-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-9-3" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<input class="mcq-answer" id="mcq-answer-5" value="31" hidden><p>Quiz: <b>What is the complexity of Insertion Sort on any input array?</b></p><form><input type="radio" name="mcq-5-choice" value="30"> O(N log N)<br><input type="radio" name="mcq-5-choice" value="29"> O(N)<br><input type="radio" name="mcq-5-choice" value="31"> O(N^2)<br><input type="radio" name="mcq-5-choice" value="28"> O(1)<br></form><button class="mcq-submit" id="submit-5">Submit</button> <span id="answer-status-5"></span><br>如果你对这个还不是很清楚，请教你的指导员或者在<a href="?slide=11-10"><u>这个页面</u></a>阅读相关的评述。<br>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="9-2" title="Go to the previous slide 9-2">&larr;</div>
<div class="electure-next" data-nextid="10" title="Go to the next slide 10">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-10" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>我们将在接下来的几张幻灯片中讨论两种基于比较的排序算法：<br></p><ol><li><a href="?slide=11"><u>归并排序</u></a>，<br></li><li><a href="?slide=12"><u>快速排序</u></a>和它的<a href="?slide=13"><u>随机版本</u></a>（只有一个变化）。<br></li></ol><div>这些排序算法通常以递归方式实现，使用分而治之的问题解决范例，并且只需 O(<b>N</b> log <b>N</b>) 的时间来运行归并排序，只需 O(<b>N</b> log <b>N</b>) 的时间期望运行随机快速排序。<br>PS：尽管如此，非随机版本的快速排序（Quick Sort）需要 <span style="white-space: normal;">O(</span><b style="white-space: normal;">N<sup>2</sup></b><span style="white-space: normal;">) 时间来运行</span>。</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="9-3" title="Go to the previous slide 9-3">&larr;</div>
<div class="electure-next" data-nextid="11" title="Go to the next slide 11">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
给定一个 <b>N</b> 个项目的数组，归并排序将：<br><ol><li>将每对单个元素（默认情况下，已排序）归并为2个元素的有序数组，<br></li><li>将2个元素的每对有序数组归并成4个元素的有序数组，重复这个过程......，<br></li><li>最后一步：归并2个N / 2元素的排序数组（为了简化讨论，我们假设N是偶数）以获得完全排序的N个元素数组。</li></ol><div>这只是一般的想法，在我们可以讨论归并排序的真正形式之前，我们需要更多的细节。<br></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="10" title="Go to the previous slide 10">&larr;</div>
<div class="electure-next" data-nextid="11-1" title="Go to the next slide 11-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-1" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
我们首先从归并排序算法的最重要的子程序 -- O(<b>N</b>) 归并来剖析这个归并排序算法。<br>给定两个大小分别为 <b>N<sub>1</sub></b> 和 <b>N<sub>2</sub></b> 的排序数组 <b>A </b>和 <b>B</b>，我们可以在O(<b>N</b>) 时间内将它们有效地归并成一个大小为 <b>N</b> = <b>N<sub>1</sub></b> + <b>N<sub>2</sub></b>的组合排序数组。<br>这是通过简单地比较两个数组的首项并始终取两个中较小的一个来实现的。 但是，这个简单但快速的O(<b>N</b>)合并子程序将需要额外的数组来正确合并。 <br>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11" title="Go to the previous slide 11">&larr;</div>
<div class="electure-next" data-nextid="11-2" title="Go to the next slide 11-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-2" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<pre>method merge(array A, integer low, integer mid, integer high)<br>  // 子数组1 = a[low..mid], 子数组2 = a[mid+1..high], 都已排序<br>  int N = high-low+1<br>  create array B of size N // 讨论：为什么我们需要一个临时数组b？<br>  int left = low, right = mid+1, bIdx = 0<br>  while (left &lt;= mid &amp;&amp; right &lt;= high) // 合并过程<br>    if (A[left] &lt;= A[right])<br>      B[bIdx++] = A[left++] <br>    else<br>      B[bIdx++] = A[right++]<br>  while (left &lt;= mid)<br>    B[bIdx++] = A[left++] // 剩余部分，如果有的话<br>  while (right &lt;= high)<br>    B[bIdx++] = A[right++] // 剩余部分，如果有的话<br>  for (int k = 0; k &lt; N; ++k)<br>    A[low+k] = B[k]; // 复制回去</pre><p class="notforprint">尝试在示例数组 [1, 5, 19, 20, 2, 11, 15, 17] 上使用 <span class="slide-actions" onclick="doButtonAction12()">Merge Sort</span>，该数组的前半部分已经排序 [1, 5, 19, 20]，其后半部分也已经排序 [2, 11, 15, 17]。请集中注意力在归并排序算法的最后一次合并。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-1" title="Go to the previous slide 11-1">&larr;</div>
<div class="electure-next" data-nextid="11-3" title="Go to the next slide 11-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-3" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
在我们继续之前，让我们先谈谈分而治之（Divide and Conquer，缩写为D＆C），这是一个强大的解决问题的范例。<br>分而治之算法通过以下步骤解决（某种类型的）问题 - 比如我们的排序问题：<br><ol><li>划分步骤：将大的原始问题划分成较小的子问题并递归地解决较小的子问题，<br></li><li>解决步骤：结合较小的子问题的结果来解决较大的原始问题。<br></li></ol>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-2" title="Go to the previous slide 11-2">&larr;</div>
<div class="electure-next" data-nextid="11-4" title="Go to the next slide 11-4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-4" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>归并并排序是分而治之的排序算法。<br>划分步骤很简单：将当前数组分成两半（如果 <b>N</b> 是偶数，则将其完全平等，或者如果 <b>N </b>是奇数，则一边多一项），然后递归地对这两半进行排序。<br>解决步骤是主要的工作：使用<a href="?slide=11-2"><u>前面讨论的</u></a>归并子程序合并两个（排序的）半部分以形成一个有序数组。<br></p><p></p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-3" title="Go to the previous slide 11-3">&larr;</div>
<div class="electure-next" data-nextid="11-5" title="Go to the next slide 11-5">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-5" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<pre>method mergeSort(array A, integer low, integer high)<br>  // 要排序的数组是 A[low..high]<br>  if (low &lt; high) // 基本情况：low &gt;= high (0 或 1 个项目)<br>    int mid = (low+high) / 2	<br>    mergeSort(a, low  , mid ) // 分成两半<br>    mergeSort(a, mid+1, high) // 然后递归排序它们<br>    merge(a, low, mid, high) // 征服：合并子程序</pre><p>请参阅在<a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.cpp" target="_blank"><u>SortingDemo.cpp</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.py" target="_blank"><u>py</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.java" target="_blank"><u>java</u></a>中显示的代码。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-4" title="Go to the previous slide 11-4">&larr;</div>
<div class="electure-next" data-nextid="11-6" title="Go to the next slide 11-6">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-6" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
与许多其他CS打印的教科书通常显示的相反（因为教科书是静态的），归并排序的实际执行不会一层一层地分成两个子数组，而是会在处理正确的子数组之前递归地排序左边的子数组。<br>就是这样，在示例数组<span style="white-space: normal;">&nbsp;[7, 2, 6, 3, 8, 4, 5]&nbsp;</span>上尝试<span class="slide-actions" onclick="doButtonAction12()">Merge Sort</span>，它将递归计算 [7, 2, 6, 3]，然后是 [7, 2]，然后是 [7]（单个元素，默认排序），回溯，递归到 [2]（默认排序），回溯，然后在继续处理 [6, 3] 等等之前，将 [7, 2] 合并到 [2, 7] 中。<br>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-5" title="Go to the previous slide 11-5">&larr;</div>
<div class="electure-next" data-nextid="11-7" title="Go to the next slide 11-7">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-7" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
在归并排序中，大部分工作是在解决/归并的步骤中完成的，因为分解步骤并没有真正执行任何操作（视为O(1)）。<br>当我们调用 <samp>merge(a, low, mid, high)的</samp>时候，我们处理<b> k = high - low + 1</b> 项。 最多会有 <b>k-1 </b>次比较。 从原始数组 <b>a </b>到临时数组 <b>b </b>有 <b>k </b>次移动，而又有 <b>k</b> 次从 <b>b</b> 移回 <b>a</b>。 总的来说，归并子例程内的操作次数 &lt; 3<b>k</b>-1 = O(<b>k</b>)。<br>重要的问题是这个 <samp>merge</samp>（归并）子程序被调用了多少次？<br>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-6" title="Go to the previous slide 11-6">&larr;</div>
<div class="electure-next" data-nextid="11-8" title="Go to the next slide 11-8">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-8" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<img src="https://visualgo.net/img/merge.png" alt="The Recursion Tree of Merge Sort" width="500">
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-7" title="Go to the previous slide 11-7">&larr;</div>
<div class="electure-next" data-nextid="11-9" title="Go to the next slide 11-9">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-9" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<div>第一层：2<sup>0</sup> = 1 次调用 merge( )，每次包含 <b>N</b> / 2<sup>1</sup> 个项目，时间复杂度 O（2<sup>0</sup> x 2 x <b>N</b> / 2<sup>1</sup>）= O(<b>N</b>)</div><div>第二层：2<sup>1</sup> = 1 次调用 merge( )，每次包含 <b>N</b> / 2<sup>2</sup> 个项目，时间复杂度 O（2<sup>1</sup> x 2 x <b>N</b> / 2<sup>2</sup>）= O(<b>N</b>)</div><div>第三层：2<sup>2</sup> = 1 次调用 merge( )，每次包含 <b>N</b> / 2<sup>3</sup> 个项目，时间复杂度 O（2<sup>2</sup> x 2 x <b>N</b> / 2<sup>3</sup>）= O(<b>N</b>)</div><div>...</div><div>第 log <b>N</b> 层：2 ^（log <b>N-1</b>）（或N / 2）调用merge( ) ），其中N / 2 ^ log N（或1）个项目，O（N）</div><div>第 log <b>N</b> 层：2<sup>log<b>N</b> - 1</sup> = 1 次调用 merge( )，每次包含 <b>N</b> / 2<sup>log<b>N</b></sup> （或1）个项目，时间复杂度 O（2<sup>2</sup> x 2 x <b>N</b> / 2<sup>3</sup>）= O(<b>N</b>)</div><div>共计有 log <b>N </b>层，每层工作量都为 O(<b>N</b>) ，因此总体时间复杂度为 O(<b>N</b> log <b>N</b>)。 稍后我们会看到这是在基于比较的排序算法中最佳的一种，即我们无法做得比这更好。<br></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-8" title="Go to the previous slide 11-8">&larr;</div>
<div class="electure-next" data-nextid="11-10" title="Go to the next slide 11-10">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-10" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>无论输入的原始顺序如何，归并排序中最重要的部分是其O（<b>N</b> log <b>N</b>）性能保证。 就这样，没有任何针对性的测试用例可以使归并排序对于N个元素数组运行比O（<b>N</b> log <b>N</b>）更长的时间。<br>因此，归并排序非常适合大数组的排序，因为O（<b>N</b> log <b>N</b>）比<a href="?slide=5"><u>前面讨论的</u></a>O（<b>N<sup>2</sup></b>）排序算法增长得慢得多。<br>然而，归并排序有几个不太好的部分。 首先，从零开始实现并不容易（虽然<a href="?slide=19-3"><u>我们不必这样做</u></a>）。 其次，它在<a href="?slide=11-2"><u>归并操作</u></a>期间需要额外的O（<b>N</b>）内存，因此会占用额外内存并且不是<a href="?slide=17-1"><u>就地的 (in-place)</u></a>。顺便说一句，如果你有兴趣看看为解决这些（经典）归并排序不那么好的部分做了什么，你可以阅读<a href="https://en.wikipedia.org/wiki/Merge_sort#Variants" target="_blank"><u>这个</u></a>。</p><p>归并排序也是一个<a href="?slide=17-2"><u>稳定 (stable) 的排序</u></a>算法。 讨论：为什么？</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-9" title="Go to the previous slide 11-9">&larr;</div>
<div class="electure-next" data-nextid="11-11" title="Go to the next slide 11-11">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-11-11" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-10" title="Go to the previous slide 11-10">&larr;</div>
<div class="electure-next" data-nextid="12" title="Go to the next slide 12">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>快速排序是另一个分而治之的排序算法（另一个在这个可视化页面中讨论的是<a href="?slide=11"><u>归并排序</u></a>）。<br>在继续<a href="?slide=13"><u>随机化</u></a>和可用版本的快速排序之前，我们将看到，这种确定性的，非随机化的快速排序的版本可能在针对性输入中具有很差的 O(<b>N<sup>2</sup></b>) 时间复杂度。<br></p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="11-11" title="Go to the previous slide 11-11">&larr;</div>
<div class="electure-next" data-nextid="12-1" title="Go to the next slide 12-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-1" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>划分步骤：选择一个项目<b>p</b>（称为枢轴）<br>然后将<b>A[i..j]</b>的项目划分为三部分：<b>A[i..m-1]</b>，<b>A[m]</b>和<b>A[m+1..j]</b>。<br><b>A[i..m-1]</b>（可能为空）包含小于（或等于）<b>p</b>的项目。<br><b>A[m] = p</b>，即，索引<b>m</b>是数组<b>a</b>排序顺序中<b>p</b>的正确位置。<br><b>A[m+1..j]</b>（可能为空）包含大于（或等于）<b>p</b>的项目。<br>然后，递归排序这两部分。</p><br><p>征服步骤：别惊讶...我们什么都不做 :O！</p><br><p>如果你将这个与<a href="?slide=11-4"><u>合并排序</u></a>进行比较，你会发现快速排序的D&amp;C步骤与合并排序完全相反。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12" title="Go to the previous slide 12">&larr;</div>
<div class="electure-next" data-nextid="12-2" title="Go to the next slide 12-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-2" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>我们将通过首先讨论其最重要的子程序：O(<b>N</b>) <samp>partition</samp>（经典版本）来剖析这个快速排序算法。</p><br><p>要划分<b>A[i..j]</b>，我们首先选择<b>A[i]</b>作为枢轴<b>p</b>。<br></p><p>剩余的项目（即，<b>a[i+1..j]</b>）被划分为3个区域：</p><ol><li><b>S1</b> = <b>A[i+1..m]</b> 其中的项目 ≤ <b>p</b>，</li><li><b>S2</b> = <b>A[m+1..k-1]</b> 其中的项目 ≥ <b>p</b>，和</li><li>未知 = <b>A[k..j]</b>，其中的项目尚未被分配到<b>S1</b>或<b>S2</b>。</li></ol><p>讨论：为什么我们选择<b>p</b> = <b>A[i]</b>？还有其他选择吗？</p><br><p>更难的讨论：如果<b>A[k] == p</b>，我们应该将它放在区域S1还是S2？</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-1" title="Go to the previous slide 12-1">&larr;</div>
<div class="electure-next" data-nextid="12-3" title="Go to the next slide 12-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-3" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-2" title="Go to the previous slide 12-2">&larr;</div>
<div class="electure-next" data-nextid="12-4" title="Go to the next slide 12-4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-4" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>最初，<b>S1</b> 和 <b>S2</b> 区域都是空的，即所有除指定的轴心 <b>p</b> 之外的项目都在未知区域。</p><br><p>然后，对于未知区域中的每个项目 <b>A[k]</b>，我们将 <b>A[k]</b> 与 <b>p</b> 进行比较，并决定以下三种情况之一：</p><ol><li>如果 <b>A[k]</b> &gt; <b>p</b>，将 <b>A[k]</b> 放入 <b>S2</b>，</li><li>如果 <b>A[k]</b> &lt; <b>p</b>，将 <b>A[k]</b> 放入 <b>S1</b>，</li><li>如果 <b>A[k]</b> == <b>p</b>，抛一枚硬币，如果硬币正面/反面落地，分别将 <b>A[k]</b> 放入 <b>S1</b>/<b>S2</b>。</li></ol><p>这三种情况将在接下来的两张幻灯片中详细说明。</p><br><p>最后，我们交换 <b>A[i]</b> 和 <b>A[m]</b>，将轴心 <b>p</b> 正好放在 <b>S1</b> 和 <b>S2</b> 的中间。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-3" title="Go to the previous slide 12-3">&larr;</div>
<div class="electure-next" data-nextid="12-5" title="Go to the next slide 12-5">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-5" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<img src="https://visualgo.net/img/partition1.png" alt="Case when a[k] ≥ p, increment k, extend S2 by 1 item" width="500">
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-4" title="Go to the previous slide 12-4">&larr;</div>
<div class="electure-next" data-nextid="12-6" title="Go to the next slide 12-6">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-6" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<img src="https://visualgo.net/img/partition2.png" width="500" alt="Case when a[k] < p, increment m, swap a[k] with a[m], increment k, extend S1 by 1 item">
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-5" title="Go to the previous slide 12-5">&larr;</div>
<div class="electure-next" data-nextid="12-7" title="Go to the next slide 12-7">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-7" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<pre>int partition(array A, integer i, integer j)<br>  int p = a[i] // p 是枢轴<br>  int m = i // S1 和 S2 最初为空<br>  for (int k = i+1; k &lt;= j; ++k) // 探索未知区域<br>    if ((A[k] &lt; p) || ((A[k] == p) &amp;&amp; (rand()%2 == 0)))  { // 情况 2+3<br>      ++m<br>      swap(A[k], A[m]) // 交换这两个索引<br>    // 注意我们在情况 1: A[k] &gt; p 时不做任何事情<br>  swap(A[i], A[m]) // 最后一步，交换枢轴和 a[m]<br>  return m // 返回枢轴的索引</pre>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-6" title="Go to the previous slide 12-6">&larr;</div>
<div class="electure-next" data-nextid="12-8" title="Go to the next slide 12-8">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-8" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<pre>method quickSort(array A, integer low, integer high)<br>  if (low &lt; high)<br>    int m = partition(a, low, high) // O(N)<br>    // A[low..high] ~&gt; A[low..m–1], pivot, A[m+1..high]<br>    quickSort(A, low, m-1); // 递归排序左子数组<br>    // A[m] = pivot 在分区后已经排序<br>    quickSort(A, m+1, high); // 然后排序右子数组</pre><p>请参阅在<a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.cpp" target="_blank"><u>SortingDemo.cpp</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.py" target="_blank"><u>py</u></a> | <a href="https://www.comp.nus.edu.sg/~stevenha/cs2040/demos/SortingDemo.java" target="_blank"><u>java</u></a>中显示的代码。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-7" title="Go to the previous slide 12-7">&larr;</div>
<div class="electure-next" data-nextid="12-9" title="Go to the next slide 12-9">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-9" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>尝试在示例数组 [27, 38, 12, 39, 29, 16] 上使用 <span class="slide-actions" onclick="doButtonAction13()">Quick Sort</span>。我们将详细说明第一步分区操作如下：<br>我们设定 <b>p = A[0] = 27</b>。<br>我们设定 <b>A[1] = 38</b> 作为 <b>S2</b> 的一部分，所以 <b>S1 = {}</b> 和 <b>S2 = {38}</b>。<br>我们交换 <b>A[1] = 38</b> 和 <b>A[2] = 12</b>，所以 <b>S1 = {12}</b> 和 <b>S2 = {38}</b>。<br>我们设定 <b>A[3] = 39</b> 和后来的 <b>A[4] = 29</b> 作为 <b>S2</b> 的一部分，所以 <b>S1 = {12}</b> 和 <b>S2 = {38,39,29}</b>。<br>我们交换 <b>A[2] = 38</b> 和 <b>A[5] = 16</b>，所以 <b>S1 = {12,16}</b> 和 <b>S2 = {39,29,38}</b>。<br>我们交换 <b>p = A[0] = 27</b> 和 <b>A[2] = 16</b>，所以 <b>S1 = {16,12}</b>，<b>p = {27}</b>，和 <b>S2 = {39,29,38}</b>。</p><br><p>之后，<b>A[2] = 27</b> 保证已经排序，现在快速排序递归地首先排序左边的 <b>A[0..1]</b>，然后递归地排序右边的 <b>A[3..5]</b>。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-8" title="Go to the previous slide 12-8">&larr;</div>
<div class="electure-next" data-nextid="12-10" title="Go to the next slide 12-10">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-10" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>首先，我们分析一次<samp>partition</samp>调用的成本。</p><br><p>在<samp>partition(A, i, j)</samp>中，只有一个for循环，它迭代了(j-i)次。由于j可以大到<b>N</b>-1，i可以小到0，所以partition的时间复杂度是O(<b>N</b>)。</p><br><p>类似于<a href="?slide=11-7"><u>归并排序分析</u></a>，快速排序的时间复杂度则取决于<samp>partition(A, i, j)</samp>被调用的次数。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-9" title="Go to the previous slide 12-9">&larr;</div>
<div class="electure-next" data-nextid="12-11" title="Go to the next slide 12-11">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-11" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>当数组<b>A</b>已经按升序排列，例如，<b>A</b> = [5, 18, 23, 39, 44, 50]，<span class="slide-actions" onclick="doButtonAction13()">Quick Sort</span> 将设置<b>p = A[0] = 5</b>，并返回<b>m = 0</b>，从而使<b>S1</b>区域<b>空</b>，<b>S2</b>区域：除了枢轴（<b>N</b>-1 项）以外的所有其他内容。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-10" title="Go to the previous slide 12-10">&larr;</div>
<div class="electure-next" data-nextid="12-12" title="Go to the next slide 12-12">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-12" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>在这种最坏情况的输入场景下，会发生以下情况：</p><br><img src="https://visualgo.net/img/qsort_worstcase.png" width="250" alt="快速排序的最坏情况分析"><br><p>第一次分区需要 O(<b>N</b>) 的时间，将 <b>A</b> 分为 0, 1, <b>N</b>-1 个项目，然后向右递归。<br>第二次分区需要 O(<b>N</b>-1) 的时间，将 <b>A</b> 分为 0, 1, <b>N</b>-2 个项目，然后再次向右递归。<br>...<br>直到最后，第 <b>N</b> 次分区将 <b>A</b> 分为 0, 1, 1 个项目，快速排序递归停止。<br></p><br><p>这是经典的 <b>N+(N-1)+(N-2)+...+1</b> 模式，它是 O(<b>N</b><sup>2</sup>)，与<a href="?slide=7-1"><u>这个冒泡排序分析幻灯片中的分析</u></a>类似...</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-11" title="Go to the previous slide 12-11">&larr;</div>
<div class="electure-next" data-nextid="12-13" title="Go to the next slide 12-13">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-12-13" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>当分区总是将数组分成两个相等的一半时，就会发生快速排序的最佳情况，如<a href="?slide=11-8"><u>归并排序</u></a>。<br>当发生这种情况时，递归的深度只有 O(log <b>N</b>)。<br>由于每个级别进行 O(N) 比较，时间复杂度为 O(<b>N</b> log <b>N</b>)。<br>在这个手工制作的示例输入数组 [4, 1, 3, 2, 6, 5, 7] 上尝试<span class="slide-actions" onclick="doButtonAction13()">Quick Sort</span>。这在实践中很少见，因此我们需要设计一个更好的方法：<a href="?slide=13"><u>随机快速排序</u></a>。<br></p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-12" title="Go to the previous slide 12-12">&larr;</div>
<div class="electure-next" data-nextid="13" title="Go to the next slide 13">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-13" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>与<b>快速排序</b>相同，除了在执行分区算法之前，它<b>随机</b>选择<b>A[i..j]</b>之间的枢轴，而不是总是确定性地选择<b>A[i]</b>（或<b>[i..j]</b>之间的任何其他固定索引）。</p><br><p>小练习：将上述想法应用到<a href="?slide=12-7"><u>这个幻灯片</u></a>中显示的实现！</p><br><p>在这个大而有些随机的示例数组<b>a</b> = [3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]上运行 <span class="slide-actions" onclick="doButtonAction14()">Random Quick Sort</span> 感觉很快。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="12-13" title="Go to the previous slide 12-13">&larr;</div>
<div class="electure-next" data-nextid="13-1" title="Go to the next slide 13-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-13-1" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>要正确解释为什么这个随机版本的快速排序在<b>任何</b>包含<b>N</b>个元素的输入数组上的预期时间复杂度为O(<b>N</b> log <b>N</b>)，大约需要1小时的讲座。</p><br><p>在这个电子讲座中，我们将假设这是正确的。</p><br><p>如果你需要非正式的解释：只需想象在随机化版本的快速排序中，我们随机选择枢轴，我们<b>不</b>总是得到极其糟糕的分割，即0（空），1（枢轴），和<b>N</b>-1个其他项目。这种幸运（半枢轴半），有点幸运，有点不幸，和极其不幸（空，枢轴，其余）的组合产生了平均时间复杂度为O(<b>N</b> log <b>N</b>)。</p><br><p>讨论：对于<a href="?slide=12-4"><u>Partition</u></a>的实现，如果<b>A[k] == p</b>，我们<i>总是</i>确定性地将<b>A[k]</b>放在一侧（<b>S1</b>或<b>S2</b>）会发生什么？</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="13" title="Go to the previous slide 13">&larr;</div>
<div class="electure-next" data-nextid="13-2" title="Go to the next slide 13-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-13-2" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="13-1" title="Go to the previous slide 13-1">&larr;</div>
<div class="electure-next" data-nextid="14" title="Go to the next slide 14">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-14" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>在接下来的幻灯片，我们将讨论两种<b>不基于比较</b>的排序算法:</p><ol><li><a href="?slide=15"><u>计数排序</u></a>,</li><li><a href="?slide=16"><u>基数排序</u></a>.</li></ol><p>这些排序算法可以不比较数组的项，从而比时间复杂度为 Ω（<b>N</b> log <b>N</b>）的基于比较的排序算法的下限更快。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="13-2" title="Go to the previous slide 13-2">&larr;</div>
<div class="electure-next" data-nextid="14-1" title="Go to the next slide 14-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-14-1" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>众所周知（尽管在这个可视化中并未证明，因为这需要大约半小时的决策树模型讲座才能做到），所有基于<b>比较的</b>排序算法的时间复杂度下界都是Ω(<b>N</b> log <b>N</b>)。</p><br><p>因此，任何具有最坏情况复杂度为O(<b>N</b> log <b>N</b>)的基于比较的排序算法，如<a href="?slide=11-9"><u>Merge Sort</u></a>，都被认为是最优算法，即我们不能做得比这更好。</p><br><p>然而，如果输入数组存在某些假设，我们可以实现更快的排序算法 — 即O(<b>N</b>) — 从而避免比较项目以确定排序顺序。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="14" title="Go to the previous slide 14">&larr;</div>
<div class="electure-next" data-nextid="15" title="Go to the next slide 15">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-15" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
假设：如果要排序的项目是小范围的整数，我们可以计算每个整数（在这个小范围内）的出现频率，然后通过循环该小范围来有序输出各项。<br>用上面的 [1...9] 范围内的示例数组中尝试 <span class="slide-actions" onclick="doButtonAction15()">Counting Sort</span>，因此我们只需要计算整数1出现的次数，整数2出现的次数，...，整数9出现的次数，然后遍历1到9。如果整数 <b>y</b> 的频率为 <b>x</b>，则打印出整数 <b>y </b>的 <b>x</b> 个副本。<br>计算频率时间复杂度为 O(<b>N</b>)，有序输出结果的时间复杂度为 O(<b>N + k</b>)，其中 <b>k </b>是输入的整数范围，在本例中为 9-1+1 = 9。计数排序（Counting Sort）的时间复杂度为 O(<b>N + k</b>)，如果 <b>k</b> 很小，那么它就是 O(<b>N</b>)。<br>由于内存限制，当 <b>k</b> 相对较大时，我们将无法执行计数排序（Counting Sort）的计数部分，因为我们需要存储 <b>k </b>个整数出现的次数。<br>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="14-1" title="Go to the previous slide 14-1">&larr;</div>
<div class="electure-next" data-nextid="16" title="Go to the next slide 16">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-16" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p><b>假设</b>：如果要排序的项目是<b>具有大范围但少位数的整数</b>，我们可以将计数排序的思想与基数排序相结合，以实现线性时间复杂度。</p><br><p>在基数排序中，我们将要排序的每个项目视为一个由<b>w</b>位数字组成的字符串（如果需要，我们会在位数少于<b>w</b>位的整数前面填充零）。</p><br><p>从最低有效位（最右边）到最高有效位（最左边），我们遍历<b>N</b>个项目，并根据当前位将它们放入10个队列中（每个数字[0..9]一个队列），这类似于一个<i>修改过的</i>计数排序，因为它保持了<a href="?slide=17-2"><u>稳定性</u></a>（请记住，之前在<a href="?slide=15"><u>此幻灯片中</u></a>展示的计数排序版本不是稳定排序）。然后我们再次将这些组重新连接起来进行后续迭代。</p><br><p>尝试在上面的随机4位数数组上点击 <span class="slide-actions" onclick="doButtonAction16()">Radix Sort</span> 以获得更清晰的解释。</p><br><p>请注意，我们只执行了O(<b>w × (N+k)</b>)次迭代。在这个例子中，<b>w = 4</b>，<b>k = 10</b>。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="15" title="Go to the previous slide 15">&larr;</div>
<div class="electure-next" data-nextid="16-1" title="Go to the next slide 16-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-16-1" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<p>现在，我们已经讨论过基数排序，那么我们应该在<b>每一个</b>排序情况下使用它吗？</p><br><p>例如，理论上来说，对许多（<b>N</b>非常大）32位有符号整数进行排序应该更快，因为<b>w ≤ 10</b>位数，<b>k = 10</b>，如果我们将这些32位有符号整数解释为十进制。O(10 × (<b>N</b>+10)) = O(<b>N</b>)。</p><br><p>讨论：如本可视化所示，使用基数10实际上并不是排序<b>N</b>个32位有符号整数的最佳方式。那么更好的设置应该是什么呢？</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="16" title="Go to the previous slide 16">&larr;</div>
<div class="electure-next" data-nextid="16-2" title="Go to the next slide 16-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-16-2" class="electure-dialog" style="top:320px;left:50%;margin-left:-250px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="16-1" title="Go to the previous slide 16-1">&larr;</div>
<div class="electure-next" data-nextid="17" title="Go to the next slide 17">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-17" class="electure-dialog" style="top:70px;left:60px;width:500px;">
除了比较还是非比较，递归还是迭代之外，还有其他一些属性可用于区分排序算法。<br>在本节中，我们将讨论就地（in-place）与非就地，稳定 (stable) 与不稳定以及高速缓存的排序算法的性能。
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="16-2" title="Go to the previous slide 16-2">&larr;</div>
<div class="electure-next" data-nextid="17-1" title="Go to the next slide 17-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-17-1" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>如果一个排序算法在排序过程中只需要常量级别（即，O(<b>1)</b>）的额外空间，那么我们就说这是一个<b>原地排序</b>算法。也就是说，少量的、常数个数的额外变量是可以的，但我们不允许有依赖于输入大小<b>N</b>的变量长度。</p><br><p><a href="?slide=11-2"><u>归并排序</u></a>（经典版本），由于其<samp>merge</samp>子程序需要额外的临时数组，大小为<b>N</b>，所以它不是原地排序。</p><br><p>讨论：冒泡排序、选择排序、插入排序、快速排序（是否随机）、计数排序和基数排序，哪些是原地排序？</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="17" title="Go to the previous slide 17">&larr;</div>
<div class="electure-next" data-nextid="17-2" title="Go to the next slide 17-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-17-2" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>如果排序算法在排序执行后保留了<b>具有相同键值</b>的元素的相对顺序，那么这种排序算法被称为<b>稳定（stable）</b>。</p><br><p>稳定排序的示例应用：假设我们有按字母顺序排序的学生名字。现在，如果这个列表再次按照教学小组编号排序（回想一下，一个教学小组通常有很多学生），一个稳定的排序算法会确保同一个教学小组的所有学生仍然按照他们的名字的字母顺序出现。<a href="?slide=16"><u>基数排序</u></a>需要通过多轮按位排序，并需要一个稳定的排序子程序才能正确工作。</p><br><p>讨论：在这个电子讲座中讨论的排序算法中，哪些是稳定的？<br>尝试对数组 A = {3, 4a, 2, 4b, 1} 进行排序，即有两个4的副本（先是4a，然后是4b）。</p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="17-1" title="Go to the previous slide 17-1">&larr;</div>
<div class="electure-next" data-nextid="17-3" title="Go to the next slide 17-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-17-3" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="17-2" title="Go to the previous slide 17-2">&larr;</div>
<div class="electure-next" data-nextid="18" title="Go to the next slide 18">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-18" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div>我们的电子课堂接近尾声了。<br></div><div>小测验时间！</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="17-3" title="Go to the previous slide 17-3">&larr;</div>
<div class="electure-next" data-nextid="18-1" title="Go to the next slide 18-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-18-1" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<span style="white-space: normal;"><input class="mcq-answer" id="mcq-answer-1" value="5" hidden><p>Quiz: <b>Which of these algorithms run in O(N log N) on any input array of size N?</b></p><form><input type="radio" name="mcq-1-choice" value="5"> Merge Sort<br><input type="radio" name="mcq-1-choice" value="2"> Bubble Sort<br><input type="radio" name="mcq-1-choice" value="4"> Quick Sort (Deterministic)<br><input type="radio" name="mcq-1-choice" value="3"> Insertion Sort<br></form><button class="mcq-submit" id="submit-1">Submit</button> <span id="answer-status-1"></span><br></span>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="18" title="Go to the previous slide 18">&larr;</div>
<div class="electure-next" data-nextid="18-2" title="Go to the next slide 18-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-18-2" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<span style="white-space: normal;"><input class="msq-answer" id="msq-answer-3" value="13,15,16" hidden><p>Quiz: <b>Which of these algorithms has worst case time complexity of Θ(N^2) for sorting N integers?</b></p><input type="checkbox" class="msq-choice" id="msq-3-choice-14"> Merge Sort<br><input type="checkbox" class="msq-choice" id="msq-3-choice-23"> Radix Sort<br><input type="checkbox" class="msq-choice" id="msq-3-choice-16"> Selection Sort<br><input type="checkbox" class="msq-choice" id="msq-3-choice-15"> Insertion Sort<br><input type="checkbox" class="msq-choice" id="msq-3-choice-13"> Bubble Sort<br><button class="msq-submit" id="submit-3">Submit</button> <span id="answer-status-3"></span></span><div><span style="white-space: normal;">Θ是一个紧 (tight) 的时间复杂度分析，其中最佳情况 Ω 和最坏情况的 big-O 分析互相匹配。<br></span></div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="18-1" title="Go to the previous slide 18-1">&larr;</div>
<div class="electure-next" data-nextid="19" title="Go to the next slide 19">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-19" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>我们已经到了电子讲座 - 排序的末尾。<br>但是，VisuAlgo 中还有另外两种嵌入在其他数据结构中的排序算法：<a href="./heap"><u>堆排序</u></a>和<a href="./bst"><u>平衡BST排序</u></a>。 我们将在这两种数据结构的电子讲座里面讨论它们。<br></p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="18-2" title="Go to the previous slide 18-2">&larr;</div>
<div class="electure-next" data-nextid="19-1" title="Go to the next slide 19-1">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-19-1" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="19" title="Go to the previous slide 19">&larr;</div>
<div class="electure-next" data-nextid="19-2" title="Go to the next slide 19-2">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-19-2" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<div style="background-color: white; color: black;">
<div class="electure-addition">
<p>The content of this interesting slide (the answer of the usually intriguing discussion point from the earlier slide) is hidden and only available for legitimate CS lecturer worldwide. This mechanism is used in the various <a href="https://en.wikipedia.org/wiki/Flipped_classroom" target="_blank"><u>flipped classrooms</u></a> in NUS.</p><br>
<p><b>If you are really a CS lecturer (or an IT teacher)</b> (outside of NUS) and are interested to know the answers, please drop an email to stevenhalim at gmail dot com (<b>show your University staff profile/relevant proof to Steven</b>) for Steven to manually activate this CS lecturer-only feature for you.</p><br>
<p>FAQ: This feature will <b>NOT</b> be given to anyone else who is not a CS lecturer.</p>
</div>
</div>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="19-1" title="Go to the previous slide 19-1">&larr;</div>
<div class="electure-next" data-nextid="19-3" title="Go to the next slide 19-3">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-19-3" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>实际上，许多这些基本排序算法的C ++源代码已经分散在这些电子讲座幻灯片中。对于其他编程语言，您可以将给定的C ++源代码翻译为其他编程语言。<br>通常，排序只是问题解决过程中的一小部分，而现在大多数编程语言都有自己的排序函数，所以非必要情况，我们不需要复现其代码。<br>在C++中，您可以使用STL算法中的<a href="http://en.cppreference.com/w/cpp/algorithm/sort" target="_blank"><u>std::sort</u></a>，<a href="http://en.cppreference.com/w/cpp/algorithm/stable_sort" target="_blank"><u>std::stable_sort</u></a> 或 <a href="http://en.cppreference.com/w/cpp/algorithm/partial_sort" target="_blank"><u>std::partial_sort</u></a>。</p><p>在Java中，您可以使用<a href="https://docs.oracle.com/javase/9/docs/api/java/util/Collections.html#sort-java.util.List-" target="_blank"><u>Collections.sort</u></a>。<br></p><p>在Python中，您可以使用<a href="https://docs.python.org/3/library/stdtypes.html#list.sort" target="_blank"><u>sort</u></a>。</p><p>在OCaml中，您可以使用<a href="https://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html" target="_blank"><u>List.sort compare list_name</u></a>。<br>如果比较函数是针对特定问题的，我们可能需要为这些内置的排序例程提供额外的比较函数。 </p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="19-2" title="Go to the previous slide 19-2">&larr;</div>
<div class="electure-next" data-nextid="19-4" title="Go to the next slide 19-4">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-19-4" class="electure-dialog" style="top:70px;left:60px;width:500px;">
是时候检验你对于这些排序算法的基础的掌握程度了！<br><span style="white-space: normal;"><span class="slide-actions" onclick="doButtonAction17()">Test your understanding here!</span></span><br>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="19-3" title="Go to the previous slide 19-3">&larr;</div>
<div class="electure-next" data-nextid="19-5" title="Go to the next slide 19-5">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-19-5" class="electure-dialog" style="top:70px;left:60px;width:500px;">
<p>现在您已经到了电子讲座的最后部分，您认为排序问题与调用内置的排序程序一样简单吗？<br>尝试这些在线评判问题以了解更多信息：<br><a href="https://open.kattis.com/problems/mjehuric" target="_blank"><u>Kattis - mjehuric</u></a><br><a href="https://open.kattis.com/problems/sortofsorting" target="_blank"><u>Kattis - sortofsorting</u></a>，或者<br><a href="https://open.kattis.com/problems/sidewayssorting" target="_blank"><u>Kattis - sidewayssorting</u></a><br>这不是排序算法的结束。 当您在 VisuAlgo 中探索其他主题时，您会意识到排序是许多其他高难度问题的高级算法的预处理步骤，例如， 作为克鲁斯卡尔算法（<a href="./mst" target="_blank"><u>Kruskal&#39;s algorithm</u></a>）的预处理步骤，创造性地用于后缀数组 (<a href="./suffixarray" target="_blank"><u>Suffix Array</u></a>) 数据结构等。<br></p>
<div class="electure-addition">
</div>
<div class="electure-prev" data-nextid="19-4" title="Go to the previous slide 19-4">&larr;</div>
<div class="electure-next" data-nextid="20" title="Go to the next slide 20">&rarr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="electure-20" class="electure-dialog" style="top:60px;left:60px;width:500px;">
<br><p>start of 3230 material</p.

<div class="electure-addition">
<hr>
<p>You have reached the last slide. Return to 'Exploration Mode' to start exploring!</p>
<p>Note that if you notice any bug in this visualization or if you want to request for a new visualization feature, do not hesitate to drop an email to the project leader: Dr Steven Halim via his email address: stevenhalim at gmail dot com.</p>
</div>
<div class="electure-prev" data-nextid="19-5" title="Go to the previous slide 19-5">&larr;</div>
<div class="electure-read-status" title="Spend some more time reading this slide">&#128337;</div>
</div>
<div id="popup" hidden>
<div id="popup-content"></div>
<span id="hide-popup" hidden>X <u>关闭</u></span>
</div>
<div id="rotateDeviceOverlay" style="display: none;">
<div id="rotateDeviceText" style="font-size: 45px; font-weight: bold; text-align: center">Please rotate your device to landscape mode for a better user experience</div>
<div id="widenDeviceText" style="font-size: 45px; font-weight: bold; text-align: center">Please make the window wider for a better user experience</div>
</div>
<div id="sort-viz">
<svg id="viz"></svg><br>
<svg id="viz-sort-index-canvas"></svg>
<svg id="viz-counting-sort-secondary-canvas"></svg>
<div id="viz-radix-sort-canvas">
<span id="radix-sort-bucket-labels-collection">
<span class="radix-sort-bucket-label" id="radix_base_0">0</span>
<span class="radix-sort-bucket-label" id="radix_base_1">1</span>
<span class="radix-sort-bucket-label" id="radix_base_2">2</span>
<span class="radix-sort-bucket-label" id="radix_base_3">3</span>
<span class="radix-sort-bucket-label" id="radix_base_4">4</span>
<span class="radix-sort-bucket-label" id="radix_base_5">5</span>
<span class="radix-sort-bucket-label" id="radix_base_6">6</span>
<span class="radix-sort-bucket-label" id="radix_base_7">7</span>
<span class="radix-sort-bucket-label" id="radix_base_8">8</span>
<span class="radix-sort-bucket-label" id="radix_base_9">9</span>
<span class="radix-sort-bucket-label" id="radix_base_A">A</span>
<span class="radix-sort-bucket-label" id="radix_base_B">B</span>
<span class="radix-sort-bucket-label" id="radix_base_C">C</span>
<span class="radix-sort-bucket-label" id="radix_base_D">D</span>
<span class="radix-sort-bucket-label" id="radix_base_E">E</span>
<span class="radix-sort-bucket-label" id="radix_base_F">F</span>
</span>
</div>
</div>
<div id="current-action" class="panel"><p></p></div>

<style>
        .create {
            bottom: 92px
        }
    </style>
<style>
        .sort {
            bottom: 65px
        }
    </style>
<div id="actions" class="panel">
<p id="create">新建(A)</p>
<p class="execAction" id="sort" onClick="sortGeneric()">排序</p>
</div>
<div id="actions-hide" class="panel-hide"><span style="color:white; font-size: x-large; display: inline-block;">&gt;</span></div>
<div id="actions-extras">
<div class="create action-menu-pullout">
<div id="create-userdefined-input-random" class="new-menu-option">
N = <input id="user-arr-size" type="number" autocomplete="off" min="1" max="43" value="10"> </div>
<div id="create-random" class="execAction new-menu-option coloured-menu-option" onClick="createList(&#039;random&#039;)">
<p>随机</p>
</div>
<div id="create-sorted" class="execAction new-menu-option coloured-menu-option" onClick="toggleChildExtras(&#039;create&#039;, &#039;create-sorted&#039;)">
<p>已完成排序的</p>
<div id="create-sorted-third-tier" class="create-sorted-third-tier new-menu-option" style="display: none;">
<div id="create-sorted-non-increasing" class="execAction coloured-menu-option" style="float: right;" onClick="createList(&#039;sorted-non-increasing&#039;)">
<p>降序</p>
</div>
<div id="create-sorted-non-decreasing" class="execAction coloured-menu-option" style="float: right;" onClick="createList(&#039;sorted-non-decreasing&#039;)">
<p>升序</p>
</div>
</div>
</div>
<div id="create-nearly-sorted" class="execAction new-menu-option coloured-menu-option" onClick="toggleChildExtras(&#039;create&#039;, &#039;create-nearly-sorted&#039;)">
<p>接近完成排序的</p>
<div id="create-nearly-sorted-third-tier" class="create-nearly-sorted-third-tier new-menu-option" style="display: none;">
<div id="create-nearly-sorted-decreasing" class="execAction coloured-menu-option" style="float: right;" onClick="createList(&#039;nearly-sorted-non-increasing&#039;)">
<p>降序</p>
</div>
<div id="create-nearly-sorted-increasing" class="execAction coloured-menu-option" style="float: right;" onClick="createList(&#039;nearly-sorted-non-decreasing&#039;)">
<p>升序</p>
</div>
</div>
</div>
<div id="create-many-duplicates" class="execAction new-menu-option coloured-menu-option" onClick="createList(&#039;many-duplicates&#039;)">
<p>Many Duplicates</p>
</div>
<div id="create-userdefined-input" class="new-menu-option">
A = <input id="userdefined-input" type="text" title="Enter a list of numbers, separated by commas." autocomplete="off" value="3,44,38,5,47,15,36,26,27,2,46,4,19,50,48"> </div>
<div id="create-userdefined-go" class="execAction new-menu-option coloured-menu-option" onClick="createList(&#039;userdefined&#039;)">
<p>前进</p>
</div>
<div id="create-userdefined-input-cs" class="new-menu-option" style="display: none;">
(base) k = <input id="counting-sort-base" type="number" autocomplete="off" min="2" max="16" value="10"> </div>
<div id="create-userdefined-go-cs" class="execAction new-menu-option coloured-menu-option" onClick="setBase()">
<p>Set base</p>
</div>
<div id="create-userdefined-input-rs" class="new-menu-option" style="display: none;">
(base) k = <input id="radix-sort-base" type="number" autocomplete="off" min="1" max="16" value="10"> </div>
<div id="create-userdefined-go-rs" class="execAction new-menu-option coloured-menu-option" onClick="setBase()">
<p>Set base</p>
</div>
<div id="create-err" class="err" style="float: left;"></div>
</div>
<div class="sort action-menu-pullout">
<div id="counting-simple" class="execAction new-menu-option coloured-menu-option" onClick="sort()" style="display: none">
<p>Simple</p>
</div>
<div id="counting-stable" class="execAction new-menu-option coloured-menu-option" onClick="countingSortStable()" style="display: none">
<p>Stable</p>
</div>
<div id="sort-err" class="err" style="float: left;"></div>
</div>
</div>

</div>

<div id="bottom-bar">
</div>
<div id="about" class="overlays">
<h4>关于</h4><span class="close-overlay">&#x2715;</span>
<div class="content">
<p></p><p>VisuAlgo涵盖了Steven Halim博士与Felix Halim博士、Suhendry Effendy博士合著的书《竞技编程》中讨论的许多高级算法。即使过去十年，VisuAlgo仍然是可视化和动画化这些复杂算法的独家平台。</p><p>虽然VisuAlgo主要面向新加坡国立大学（NUS）的学生，包括各种数据结构和算法课程（例如CS1010/等价课程，CS2040/等价课程（包括IT5003），CS3230，CS3233和CS4234），但它也是全球好奇心的宝贵资源，促进在线学习。</p><p>最初，VisuAlgo并不适用于智能手机等小触摸屏，因为复杂的算法可视化需要大量的像素空间和点击拖动交互。为了获得最佳用户体验，建议使用最低分辨率为1366x768的屏幕。然而，自2022年4月以来，VisuAlgo的移动（精简）版本已经推出，使得在智能手机屏幕上使用VisuAlgo的部分功能成为可能。</p><p>VisuAlgo仍然在不断发展中，正在开发更复杂的可视化。目前，该平台拥有24个可视化模块。</p><p>VisuAlgo配备了内置的问题生成器和答案验证器，其“在线测验系统”使学生能够测试他们对基本数据结构和算法的理解。问题根据特定规则随机生成，并且学生提交答案后会自动得到评分。随着越来越多的计算机科学教师在全球范围内采用这种在线测验系统，它可以有效地消除许多大学标准计算机科学考试中手工基本数据结构和算法问题。通过给通过在线测验的学生分配一个小但非零的权重，计算机科学教师可以显著提高学生对这些基本概念的掌握程度，因为他们可以在参加在线测验之前立即验证几乎无限数量的练习题。每个VisuAlgo可视化模块现在都包含自己的在线测验组件。</p><p>VisuAlgo已经被翻译成三种主要语言：英语、中文和印尼语。此外，我们还用各种语言撰写了关于VisuAlgo的公开笔记，包括印尼语、韩语、越南语和泰语：</p>
<a href="https://www.facebook.com/notes/steven-halim/httpidvisualgonet-visualisasi-struktur-data-dan-algoritma-dengan-animasi/10153236934439689" target="_blank"><u>id</u></a>,
<a href="http://blog.naver.com/visualgo_nus" target="_blank"><u>kr</u></a>,
<a href="https://www.facebook.com/groups/163215593699283/permalink/824003417620494/" target="_blank"><u>vn</u></a>,
<a href="http://pantip.com/topic/32736343" target="_blank"><u>th</u></a>.
</div>
</div>
<div id="team" class="overlays">
<h4>团队</h4><span class="close-overlay">&#x2715;</span>
<div class="content">
<p>
<strong><span style="line-height: 150%;">项目领导和顾问（2011年7月至今）</span></strong><br>
<a href="https://www.comp.nus.edu.sg/~stevenha/" target="_blank">Associate Professor Steven Halim</a>, School of Computing (SoC), National University of Singapore (NUS)<br>
<a href="https://www.linkedin.com/in/felixhalim/" target="_blank">Dr Felix Halim</a>, Senior Software Engineer, Google (Mountain View)
</p>
<p>
<strong><span style="line-height: 150%;">本科生研究人员 1</span></strong><br>
<b>CDTL TEG 1: Jul 2011-Apr 2012</b>: Koh Zi Chun, Victor Loh Bo Huai
</p>
<p>
<strong><span style="line-height: 150%;">最后一年项目/ UROP学生 1</span></strong><br>
<b>Jul 2012-Dec 2013</b>: Phan Thi Quynh Trang, Peter Phandi, Albert Millardo Tjindradinata, Nguyen Hoang Duy<br>
<b>Jun 2013-Apr 2014</b> <a href="https://www.rosemarietan.com/" target="_blank">Rose Marie Tan Zhao Yun</a>, Ivan Reinaldo
</p>
<p>
<strong><span style="line-height: 150%;">本科生研究人员 2</span></strong><br>
<b>CDTL TEG 2: May 2014-Jul 2014</b>: Jonathan Irvin Gunawan, Nathan Azaria, Ian Leow Tze Wei, Nguyen Viet Dung, Nguyen Khac Tung, Steven Kester Yuwono, Cao Shengze, Mohan Jishnu
</p>
<p>
<strong><span style="line-height: 150%;">最后一年项目/ UROP学生 2</span></strong><br>
<b>Jun 2014-Apr 2015</b>: Erin Teo Yi Ling, Wang Zi<br>
<b>Jun 2016-Dec 2017</b>: Truong Ngoc Khanh, John Kevin Tjahjadi, Gabriella Michelle, Muhammad Rais Fathin Mudzakir<br>
<b>Aug 2021-Apr 2023</b>: Liu Guangyuan, Manas Vegi, Sha Long, Vuong Hoang Long, Ting Xiao, Lim Dewen Aloysius<br>
</p>
<p>
<strong><span style="line-height: 150%;">本科生研究人员 3</span></strong><br>
<b>Optiver: Aug 2023-Oct 2023</b>: Bui Hong Duc, Oleh Naver, Tay Ngan Lin<br>
</p>
<p>
<strong><span style="line-height: 150%;">最后一年项目/ UROP学生 3</span></strong><br>
<b>Aug 2023-Apr 2024</b>: Xiong Jingya, Radian Krisno, Ng Wee Han<br>
</p>
<p>
List of translators who have contributed &ge; 100 translations can be found at <a href="https://visualgo.net/statistics">statistics</a> page.
</p>
<p>
<strong><span style="line-height: 150%;">致谢</span></strong><br>
NUS教学与学习发展中心（CDTL）授予拨款以启动这个项目。在2023/24学年，Optiver的慷慨捐赠将被用来进一步开发 VisuAlgo。
</p>
</div>
</div>
<div id="termsofuse" class="overlays">
<h4>使用条款<br></h4><span class="close-overlay">&#x2715;</span>
<div class="content">
<p>VisuAlgo慷慨地向全球计算机科学界提供免费服务。如果您喜欢VisuAlgo，我们恳请您<b>向其他计算机科学学生和教师宣传它的存在</b>。您可以通过社交媒体平台（如Facebook、YouTube、Instagram、TikTok、Twitter等）、课程网页、博客评论、电子邮件等方式分享VisuAlgo。</p><p>数据结构与算法（DSA）的学生和教师可以直接在课堂上使用本网站。如果您从本网站截取屏幕截图或视频，可以在其他地方使用，但请引用本网站的URL（<a href="https://visualgo.net">https://visualgo.net</a>）和/或下面的出版物列表作为参考。但请不要下载VisuAlgo的客户端文件并将其托管在您的网站上，因为这构成了抄袭行为。目前，我们不允许他人分叉此项目或创建VisuAlgo的变体。个人使用离线副本的客户端VisuAlgo是可以接受的。</p><p>请注意，VisuAlgo的在线测验组件具有重要的服务器端元素，保存服务器端脚本和数据库并不容易。目前，普通公众只能通过“培训模式”访问在线测验系统。“测试模式”提供了一个更受控制的环境，用于在新加坡国立大学的真实考试中使用随机生成的问题和自动验证。</p><p><br></p><p><strong><span style="line-height: 200%;">出版物列表</span></strong></p><p>这项工作曾在2012年国际大学生程序设计竞赛（波兰，华沙）的CLI研讨会上和2012年国际信息学奥林匹克竞赛（意大利，锡尔米奥内-蒙蒂基亚里）的IOI会议上展示过。您可以点击<a href="https://ioinformatics.org/journal/INFOL099.pdf" target="_blank">此链接</a>阅读我们2012年关于该系统的论文（当时还没有称为VisuAlgo），以及<a href="https://ioinformatics.org/journal/v9_2015_243_245.pdf" target="_blank">此链接</a>阅读2015年的简短更新（将VisuAlgo与之前的项目关联起来）。</p><p><br></p><p><strong><span style="line-height: 200%;">错误报告或新功能请求</span></strong></p><p>VisuAlgo并不是一个完成的项目。Steven Halim副教授仍在积极改进VisuAlgo。如果您在使用VisuAlgo时发现任何可视化页面/在线测验工具中的错误，或者您想要请求新功能，请联系Steven Halim副教授。他的联系方式是将他的名字连接起来，然后加上gmail dot com。</p>
</div>
</div>
<div id="privacy-policy" class="overlays">
<h4>隐私政策</h4><span class="close-overlay">&#x2715;</span>
<div class="content">
<p><b>版本 1.2 (更新于2023年8月18日星期五)。</b></p><p>自2023年8月18日（星期五）起，我们不再使用 Google Analytics。因此，我们现在使用的所有 cookies 仅用于此网站的运营。即使是首次访问的用户，烦人的 cookie 同意弹窗现在也已关闭。</p><p>自2023年6月7日（星期五）起，由于 Optiver 的慷慨捐赠，全世界的任何人都可以自行创建一个 VisuAlgo 账户，以存储一些自定义设置（例如，布局模式，默认语言，播放速度等）。</p><p>此外，对于 NUS 学生，通过使用 VisuAlgo 账户（一个 NUS 官方电子邮件地址，课堂名册中的学生姓名，以及在服务器端加密的密码 - 不存储其他个人数据），您同意您的课程讲师跟踪您的电子讲义阅读和在线测验培训进度，这是顺利进行课程所必需的。您的 VisuAlgo 账户也将用于参加 NUS 官方的 VisuAlgo 在线测验，因此，将您的账户凭据传递给他人代您进行在线测验构成学术违规。课程结束后，您的用户账户将被清除，除非您选择保留您的账户（OPT-IN）。访问完整的 VisuAlgo 数据库（包含加密密码）的权限仅限于 Halim 教授本人。</p><p>对于全球其他已经给 Steven 写过信的 CS 讲师，需要一个 VisuAlgo 账户（您的（非 NUS）电子邮件地址，您可以使用任何显示名称，以及加密密码）来区分您的在线凭据与世界其他地方。您的账户将具有 CS 讲师特定的功能，即能够查看隐藏的幻灯片，这些幻灯片包含了在隐藏幻灯片之前的幻灯片中提出的问题的（有趣的）答案。您还可以访问 VisuAlgo 在线测验的 Hard 设置。您可以自由地使用这些材料来增强您的数据结构和算法课程。请注意，未来可能会有其他 CS 讲师特定的功能。<br></p><p>对于任何拥有 VisuAlgo 账户的人，如果您希望不再与 VisuAlgo 工具有关联，您可以自行删除您的账户。</p>
</div>
</div>
</div>


<script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://unpkg.com/d3-force-boundary@0.0.1/dist/d3-force-boundary.min.js"></script>
<script>
  $(function () {
    // overlays stuffs
    $('#trigger-about').click(function() {
      if ($(window).width() > 600) {
        $('#dark-overlay').fadeIn(function() {
          $('#about').fadeIn();
        });
      }
      else
        alert('Sorry, this dialog is too big. Please load it on bigger screen');
    });

    $('#trigger-team').click(function() {
      if ($(window).width() > 600) {
        $('#dark-overlay').fadeIn(function() {
          $('#team').fadeIn();
        });
      }
      else
        alert('Sorry, this dialog is too big. Please load it on bigger screen');
    });

    $('#trigger-terms').click(function() {
      if ($(window).width() > 600) {
        $('#dark-overlay').fadeIn(function() {
          $('#termsofuse').fadeIn();
        });
      }
      else
        alert('Sorry, this dialog is too big. Please load it on bigger screen');
    });

    $('#trigger-privacy').click(function () {
      if ($(window).width() > 600) {
        $('#dark-overlay').fadeIn(function() {
          $('#privacy-policy').fadeIn();
        });
      }
      else
        alert('Sorry, this dialog is too big. Please load it on bigger screen');
    })

    $('.close-overlay').click(function() {
      $('.overlays').fadeOut(function() {
        $('#dark-overlay').fadeOut();
      });
    });

    $('#dark-overlay').click(function() {
      $('.overlays').fadeOut();
      $('#dark-overlay').fadeOut();
      if (typeof GeometryWidget !== 'undefined') {
        GeometryWidget.stopLoop();
      }
    });
  })
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1566631-4"></script>
<script>
      $.ajaxSetup({
        headers: {
          'X-CSRF-TOKEN': "WtIPAnE7RYRxQ9DLF9hy2IhtEZVltGDiA8vkfkKi"
        }
      });

      // handles account dropdown menu
      $(function () {
        $('#language-dropdown-btn').click(function (e) {
          $('#language-dropdown-menu').css('display', 'block');
          $('#account-dropdown-menu').css('display', 'none')
          e.stopPropagation()
        })
        $(document).click(function () {
          $('#language-dropdown-menu').css('display', 'none')
        })
      })

      $(function () {
        $('#account-dropdown-btn').click(function (e) {
          $('#account-dropdown-menu').css('display', 'block')
          $('#language-dropdown-menu').css('display', 'none')
          e.stopPropagation()
        })
        $(document).click(function (e) {
          $('#account-dropdown-menu').css('display', 'none')
        })
      })

      // surprise colour!
      // Referenced to in  home.js and viz.js also
      var colourArray = ["#52bc69", "#d65775"/*"#ed5a7d"*/, "#2ebbd1", "#d9513c", "#fec515", "#4b65ba", "#ff8a27", "#a7d41e"]; // green, pink, blue, red, yellow, indigo, orange, lime

      function disableScroll() { $('html').css('overflow', 'hidden'); }

      function enableScroll() { $('html').css('overflow', 'visible'); }

      function replaceAll(find, replace, str) { return str.replace(new RegExp(find, 'g'), replace); }

      function getColours() {
        var generatedColours = new Array();
        while (generatedColours.length < 4) {
          var n = (Math.floor(Math.random() * colourArray.length));
          if ($.inArray(n, generatedColours) == -1)
            generatedColours.push(n);
        }
        return generatedColours;
      }

      function isOn(value, position) {
        return (value>>position) & 1 === 1;
      }

      function customAlert(msg) {
        $('#custom-alert p').html(msg);
        var m = -1 * ($('#custom-alert').outerHeight()/2);
        $('#custom-alert').css('margin-top', m+'px');
        $('#dark-overlay').fadeIn(function() {
          $('#custom-alert').fadeIn(function() {
            setTimeout(function() {
              $('#custom-alert').fadeOut(function() {
                $('#dark-overlay').fadeOut();
              });
            }, 1000);
          });
        });
      }

      function showLoadingScreen() {
        $('#loading-overlay').show();
        $('#loading-message').show();
      }

      function hideLoadingScreen() {
        $('#loading-overlay').hide();
      }

      function commonAction(retval, msg) {
        if (retval) {
          $('#current-action').show();
          $('#current-action').html(mode == "exploration" ? msg : ("e-Lecture Example (auto play until done)<br>" + msg));
          $('#progress-bar').slider("option", "max", gw.getTotalIteration()-1);
          triggerRightPanels();
          isPlaying = true;
        }
      }

      function getQueryVariable(variable) {
        var query = window.location.search.substring(1);
        var vars = query.split('&');
        for (var i = 0; i < vars.length; ++i) {
          var pair = vars[i].split('=');
          if (decodeURIComponent(pair[0]) == variable)
            return decodeURIComponent(pair[1]);
        }
        return "";
      }

      const MOBILE_WIDTH = 1000;
      const matchMediaMobile = window.matchMedia(`only screen and (max-width: ${MOBILE_WIDTH}px)`);
      const matchMediaNarrow = window.matchMedia(`only screen and (max-width: 500px)`);
      function isMobile() {
        return matchMediaMobile.matches;
      }
      //To fix the issue of a narrow desktop window being asked to rotate, I am now checking for it based on the navigator.userAgent to see if its mobile or not.
      //This may change in the future if browsers decide to change the naming of userAgent for mobile browsers so may need to keep an eye on this.
      function isMobileOS() {
        return /Mobi/i.test(navigator.userAgent) && !/ipad/i.test(navigator.userAgent);
      }
      let portraitMatcher = window.matchMedia("(orientation:portrait)");
      function isPortrait() {
        return portraitMatcher.matches;
      }

      var generatedColours = getColours();
      var surpriseColour = colourArray[generatedColours[0]];
      var colourTheSecond = colourArray[generatedColours[1]];
      var colourTheThird = colourArray[generatedColours[2]];
      var colourTheFourth = colourArray[generatedColours[3]];

      $(function() {
        $('.links').css('background', surpriseColour);
        $('.colour').css("color", surpriseColour);
        $('h4').css("background-color", surpriseColour); // about, contact us etc. button background

        // title
        $('#title a').click(function() {
          $('#title a').removeClass('selected-viz');
          $(this).addClass('selected-viz');
        });
      });

/*
      // GA dropped 26 Jun 2023 and then made official on 18 Aug 2023
/*
      // the sunset-ed GA, commented on 26 Jun 2023, and Prof Halim doesn't bother to use anymore
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
*/

      // function setCookie(cname, cvalue, exdays) {
      //   const d = new Date();
      //   d.setTime(d.getTime() + (exdays*24*60*60*1000));
      //   let expires = "expires="+ d.toUTCString();
      //   document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
      // }

//       //         $(function() {
//           $('#gdpr-accept').click(function () {
// /*
//             // added on 26 Jun 2023
//             window.dataLayer = window.dataLayer || [];
//             function gtag(){dataLayer.push(arguments);}
//             gtag('js', new Date());

//             gtag('config', 'UA-1566631-4');
// */
// //            ga('create', 'UA-1566631-4', 'auto');
// //            ga('send', 'pageview');
//             setCookie('use_google_analytics', 'true', 365)
//             $('#gdpr-popup').hide()
//           });
//           $('#gdpr-reject').click(function () {
//             setCookie('use_google_analytics', 'false', 365)
//             $('#gdpr-popup').hide()
//           });
//         });
//       
      $('#gdpr-privacy-policy').click(function () {
        if ($(window).width() > 600) {
          $('#dark-overlay').fadeIn(function() {
            $('#privacy-policy').fadeIn();
          });
        }
        else
          alert('Sorry, this dialog is too big. Please load it on bigger screen');
      })
    </script>

<script src="https://visualgo.net/js/jquery-ui.min.js"></script>

<script src="https://visualgo.net/js/d3.min.js"></script>
<script src="https://visualgo.net/js/viz-1.0.10.js"></script>

<script src="/js/graph_library/constant.js"></script>
<script src="/js/graph_library/drawgraph.js"></script>
<script src="/js/graph_library/GraphEdgeWidget.js"></script>
<script src="/js/graph_library/GraphPolygonWidget.js"></script>
<script src="/js/graph_library/GraphVertexWidget.js"></script>
<script src="/js/graph_library/GraphWidget.js"></script>
<script src="/js/graph_library/helperObjects.js?refresh22aug9pm"></script> 
<script src="/js/graph_library/misc.js"></script>
<script src="/js/graph_library/properties.js"></script>
<script src="/js/graph_library/Widget.js"></script>
<script src="/js/graph_library/force_directed_library.js"></script>

<script>
      $(function () {
        let defaultPlaybackSpeed = 1;
                createPlaybackSpeedSlider(defaultPlaybackSpeed);

        $('#scale').show();

        $('#account-dropdown-btn').click(function (e) {
          $('#account-dropdown-menu').css('display', 'block')
          $('#language-dropdown-menu').css('display', 'none')
          e.stopPropagation()
        })
        $(document).click(function (e) {
          $('#account-dropdown-menu').css('display', 'none')
        });
        //Mobile Design Related DOM Manipulations
        if (isMobile()) {
          $("#status").css({
            "bottom": "10%",
            "height": "12%",
            "max-height": "54px"
          });
          $("#current-action").css("bottom", "22%");
          $('#status-hide').remove();
          $('#left-bar').remove();
          $('#right-bar').remove();
          $("#mode-menu").remove();
          $("#codetrace").css("z-index", 1);
          $("#bottom-bar a").hide();
          $("#bottom-bar").css("height", $("#topbar").css("height"));
          $(".speed-dropup-btn").show();
        $('#scale').show();
          $("#go-to-beginning").remove();
          $("#go-to-end").remove();
          $("#pause").remove();
          $("#play").remove();
          $("#previous").remove();
          $("#next").remove();

          //make progress bar longer
          $("#progress-bar").css({
            left: "30%",
            width: "60%",
            'margin-left': 0
          })
        }
      })

      let mobilePlaybackOverlayTimeout;
      $(function() {
        $("#viz").on("click", () => {
          if (isMobile()) {
            if ($("#mobile-playback-overlay").is(":hidden") && isPlaying) {
              $("#mobile-playback-overlay").fadeIn();
              hideMobilePlaybackOverlay(6000);
            } else {
              $("#mobile-playback-overlay").fadeOut();
            }
          }
        });
        $("#mobile-playback-overlay").on("click", (event) => {
          if (event.target === event.currentTarget) //to ensure clicks on the controls dont fade the overlay
            $("#mobile-playback-overlay").fadeOut();
          else
            hideMobilePlaybackOverlay(5000);
        })
      });
      function hideMobilePlaybackOverlay(timeOut) {
        if (mobilePlaybackOverlayTimeout)
          clearTimeout(mobilePlaybackOverlayTimeout);
        mobilePlaybackOverlayTimeout = setTimeout(() => {
            $("#mobile-playback-overlay").fadeOut();
        }, timeOut);
      }
      function mobilePlaybackPauseOrPlay() {
        if ($("#mobile-playback-overlay").hasClass("playing")) {
          pause();
          hideMobilePlaybackOverlay(5000);
        } else {
          play();
          hideMobilePlaybackOverlay(3000);
        }
      }
      let rewindLabelTimeout, forwardLabelTimeout;
      function mobilePlaybackRewind() {
        $("#mobile-playback-rewind-label").css("opacity", 1);
        if (rewindLabelTimeout)
          clearTimeout(rewindLabelTimeout);
        rewindLabelTimeout = setTimeout(() => {
          $("#mobile-playback-rewind-label").css("opacity", 0);
        }, 800);
        stepBackward(7);
      }
      function mobilePlaybackForward() {
        $("#mobile-playback-forward-label").css("opacity", 1);
        if (forwardLabelTimeout)
          clearTimeout(forwardLabelTimeout);
        forwardLabelTimeout = setTimeout(() => {
          $("#mobile-playback-forward-label").css("opacity", 0);
        }, 800);
        stepForward(7);
      }

      //let eLectureSessionHistory = {};
      const sectorColors = ['#05a4d0', '#f1c706', '#fa0202'];
      function setSlideTimelineColor(slideNo) {
        const sectionNo = slideNo.split('-')[0];
        $(`[slideNo="${slideNo}"]`).css('background', sectorColors[(parseInt(sectionNo) % 3)]);
      }

      let currSlideTimer = null; //global so that we can clear the timeout when required

      const lectureIds = [{"id":75,"category":"sorting","order":1,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":1,"showCodetracePanel":0,"created_at":"2017-02-12 21:12:52","updated_at":"2023-06-06 06:32:49","section":-1,"code":"$('#title-Bubble').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.bubbleSort, \"29,10,14,37,14\");","section_order":-1,"value":"1","text":"<div>\u6392\u5e8f\u7b97\u6cd5\u5c06\u4e00\u4e32\u6570\u7ec4\uff08\u4e00\u4e2a\u5217\u8868\uff09\u4e2d\u7684\u5143\u7d20\uff08\u6574\u6570\uff0c\u6570\u5b57\uff0c\u5b57\u7b26\u4e32\u7b49\uff09\u6309\u67d0\u79cd\u987a\u5e8f\uff08\u589e\u5927\uff0c\u51cf\u5c0f\uff0c\u5b57\u5178\u987a\u5e8f\u7b49\uff09\u91cd\u65b0\u6392\u5217\u3002<\/div><div>\u6709\u5f88\u591a\u79cd\u4e0d\u540c\u7684\u6392\u5e8f\u7b97\u6cd5\uff0c\u6bcf\u4e00\u79cd\u90fd\u6709\u5404\u81ea\u7684\u4f18\u52bf\u548c\u9650\u5236\u3002<\/div><div>\u6392\u5e8f\u5e38\u5e38\u4f5c\u4e3a\u8ba1\u7b97\u673a\u8bfe\u7a0b\u4e2d\u7684\u4ecb\u7ecd\u6027\u95ee\u9898\uff0c\u7528\u4ee5\u4ecb\u7ecd\u4e00\u7cfb\u5217\u7684\u7b97\u6cd5\u601d\u8def\u3002<\/div><div>\u4e0d\u5931\u666e\u904d\u6027\uff0c\u6211\u4eec\u5728\u6b64\u53ef\u89c6\u5316\u4e2d\uff0c\u53ea\u5c06\uff08\u53ef\u80fd\u5305\u542b\u91cd\u590d\uff09\u7684\u6574\u6570\u6570\u7ec4\u6392\u5e8f\u81f3\u975e\u51cf\u3002\u8bd5\u8bd5\u70b9\u51fb <span class=\"slide-actions\" onclick=\"doButtonAction11()\">Bubble Sort<\/span> \u6765\u53ef\u89c6\u5316\u4e94\u4e2a\uff08\u542b\u91cd\u590d\u9879\uff09\u7684\u6742\u4e71\u6574\u6570\u7684\u6392\u5e8f\u3002<br><\/div>","title":"\u6392\u5e8f\u95ee\u9898\u548c\u6392\u5e8f\u7b97\u6cd5"},{"id":541,"category":"sorting","order":1,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-31 08:07:04","updated_at":"2023-06-06 06:33:00","section":75,"code":"","section_order":1,"value":"1-1","text":"<p>\u6392\u5e8f\u95ee\u9898\u6709\u8bb8\u591a\u6709\u8da3\u7684\u7b97\u6cd5\u89e3\u51b3\u65b9\u6848\uff0c\u4f53\u73b0\u4e86\u8bb8\u591a\u8ba1\u7b97\u673a\u79d1\u5b66\u7684\u601d\u60f3\uff1a<\/p><ol><li><a href=\"?slide=5\"><u>\u6bd4\u8f83<\/u><\/a>\u548c<a href=\"?slide=14\"><u>\u975e\u6bd4\u8f83<\/u><\/a>\u7684\u7b56\u7565\uff0c<\/li><li>\u8fed\u4ee3\u4e0e\u9012\u5f52\u5b9e\u73b0\uff0c<\/li><li>\u5206\u6cbb\u8303\u5f0f\uff08\u4f8b\u5982\uff0c<a href=\"?slide=11-4\"><u>\u5f52\u5e76\u6392\u5e8f<\/u><\/a>\u6216<a href=\"?slide=12-1\"><u>\u5feb\u901f\u6392\u5e8f<\/u><\/a>\uff09\uff0c<\/li><li>\u6700\u597d\/\u6700\u574f\/\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6\u5206\u6790\uff0c<\/li><li><a href=\"?slide=13\"><u>\u968f\u673a\u7b97\u6cd5<\/u><\/a>\u7b49\u3002<\/li><\/ol>","title":"\u52a8\u529b - \u6709\u8da3\u7684\u8ba1\u7b97\u673a\u79d1\u5b66\u60f3\u6cd5"},{"id":542,"category":"sorting","order":2,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-31 08:10:32","updated_at":"2023-06-06 06:33:03","section":75,"code":"","section_order":1,"value":"1-2","text":"\u5f53\uff08\u6574\u6570\uff09\u6570\u7ec4 <b>A <\/b>\u6709\u5e8f\u65f6\uff0c\u6d89\u53ca <b>A <\/b>\u7684\u8bb8\u591a\u95ee\u9898\u53d8\u5f97\u7b80\u5355\uff08\u81f3\u5c11\u6bd4\u539f\u672c\u7b80\u5355\uff09\uff1a<br><ol><li> \u5728\u6570\u7ec4 <b>A <\/b>\u4e2d\u641c\u7d22\u7279\u5b9a\u503c <b>v<\/b>\uff0c<br><\/li><li> \u67e5\u627e\uff08\u9759\u6001\uff09\u6570\u7ec4 <b>A<\/b> \u4e2d\u7684\u6700\u5c0f\/\u6700\u5927\/\u7b2c <b>k <\/b>\u4e2a\u6700\u5c0f\/\u6700\u5927\u503c\uff0c<br><\/li><li> \u6d4b\u8bd5\u552f\u4e00\u6027\u5e76\u5220\u9664\u6570\u7ec4 <b>A <\/b>\u4e2d\u7684\u91cd\u590d\u9879\uff0c<br><\/li><li> \u8ba1\u7b97\u7279\u5b9a\u503c <b>v<\/b> \u5728\u6570\u7ec4 <b>A<\/b> \u4e2d\u51fa\u73b0\u591a\u5c11\u6b21\uff0c<br><\/li><li> \u8bbe\u7f6e\u6570\u7ec4 <b>A<\/b> \u548c\u53e6\u4e00\u4e2a\u6392\u5e8f\u6570\u7ec4 <b>B<\/b> \u4e4b\u95f4\u7684\u4ea4\u96c6\/\u8054\u5408\uff0c<\/li><li> \u5bfb\u627e\u4e00\u4e2a\u76ee\u6807\u5bf9 <b>x\u2208A<\/b> \u548c <b>y\u2208A<\/b>\uff0c\u4f7f\u5f97 <b>x + y <\/b>\u7b49\u4e8e\u76ee\u6807 <b>z <\/b>\u7b49\u3002<\/li><li> \u8ba1\u7b97\u5728\u533a\u95f4 [<b>lo<\/b>..<b>hi<\/b>] \u5185\u5171\u8ba1\u6709\u591a\u5c11\u4e2a\u503c\u3002<br><\/li><\/ol>\u8ba8\u8bba\uff1a\u5728\u73b0\u5b9e\u8bfe\u5802\u4e2d\uff0c\u6307\u5bfc\u5458\u53ef\u4ee5\u8be6\u7ec6\u9610\u8ff0\u8fd9\u4e9b\u5e94\u7528\u3002","title":"\u52a8\u529b - \u5e94\u7528"},{"id":769,"category":"sorting","order":3,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2021-12-26 14:14:40","updated_at":"2023-06-06 06:33:06","section":75,"code":"","section_order":1,"value":"1-3","text":"<ol><li>\u6211\u4eec\u53ef\u4ee5\u5728\u6709\u5e8f\u6570\u7ec4\u4e0a\u505a O(log N) \u7684\u4e8c\u5206\u67e5\u627e\u3002<\/li><li>A[0] \/ A[k-1] \/ A[N-k] \/ A[N-1] \u5206\u522b\u662f\u9759\u6001\u6709\u5e8f\u6570\u5217\u4e2d \u6700\u5c0f \/ \u7b2ck\u5c0f \/ \u7b2ck\u5927 \/ \u6700\u5927 \u7684\u9879\u3002<\/li><li>\u5982\u679c\u5b58\u5728\u91cd\u590d\u9879\uff0c\u5219\u4ed6\u4eec\u4f1a\u5728\u6709\u5e8f\u6570\u7ec4 <b>A<\/b> \u4e2d\u76f8\u90bb\u3002<\/li><li>\u540c\u4e0a\u3002<\/li><li>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5f52\u5e76\u6392\u5e8f\u4e2d\u5f52\u5e76\u64cd\u4f5c\u7684\u53d8\u79cd\u3002<\/li><li>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u53cc\u6307\u9488\u7b97\u6cd5\u3002<\/li><li>y \u7684\u7d22\u5f15 - x\u7684\u7d22\u5f15\uff08\u4e8c\u5206\u67e5\u627e\uff09\u3002<\/li><\/ol><div>\u5f53\u7136\u9664\u4e0a\u8ff0\uff0c\u4e5f\u6709\u5176\u4ed6\u65b9\u6cd5\u3002<br><\/div>","title":"\u5c0f\u63d0\u793a<br>"},{"id":78,"category":"sorting","order":2,"top":"","right":"","bottom":"140px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-02-13 04:46:36","updated_at":"2022-01-04 13:27:08","section":-1,"code":"$(\"#create\").click().addClass(\"menu-highlighted\");","section_order":-1,"value":"2","text":"\u5728\u8fd9\u4e2a\u53ef\u89c6\u5316\u4e2d\uff0c\u4f60\u53ef\u4ee5\u505a\u4e24\u4ef6\u4e8b\u3002<br>","title":"\u52a8\u4f5c"},{"id":544,"category":"sorting","order":1,"top":"","right":"","bottom":"140px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 04:43:12","updated_at":"2022-02-02 13:59:19","section":78,"code":"$(\"#create\").click().addClass(\"menu-highlighted\");","section_order":2,"value":"2-1","text":"\u7b2c\u4e00\u6b65\u662f\u5173\u4e8e\u5b9a\u4e49\u4f60\u81ea\u5df1\u7684\u8f93\u5165\uff0c\u4e00\u4e2a\u6570\u7ec4\/\u4e00\u4e2a\u5217\u8868\u662f\uff1a<br><ol><li> \u5b8c\u5168\u968f\u673a\u7684<\/li><li> \u968f\u673a\u4f46\u6709\u5e8f\u7684\uff08\u6309\u5347\u5e8f\/\u964d\u5e8f\u6392\u5217\uff09         <\/li><li> \u968f\u673a\u4f46\u51e0\u4e4e\u6709\u5e8f\u7684\uff08\u6309\u5347\u5e8f\/\u964d\u5e8f\u6392\u5217\uff09<\/li><li>\u968f\u673a\u4f46\u5305\u542b\u8bb8\u591a\u91cd\u590d\u9879\uff08\u56e0\u6b64\u5728\u5c0f\u8303\u56f4\u7684\u6574\u6570\u5185\uff09<br><\/li><li> \u5b8c\u5168\u7531\u4f60\u81ea\u5df1\u5b9a\u4e49\u3002<br><\/li><\/ol><div>\u5728\u63a2\u7d22\u6a21\u5f0f\u4e0b\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528\u6b64\u53ef\u89c6\u5316\u4e2d\u63d0\u4f9b\u7684\u5404\u79cd\u6392\u5e8f\u7b97\u6cd5\u6765\u627e\u51fa\u6700\u4f73\u548c\u6700\u5dee\u60c5\u51b5\u7684\u8f93\u5165\u3002<br><\/div>","title":"\u5b9a\u4e49\u4f60\u81ea\u5df1\u7684\u8f93\u5165"},{"id":545,"category":"sorting","order":2,"top":"","right":"","bottom":"140px","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 04:45:26","updated_at":"2022-01-05 02:18:17","section":78,"code":"$('#title-Bubble').click();\n$(\"#sort\").addClass(\"menu-highlighted\");","section_order":2,"value":"2-2","text":"<p>\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u662f\u6700\u91cd\u8981\u7684\u64cd\u4f5c\uff1a\u901a\u8fc7\u5355\u51fb\u201cSort\u201d\u6309\u94ae\u6765\u6267\u884c\u6392\u5e8f\u7b97\u6cd5\u3002<br><\/p><p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5207\u6362\u9875\u9762\u9876\u90e8\u7684\u7b97\u6cd5\u7f29\u5199\u6765\u5207\u6362\u5f53\u524d\u7b97\u6cd5\u3002<\/p>","title":"\u6267\u884c\u5df2\u9009\u62e9\u7684\u6392\u5e8f\u7b97\u6cd5"},{"id":77,"category":"sorting","order":3,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-02-13 04:45:18","updated_at":"2023-08-16 08:45:37","section":-1,"code":"","section_order":-1,"value":"3","text":"\u5728\u6b64\u5904\u67e5\u770b\u6240\u9009\u6392\u5e8f\u7b97\u6cd5\u7684\u53ef\u89c6\u5316\/\u52a8\u753b\u3002<div>\u4e0d\u5931\u4e00\u822c\u6027\uff0c\u6211\u4eec\u5728\u53ef\u89c6\u5316\u4e2d\u53ea\u5c55\u793a\u6574\u6570\uff0c\u800c\u6211\u4eec\u7684\u76ee\u6807\u662f\u628a\u5b83\u4eec\u4ece\u521d\u59cb\u6570\u5217\u6392\u5e8f\u81f3\u975e\u51cf\u6570\u5217\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u975e\u51cf\u6570\u5217\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u610f\u5473\u7740\u9012\u589e\u6570\u5217\uff0c\u4f46\u662f\u5b58\u5728\u6709\u91cd\u590d\u5143\u7d20\u7684\u53ef\u80fd\u6027\uff0c\u6709\u53ef\u80fd\u76f8\u90bb\u5143\u7d20\u4e4b\u95f4\u4f1a\u76f8\u7b49\u3002<\/div>","title":"\u53ef\u89c6\u5316"},{"id":76,"category":"sorting","order":4,"top":"70px","right":"","bottom":"","left":"220px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-02-12 21:53:26","updated_at":"2023-08-16 08:43:09","section":-1,"code":"","section_order":-1,"value":"4","text":"<div>\u4f60\u80fd\u5728\u9876\u90e8\u627e\u5230\u8ba1\u7b97\u673a\u8bfe\u4e0a\u5e38\u89c1\u7684\u51e0\u79cd\u6392\u5e8f\u7b97\u6cd5\u3002\u4f60\u53ef\u4ee5\u5728\u70b9\u51fb\u201cSort\u201d\u4e4b\u524d\uff0c\u901a\u8fc7\u9009\u62e9\u76f8\u5e94\u7684\u7b97\u6cd5\u7f29\u5199\u6765\u6fc0\u6d3b\u4e0d\u540c\u7684\u7b97\u6cd5\u3002<\/div><div>\u4e3a\u4e86\u4f7f\u6211\u4eec\u7684\u8bfe\u5802\u66f4\u591a\u6837\uff0c\u6211\u4eec\u5728\u9875\u9762\u52a0\u8f7d\u65f6\u4f1a\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u7b97\u6cd5\u3002<\/div><div>\u8fd9\u95e8\u8bfe\u4e2d\u524d\u516d\u4e2a\u7b97\u6cd5\u662f<b>\u57fa\u4e8e\u6392\u5e8f<\/b>\u7684\uff0c\u800c\u540e\u4e24\u4e2a\u4e0d\u662f\u3002\u6211\u4eec\u4f1a\u5728\u8fd9\u4e2a\u7535\u5b50\u8bb2\u5ea7\u4e2d\u8ba8\u8bba\u8fd9\u4e2a\u60f3\u6cd5\u3002<\/div><div>\u4e2d\u95f4\u7684\u4e09\u4e2a\u7b97\u6cd5\u662f\u9012\u5f52\u7684\uff0c\u800c\u5176\u4ed6\u7684\u7b97\u6cd5\u5e38\u5e38\u57fa\u4e8e\u8fed\u4ee3\u5b9e\u73b0\u3002<br><\/div>","title":"\u5e38\u89c1\u7684\u6392\u5e8f\u7b97\u6cd5"},{"id":540,"category":"sorting","order":1,"top":"70px","right":"","bottom":"","left":"220px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-05-31 07:14:49","updated_at":"2023-08-16 08:43:11","section":76,"code":"","section_order":4,"value":"4-1","text":"<p>\u4e3a\u4e86\u8282\u7701\u5c4f\u5e55\u7a7a\u95f4\uff0c\u6211\u4eec\u5c06\u7b97\u6cd5\u540d\u79f0\u7f29\u5199\u4e3a\u4e09\u4e2a\u5b57\u7b26:<\/p><ol><li>\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5:<ol><li>BUB - \u5192\u6ce1\u6392\u5e8f\uff0c<\/li><li>SEL - \u9009\u62e9\u6392\u5e8f\uff0c<\/li><li>INS - \u63d2\u5165\u6392\u5e8f\uff0c<\/li><li>MER - \u5f52\u5e76\u6392\u5e8f (\u9012\u5f52\u5b9e\u73b0)\uff0c<\/li><li>QUI - \u5feb\u901f\u6392\u5e8f (\u9012\u5f52\u5b9e\u73b0)\uff0c<\/li><li>R-Q - \u968f\u673a\u5feb\u901f\u6392\u5e8f (\u9012\u5f52\u5b9e\u73b0)<\/li><\/ol><\/li><li>\u4e0d\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5:<ol><li>COU - \u8ba1\u6570\u6392\u5e8f\uff0c<\/li><li>RAD - \u57fa\u6570\u6392\u5e8f<\/li><\/ol><\/li><\/ol>","title":"\u7f29\u5199"},{"id":554,"category":"sorting","order":5,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:05:09","updated_at":"2023-08-16 08:43:13","section":-1,"code":"","section_order":-1,"value":"5","text":"<p>\u5728\u63a5\u4e0b\u6765\u7684\u5e7b\u706f\u7247\uff0c\u6211\u4eec\u5c06\u8ba8\u8bba\u4e09\u79cd\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5<\/p><div><ol><li><a href=\"?slide=7\"><u>\u5192\u6ce1\u6392\u5e8f<\/u><\/a><br><\/li><li><a href=\"?slide=8\"><u>\u9009\u62e9\u6392\u5e8f<\/u><\/a><br><\/li><li><a href=\"?slide=9\"><u>\u63d2\u5165\u6392\u5e8f<\/u><\/a><br><\/li><\/ol><\/div><div>\u5b83\u4eec\u88ab\u79f0\u4e3a\u57fa\u4e8e\u6bd4\u8f83\u7684\u7b97\u6cd5\uff0c\u56e0\u4e3a\u5b83\u4eec\u6bd4\u8f83\u6570\u7ec4\u7684\u5143\u7d20\u5bf9\u5e76\u51b3\u5b9a\u662f\u5426\u4ea4\u6362\u5b83\u4eec\u3002<br>\u8fd9\u4e09\u79cd\u6392\u5e8f\u7b97\u6cd5\u6700\u5bb9\u6613\u5b9e\u73b0\uff0c\u4f46\u4e0d\u662f\u6548\u7387\u6700\u9ad8\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fO\uff08N<sup>2<\/sup>)\u3002<\/div>","title":"3. O(N<sup><span style=\"white-space: normal;\">2<\/span><\/sup>) \u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5"},{"id":735,"category":"sorting","order":6,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 04:41:02","updated_at":"2023-08-16 08:43:16","section":-1,"code":"","section_order":-1,"value":"6","text":"<div>\u5728\u6211\u4eec\u5f00\u59cb\u5404\u79cd\u6392\u5e8f\u7b97\u6cd5\u7684\u8ba8\u8bba\u4e4b\u524d\uff0c\u6216\u8bb8\u5148\u8ba8\u8bba\u6e10\u8fdb\u7b97\u6cd5\u7684\u5206\u6790\u80fd\u5e2e\u52a9\u4f60\u7406\u89e3\u540e\u9762\u8981\u63d0\u5230\u7684\u5404\u79cd O(<b>N<sup>2<\/sup><\/b>)\uff0cO(<b>N<\/b> log <b>N<\/b>)\uff0c\u548c\u7279\u6b8a\u7684 O(<b>N<\/b>) \u7684\u6392\u5e8f\u7b97\u6cd5\u3002<\/div><div>\u5982\u679c\u4f60\u5bf9\u8fd9\u65b9\u9762\u77e5\u8bc6\u5df2\u6709\u4e86\u89e3\uff0c\u53ef\u8df3\u8fc7\u6b64\u5c0f\u8282\u3002<br><\/div>","title":"\u57fa\u7840\u7b97\u6cd5\u5206\u6790<br>"},{"id":736,"category":"sorting","order":1,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 04:43:03","updated_at":"2023-08-16 08:43:18","section":735,"code":"","section_order":6,"value":"6-1","text":"<p>\u4f60\u5e94\u8be5\u5df2\u7ecf\u4e86\u89e3\u4e0b\u5217\u77e5\u8bc6\uff1a<br>-. \u5bf9\u6570\u548c\u6307\u6570, e.g., log<sub>2<\/sub>(1024) = 10, 2<sup>10<\/sup> = 1024<br>-. \u7b49\u5dee\u6570\u5217, e.g., 1+2+3+4+\u2026+10 = 10*11\/2 = 55<br>-. \u7b49\u6bd4\u6570\u5217, e.g., 1+2+4+8+..+1024 = 1*(1-2<sup>11<\/sup>)\/(1-2) = 2047<br>-. \u7ebf\u6027\/\u4e8c\u6b21\/\u4e09\u6b21\u51fd\u6570, e.g., f1(x) = x+2, f2(x) = x<sup>2<\/sup>+x-1, f3(x) = x<sup>3<\/sup>+2x<sup>2<\/sup>-x+7<br>-. \u5411\u4e0a\u53d6\u6574 (ceiling), \u5411\u4e0b\u53d6\u6574 (floor) , \u548c\u7edd\u5bf9\u503c (absolute) \u51fd\u6570, e.g., ceil(3.1) = 4, floor(3.1) = 3, abs(-7) = 7<\/p>","title":"\u6570\u5b66\u9884\u5907\u77e5\u8bc6"},{"id":737,"category":"sorting","order":2,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 04:47:21","updated_at":"2023-08-16 08:43:20","section":735,"code":"","section_order":6,"value":"6-2","text":"<div>\u7b97\u6cd5\u7684\u5206\u6790\u662f\u4e00\u4e2a\u4e25\u8c28\u5206\u6790\u7b97\u6cd5\u6240\u9700\u8d44\u6e90\uff08\u65f6\u95f4\u548c\u7a7a\u95f4\uff09\u5e76\u7528\u7b80\u5355\u516c\u5f0f\u8868\u793a\u7ed3\u679c\u7684\u8fc7\u7a0b\u3002<\/div><div>\u7b97\u6cd5\u6240\u9700\u7684\u65f6\u95f4\/\u7a7a\u95f4\u4e5f\u88ab\u5206\u522b\u79f0\u4e3a\u7b97\u6cd5\u7684\u65f6\u95f4\/\u7a7a\u95f4\u590d\u6742\u5ea6\u3002<\/div><div>\u5728\u672c\u8bfe\u4e2d\uff0c\u6211\u4eec\u4f1a\u66f4\u6ce8\u91cd\u5404\u6392\u5e8f\u7b97\u6cd5\u7684\u65f6\u95f4\u8981\u6c42\u3002<br><\/div>","title":"\u662f\u4ec0\u4e48\uff1f<br>"},{"id":738,"category":"sorting","order":3,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 04:49:12","updated_at":"2023-08-16 08:43:36","section":735,"code":"","section_order":6,"value":"6-3","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u5899\u949f\u65f6\u95f4\u6216\u5728\u6211\u4eec\u7684\u7a0b\u5e8f\u4e2d\u63d2\u5165\u65f6\u95f4\u6d4b\u91cf\u4ee3\u7801\u6765\u6d4b\u91cf\u7a0b\u5e8f\u7684\u5b9e\u9645\u8fd0\u884c\u65f6\u95f4\uff0c\u4f8b\u5982\uff0c\u53c2\u89c1 <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SpeedTest.cpp\" target=\"_blank\"><u>SpeedTest.cpp<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SpeedTest.py\" target=\"_blank\"><u>py<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SpeedTest.java\" target=\"_blank\"><u>java<\/u><\/a> \u4e2d\u663e\u793a\u7684\u4ee3\u7801\u3002<\/p><br><p>\u7136\u800c\uff0c\u5b9e\u9645\u8fd0\u884c\u65f6\u95f4\u5728\u6bd4\u8f83\u4e24\u79cd\u7b97\u6cd5\u65f6\u5e76\u6ca1\u6709\u610f\u4e49\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ef\u80fd\u662f\u7528\u4e0d\u540c\u7684\u8bed\u8a00\u7f16\u5199\u7684\uff0c\u4f7f\u7528\u4e0d\u540c\u7684\u6570\u636e\u96c6\uff0c\u6216\u5728\u4e0d\u540c\u7684\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u3002<\/p>","title":"\u6d4b\u91cf\u5b9e\u9645\u8fd0\u884c\u65f6\u95f4\uff1f<br>"},{"id":739,"category":"sorting","order":4,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 04:53:49","updated_at":"2023-08-16 08:43:46","section":735,"code":"","section_order":6,"value":"6-4","text":"<p>\u6211\u4eec\u4e0d\u662f\u6d4b\u91cf\u5b9e\u9645\u7684\u65f6\u95f4\uff0c\u800c\u662f\u8ba1\u7b97\u64cd\u4f5c\u7684\u6570\u91cf\uff08\u7b97\u672f\uff0c\u8d4b\u503c\uff0c\u6bd4\u8f83\u7b49\uff09\u3002\u8fd9\u662f\u4e00\u79cd\u8bc4\u4f30\u5176\u6548\u7387\u7684\u65b9\u6cd5\uff0c\u56e0\u4e3a\u7b97\u6cd5\u7684\u6267\u884c\u65f6\u95f4\u4e0e\u5b83\u6240\u9700\u7684\u64cd\u4f5c\u6570\u91cf\u6709\u5173\u3002<\/p><br><p>\u8bf7\u53c2\u9605\u5728 <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SpeedTest.cpp\" target=\"_blank\"><u>SpeedTest.cpp<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SpeedTest.py\" target=\"_blank\"><u>py<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SpeedTest.java\" target=\"_blank\"><u>java<\/u><\/a> \u4e2d\u663e\u793a\u7684\u4ee3\u7801\u548c\u8bc4\u8bba\uff08\u7279\u522b\u662f\u5982\u4f55\u83b7\u5f97\u53d8\u91cf\u8ba1\u6570\u5668\u7684\u6700\u7ec8\u503c\uff09\u3002<\/p><br><p>\u77e5\u9053\u7b97\u6cd5\u9700\u8981\u7684\u64cd\u4f5c\u6570\u91cf\uff08\u7cbe\u786e\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u8bf4\uff1a\u7b97\u6cd5 <b>X <\/b>\u9700\u8981 <b>2n<sup>2<\/sup> + 100n <\/b>\u6b21\u64cd\u4f5c\u6765\u89e3\u51b3\u5927\u5c0f\u4e3a <b>n <\/b>\u7684\u95ee\u9898\u3002<\/p>","title":"\u6570\u64cd\u4f5c\u6570\uff081\uff09<br>"},{"id":740,"category":"sorting","order":5,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 04:55:58","updated_at":"2023-08-16 08:54:54","section":735,"code":"","section_order":6,"value":"6-5","text":"<p>\u5982\u679c\u5df2\u77e5\u4e00\u6b21\u64cd\u4f5c\u6240\u9700\u7684\u65f6\u95f4<b>t<\/b>\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8bf4\u7b97\u6cd5<b>X<\/b>\u9700\u8981<b>(2n<sup>2<\/sup> + 100n)t<\/b>\u65f6\u95f4\u5355\u4f4d\u6765\u89e3\u51b3\u5927\u5c0f\u4e3a<b>n<\/b>\u7684\u95ee\u9898\u3002<\/p><br><p>\u7136\u800c\uff0c\u65f6\u95f4<b>t<\/b>\u53d6\u51b3\u4e8e\u524d\u9762\u63d0\u5230\u7684\u56e0\u7d20\uff0c\u4f8b\u5982\uff0c\u4e0d\u540c\u7684\u8bed\u8a00\u3001\u7f16\u8bd1\u5668\u548c\u8ba1\u7b97\u673a\uff0c\u64cd\u4f5c\u672c\u8eab\u7684\u590d\u6742\u6027\uff08\u52a0\u6cd5\/\u51cf\u6cd5\u6bd4\u4e58\u6cd5\/\u9664\u6cd5\u66f4\u5bb9\u6613\/\u66f4\u5feb\u5730\u8ba1\u7b97\uff09\uff0c\u7b49\u7b49\u3002<\/p><br><p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u8bf4\uff0c\u7b97\u6cd5<b>X<\/b>\u89e3\u51b3\u5927\u5c0f\u4e3a<b>n<\/b>\u7684\u95ee\u9898\u6240\u9700\u7684\u65f6\u95f4<b>\u4e0e2n<sup>2<\/sup> + 100n\u6210\u6bd4\u4f8b<\/b>\uff0c\u800c\u4e0d\u662f\u5c06\u5206\u6790\u4e0e\u5b9e\u9645\u65f6\u95f4<b>t<\/b>\u7ed1\u5b9a\u5728\u4e00\u8d77\u3002<\/p>","title":"\u6570\u64cd\u4f5c\u6570\uff082\uff09<br>"},{"id":741,"category":"sorting","order":6,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 04:58:45","updated_at":"2023-08-23 04:53:39","section":735,"code":"","section_order":6,"value":"6-6","text":"<p><a href=\"https:\/\/www.collinsdictionary.com\/dictionary\/english\/asymptotic\" target=\"_blank\"><u>\u6e10\u8fd1<\/u><\/a>\u5206\u6790\u662f\u4e00\u79cd\u4e13\u6ce8\u4e8e\u5206\u6790<b>\u5927\u8f93\u5165\u5927\u5c0fn<\/b>\u95ee\u9898\u7684\u7b97\u6cd5\u5206\u6790\uff0c\u53ea\u8003\u8651\u516c\u5f0f\u7684<b>\u4e3b\u5bfc\u9879<\/b>\uff0c\u5e76<b>\u5ffd\u7565\u4e3b\u5bfc\u9879\u7684\u7cfb\u6570<\/b>\u3002<\/p><br><p>\u6211\u4eec\u9009\u62e9\u4e3b\u5bfc\u9879\uff0c\u56e0\u4e3a\u968f\u7740\u8f93\u5165\u7684\u589e\u5927\uff0c\u4f4e\u9636\u9879\u5bf9\u603b\u4f53\u6210\u672c\u7684\u8d21\u732e\u8f83\u5c0f\uff0c\u4f8b\u5982\uff0c\u5bf9\u4e8ef(n) = 2n<sup>2<\/sup> + 100n\uff0c\u6211\u4eec\u6709\uff1a<br>f(1000) = 2*1000<sup>2<\/sup> + 100*1000 = 2.1M\uff0c\u76f8\u6bd4\u4e4b\u4e0b<br>f(100000) = 2*100000<sup>2<\/sup> + 100*100000 = 20010M\u3002<br>(\u6ce8\u610f\uff0c\u4f4e\u9636\u9879100n\u7684\u8d21\u732e\u8f83\u5c0f)\u3002<\/p>","title":"\u6e10\u8fdb\u5206\u6790<br>"},{"id":742,"category":"sorting","order":7,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 05:04:16","updated_at":"2023-08-16 08:43:55","section":735,"code":"","section_order":6,"value":"6-7","text":"<div>\u5047\u8bbe\u4e24\u4e2a\u7b97\u6cd5\u5206\u522b\u6709 2n<sup>2<\/sup> and 30n<sup>2<\/sup> \u7684\u9996\u9879\u3002<\/div><div>\u867d\u7136\u5b9e\u9645\u65f6\u95f4\u4f1a\u56e0\u5e38\u6570\u4e0d\u540c\u800c\u4e0d\u540c\uff0c\u4f46\u5b83\u4eec\u7684\u589e\u957f\u7387 (growth rate) \u662f\u4e00\u6837\u7684\u3002<\/div><div>\u76f8\u6bd4\u4e8e\u53e6\u4e00\u4e2a\u9996\u9879\u4e3a n<sup>3<\/sup> \u7684\u7b97\u6cd5\uff0c\u589e\u957f\u7387\u7684\u4e0d\u540c\u624d\u662f\u66f4\u91cd\u8981\u7684\u51b3\u5b9a\u56e0\u7d20\u3002<\/div><div>\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u5b66\u4e60\u7b97\u6cd5\u590d\u6742\u5ea6\u7684\u65f6\u5019\u53ef\u4ee5\u4e0d\u7528\u5728\u610f\u9996\u9879\u7684\u7cfb\u6570\u3002<br><\/div>","title":"\u5ffd\u7565\u9996\u9879\u7684\u7cfb\u6570<br>"},{"id":743,"category":"sorting","order":8,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 05:06:54","updated_at":"2023-08-16 08:43:58","section":735,"code":"","section_order":6,"value":"6-8","text":"\u5982\u679c\u7b97\u6cd5 A \u9700\u8981\u6b63\u6bd4\u4e8e f(n) \u7684\u65f6\u95f4\uff0c\u5219\u7b97\u6cd5 A \u548c f(n) \u7b49\u9636\u3002<p>\u5199\u4f5c\u7b97\u6cd5 A \u6709\u65f6\u95f4\u590d\u6742\u5ea6 O(f(n))\uff0c\u5176\u4e2d f(n) \u662f\u7b97\u6cd5 A \u7684\u589e\u957f\u7387\u51fd\u6570\u3002<br><\/p>","title":"\u4e0a\u9650\uff08Big-O \u7b26\u53f7\uff09<br>"},{"id":746,"category":"sorting","order":9,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 05:19:30","updated_at":"2023-08-16 08:44:00","section":735,"code":"","section_order":6,"value":"6-9","text":"<div>\u6570\u5b66\u4e0a\u6765\u8bf4\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u7b97\u6cd5 A \uff0c\u5f53\u5b58\u5728\u5e38\u6570 k\uff0c\u6b63\u6574\u6570 n<sub>0<\/sub> \u4f7f\u5f97 A \u89e3\u51b3\u5927\u5c0f\u4e3a n (<b>n \u2265 n<sub>0<\/sub><\/b>) \u7684\u95ee\u9898\u65f6\u8bdd\u8d39\u7684\u65f6\u95f4\u4e0d\u8d85\u8fc7 <b>k*f(n)<\/b>\uff0c\u90a3\u4e48\u6211\u4eec\u8ba4\u4e3a A \u662f\u4e00\u4e2a O(<b>f(n)<\/b>) \u7684\u7b97\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u95ee\u9898\u5927\u5c0f\u5927\u4e8e <b>n<sub>0<\/sub><\/b>\uff0c\u7b97\u6cd5 A \u4e0d\u8d85\u8fc7 <b>k*f(n)<\/b> \u65f6\u95f4\u3002<\/div><div><br><\/div><div>\u6ce8\u610f\uff1a<b>n<sub>0<\/sub><\/b> \u548c <b>k<\/b> \u4e0d\u552f\u4e00\uff0c\u53ef\u80fd\u5b58\u5728\u5f88\u591a\u53ef\u80fd\u7684\u6709\u6548 <b>f(n)<\/b>\u3002<br><\/div>","title":"Big-O \u7b26\u53f7\uff08\u6570\u5b66\u4e0a\u7684\uff09<br>"},{"id":744,"category":"sorting","order":10,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 05:08:38","updated_at":"2023-08-16 08:44:03","section":735,"code":"","section_order":6,"value":"6-10","text":"<div>\u5728\u6e10\u8fdb\u5206\u6790 (asymptotic analysis) \u4e2d\uff0c\u4e00\u4e2a\u516c\u5f0f\u80fd\u88ab\u7b80\u5316\u4e3a\u7cfb\u6570\u4e3a1\u7684\u5355\u9879\u3002<\/div><div>\u8fd9\u4e00\u9879\u88ab\u79f0\u4e3a\u589e\u957f\u9879 (growth term)\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u589e\u957f\u7387 (rate of growth)\uff0c\u589e\u957f\u6b21\u5e42 (order of growth)\uff0c\u6570\u91cf\u7ea7(order of magnitude) \u4fe1\u606f\u3002<\/div><div>\u6700\u5e38\u89c1\u7684\u589e\u957f\u9879\u4ece\u5feb\u5230\u6162\u4f9d\u6b21\u662f\uff1a<\/div><div>O(<b>1<\/b>)\/\u5e38\u6570\u65f6\u95f4 &lt; O(log <b>n<\/b>)\/\u5bf9\u6570\u65f6\u95f4 &lt; O(<b>n<\/b>)\/\u7ebf\u6027\u65f6\u95f4 &lt; O(<b>n<\/b> log <b>n<\/b>)\/\u51c6\u7ebf\u6027\u65f6\u95f4 &lt; O(<b>n<\/b><sup>2<\/sup>)\/\u4e8c\u6b21\u65f6\u95f4 &lt; O(<b>n<\/b><sup>3<\/sup>)\/\u4e09\u6b21\u65f6\u95f4 &lt;<br>O(2<sup><b>n<\/b><\/sup>)\/\u6307\u6570\u65f6\u95f4 &lt; O(<b>n<\/b>!)\/\u540c\u6837\u6307\u6570\u65f6\u95f4 &lt; \u221e (\u5982\u6b7b\u5faa\u73af).<\/div>","title":"\u589e\u957f\u9879<br>"},{"id":745,"category":"sorting","order":11,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2020-10-06 05:15:27","updated_at":"2023-08-16 08:44:06","section":735,"code":"","section_order":6,"value":"6-11","text":"\u6211\u4eec\u5728\u63a5\u4e0b\u6765\u7684\u6392\u5e8f\u8bfe\u7a0b\u4e2d\u4f1a\u770b\u5230\u4e09\u79cd\u4e0d\u540c\u7684\u589e\u957f\u7387\uff1aO(<b>n<sup>2<\/sup><\/b>), O(<b>n log n<\/b>), \u548c O(<b>n<\/b>)\u3002","title":"\u589e\u957f\u9879\uff08\u53ef\u89c6\u5316\u7684\/\u6bd4\u8f83\u7684\uff09<br>"},{"id":175,"category":"sorting","order":7,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 15:14:08","updated_at":"2023-08-16 08:45:49","section":-1,"code":"$('#title-Bubble').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.bubbleSort, \"29,10,14,37,14\");","section_order":-1,"value":"7","text":"\u7ed9\u5b9a\u4e00\u4e2a <b>N<\/b> \u4e2a\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u5192\u6ce1\u6cd5\u6392\u5e8f\u5c06\uff1a<br><ol><li>\u6bd4\u8f83\u4e00\u5bf9\u76f8\u90bb\u5143\u7d20\uff08a\uff0cb\uff09\uff0c<\/li><li>\u5982\u679c\u4e24\u9879\u7684\u5927\u5c0f\u5173\u7cfb\u4e0d\u6b63\u786e\uff0c\u4ea4\u6362\u8fd9\u4e24\u4e2a\u6570\uff08\u5728\u672c\u4f8b\u4e2d\u4e3aa &gt; b\uff09\uff0c<\/li><li>\u91cd\u590d\u6b65\u9aa41\u548c2\uff0c\u76f4\u5230\u6211\u4eec\u5230\u8fbe\u6570\u7ec4\u7684\u672b\u5c3e\uff08\u6700\u540e\u4e00\u5bf9\u662f\u7b2c <b>N-2<\/b> \u548c<b> N-1<\/b> \u9879\uff0c\u56e0\u4e3a\u6211\u4eec\u7684\u6570\u7ec4\u4ece\u96f6\u5f00\u59cb\uff09<\/li><li>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6700\u5927\u9879\u5c06\u5728\u6700\u540e\u7684\u4f4d\u7f6e\u3002 \u7136\u540e\u6211\u4eec\u5c06 <b>N<\/b> \u51cf\u5c111\uff0c\u5e76\u91cd\u590d\u6b65\u9aa41\uff0c\u76f4\u5230 <b>N = 1<\/b>\u3002<br><\/li><\/ol>\u4e0d\u7528\u591a\u8bf4\uff0c\u6211\u4eec\u6765\u8bd5\u8bd5\u4e0a\u9762\u7684\u5c0f\u4f8b\u5b50 <span class=\"slide-actions\" onclick=\"doButtonAction11()\">Bubble Sort<\/span> \u3002<br>\u5982\u679c\u60a8\u60f3\u8c61\u8f83\u5927\u7684\u9879\u76ee\u201c\u5192\u6ce1\u201d\uff08\u4e5f\u5c31\u662f\u201c\u6d6e\u52a8\u5230\u6570\u7ec4\u7684\u53f3\u4fa7\u201d\uff09\uff0c\u5219\u5e94\u8be5\u80fd\u770b\u5230\u5230\u4e00\u4e2a\u201c\u6c14\u6ce1\u5f0f\u201d\u52a8\u753b\u3002<br>","title":"\u5192\u6ce1\u6392\u5e8f"},{"id":206,"category":"sorting","order":1,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-04-10 05:36:47","updated_at":"2023-08-16 09:08:39","section":175,"code":"$('#title-Bubble').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.bubbleSort, \"29,10,14,37,14\");","section_order":7,"value":"7-1","text":"<pre>method bubbleSort(array A, integer N) \/\/ \u6807\u51c6\u7248\u672c<br>  for each R from N-1 down to 1 \/\/ \u91cd\u590d N-1 \u6b21\u8fed\u4ee3<br>    for each index i in [0..R-1] \/\/ &#39;\u672a\u6392\u5e8f\u533a\u57df&#39;\uff0cO(N)<br>      if A[i] &gt; A[i+1] \/\/ \u8fd9\u4e24\u4e2a\u4e0d\u662f\u975e\u9012\u51cf\u987a\u5e8f<br>        swap(a[i], a[i+1]) \/\/ \u5728 O(1) \u4e2d\u4ea4\u6362\u5b83\u4eec<\/pre><p>\u6bd4\u8f83\u548c\u4ea4\u6362\u9700\u8981\u7684\u65f6\u95f4\u7531\u4e00\u4e2a\u5e38\u6570\u9650\u5236\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a <b>c<\/b>\u3002\u7136\u540e\uff0c\u5728\uff08\u6807\u51c6\uff09\u5192\u6ce1\u6392\u5e8f\u4e2d\u6709\u4e24\u4e2a\u5d4c\u5957\u5faa\u73af\u3002\u5916\u5faa\u73af\u6b63\u597d\u8fd0\u884c <b>N-1<\/b> \u6b21\u8fed\u4ee3\u3002\u4f46\u662f\u5185\u5faa\u73af\u7684\u8fd0\u884c\u65f6\u95f4\u8d8a\u6765\u8d8a\u77ed\uff1a<\/p><ol><li>\u5f53 R=<b>N<\/b>-1 \u65f6\uff0c(<b>N<\/b>\u22121) \u6b21\u8fed\u4ee3\uff08\u6bd4\u8f83\u548c\u4ea4\u6362\uff09\uff0c<\/li><li>\u5f53 R=<b>N<\/b>-2 \u65f6\uff0c(<b>N<\/b>\u22122) \u6b21\u8fed\u4ee3\uff0c<br>...\uff0c<\/li><li>\u5f53 R=1 \u65f6\uff0c1 \u6b21\u8fed\u4ee3\uff08\u7136\u540e\u5b8c\u6210\uff09\u3002<\/li><\/ol><p>\u56e0\u6b64\uff0c\u603b\u7684\u8fed\u4ee3\u6b21\u6570 = (<b>N<\/b>\u22121)+(<b>N<\/b>\u22122)+...+1 = <b>N<\/b>*(<b>N<\/b>\u22121)\/2 (<a href=\"https:\/\/en.wikipedia.org\/wiki\/Arithmetic_progression#Sum\" target=\"_blank\"><u>\u63a8\u5bfc<\/u><\/a>).<\/p><p>\u603b\u65f6\u95f4 = c*<b>N<\/b>*(<b>N<\/b>\u22121)\/2 = O(<b>N<\/b>^2).<\/p><br><p>\u8bf7\u53c2\u9605\u5728 <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.cpp\" target=\"_blank\"><u>SortingDemo.cpp<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.py\" target=\"_blank\"><u>py<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.java\" target=\"_blank\"><u>java<\/u><\/a> \u4e2d\u663e\u793a\u7684\u4ee3\u7801\u3002<\/p>","title":"\u5192\u6ce1\u6392\u5e8f\uff0c\u4f2a\u4ee3\u7801 &amp; \u5206\u6790"},{"id":207,"category":"sorting","order":2,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-04-10 05:39:59","updated_at":"2023-08-16 09:05:41","section":175,"code":"$('#title-Bubble').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.bubbleSort, \"3,6,11,25,39\");","section_order":7,"value":"7-2","text":"<p>\u5192\u6ce1\u6392\u5e8f\u5b9e\u9645\u4e0a\u6548\u7387\u4f4e\u4e0b\uff0c\u5176<b>O(N^2)<\/b>\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u60f3\u8c61\u4e00\u4e0b\uff0c\u6211\u4eec\u6709<b>N<\/b> = 10<sup>5<\/sup>\u4e2a\u6570\u5b57\u3002\u5373\u4f7f\u6211\u4eec\u7684\u8ba1\u7b97\u673a\u8d85\u7ea7\u5feb\uff0c\u80fd\u57281\u79d2\u5185\u8ba1\u7b9710<sup>8<\/sup>\u6b21\u64cd\u4f5c\uff0c\u5192\u6ce1\u6392\u5e8f\u4e5f\u9700\u8981\u5927\u7ea6100\u79d2\u624d\u80fd\u5b8c\u6210\u3002<\/p><br><p>\u7136\u800c\uff0c\u5b83\u53ef\u4ee5\u63d0\u524d\u7ec8\u6b62\uff0c\u4f8b\u5982\uff0c\u5728\u4e0a\u9762\u663e\u793a\u7684\u5c0f\u578b\u5347\u5e8f\u6392\u5e8f\u793a\u4f8b [3, 6, 11, 25, 39]\u4e2d\uff0c<span class=\"slide-actions\" onclick=\"doButtonAction11()\">Bubble Sort<\/span>\u53ef\u4ee5\u5728O(<b>N<\/b>)\u65f6\u95f4\u5185\u7ec8\u6b62\u3002<\/p><br><p>\u6539\u8fdb\u7684\u60f3\u6cd5\u5f88\u7b80\u5355\uff1a\u5982\u679c\u6211\u4eec\u5728\u5185\u5faa\u73af\u4e2d<b>\u6ca1\u6709\u4ea4\u6362<\/b>\uff0c\u90a3\u5c31\u610f\u5473\u7740\u6570\u7ec4<b>\u5df2\u7ecf\u6392\u5e8f<\/b>\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u90a3\u4e2a\u70b9\u505c\u6b62\u5192\u6ce1\u6392\u5e8f\u3002<\/p><br><p>\u8ba8\u8bba\uff1a\u5c3d\u7ba1\u8fd9\u4f7f\u5192\u6ce1\u6392\u5e8f\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\u8fd0\u884c\u5f97\u66f4\u5feb\uff0c\u4f46\u8fd9\u4e2a\u6539\u8fdb\u7684\u60f3\u6cd5\u5e76\u6ca1\u6709\u6539\u53d8\u5192\u6ce1\u6392\u5e8f\u7684<b>O(N^2)<\/b>\u65f6\u95f4\u590d\u6742\u5ea6...\u4e3a\u4ec0\u4e48\u5462\uff1f<\/p>","title":"\u5192\u6ce1\u6392\u5e8f\uff1a\u63d0\u524d\u7ec8\u6b62"},{"id":543,"category":"sorting","order":3,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2017-05-31 09:26:35","updated_at":"2023-08-16 08:45:56","section":175,"code":"$('#title-Bubble').click();\n$(\"#sort\").addClass(\"menu-highlighted\");","section_order":7,"value":"7-3","text":"<div>\u5c1d\u8bd5 <span class=\"slide-actions\" onclick=\"doButtonAction33()\">Bubble Sort Extreme Case<\/span>\u3002\u6211\u4eec\u4f1a\u5728\u5bf9\u4e00\u4e2a\u5c0f\u7684\u53cd\u5411\u6392\u5e8f\u8f93\u5165\u6570\u7ec4\u4e0a\u8fd0\u884c\u5192\u6ce1\u6392\u5e8f\u7684\u8fc7\u7a0b\u4e2d\u518d\u6b21\u9047\u5230 O(N<sup>2<\/sup>) \u65f6\u95f4\u590d\u6742\u5ea6\u7684\u95ee\u9898\u3002<\/div><div>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u4e00\u4e2a\u50cf [2,3,4,5,6,...,1 ]\u8fd9\u6837\u51e0\u4e4e\u6392\u5e8f\u597d\u4e86\u7684\u6570\u7ec4\u4e0a\u8fd0\u884c\u5192\u6ce1\u6392\u5e8f\u65f6\uff0c\u8fd9\u4e2a\u6700\u4f18\u5192\u6ce1\u6392\u5e8f\u4ecd\u7136\u9700\u8981 O(N<sup>2<\/sup>) \u7684\u65f6\u95f4\u3002<br><\/div>","title":"\u7b54\u6848"},{"id":176,"category":"sorting","order":8,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 15:26:17","updated_at":"2023-08-16 09:05:57","section":-1,"code":"$('#title-Selection').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.selectionSort, \"29,10,14,37,13\");","section_order":-1,"value":"8","text":"\u7ed9\u5b9a <b>N<\/b> \u4e2a\u9879\u76ee\u548c <b>L = 0<\/b> \u7684\u6570\u7ec4\uff0c\u9009\u62e9\u6392\u5e8f\u5c06\uff1a<br><ol><li>\u5728 <b>[L ... N-1] <\/b>\u8303\u56f4\u5185\u627e\u51fa\u6700\u5c0f\u9879\u76ee <b>X <\/b>\u7684\u4f4d\u7f6e\uff0c<br><\/li><li>\u7528\u7b2c <b>L<\/b> \u9879\u4ea4\u6362\u7b2c <b>X<\/b> \u9879\uff0c<br><\/li><li>\u5c06\u4e0b\u9650 <b>L<\/b> \u589e\u52a01\u5e76\u91cd\u590d\u6b65\u9aa41\u76f4\u5230 <b>L = N-2<\/b>\u3002<br><\/li><\/ol>\u8ba9\u6211\u4eec\u5728\u4e0a\u9762\u7684\u540c\u4e00\u4e2a\u5c0f\u793a\u4f8b\u6570\u7ec4\u4e0a\u5c1d\u8bd5 <span class=\"slide-actions\" onclick=\"doButtonAction8()\">Selection Sort<\/span>\u3002<br>\u5728\u4e0d\u5931\u666e\u904d\u6027\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u53cd\u5411\u7684\u9009\u62e9\u6392\u5e8f\uff1a\u627e\u5230\u6700\u5927\u9879\u76ee <b>Y <\/b>\u7684\u4f4d\u7f6e\u5e76\u5c06\u5176\u4e0e\u672b\u9879\u4ea4\u6362\u3002<br>","title":"\u9009\u62e9\u6392\u5e8f"},{"id":187,"category":"sorting","order":1,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 20:35:19","updated_at":"2023-08-16 09:11:30","section":176,"code":"$('#title-Selection').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.selectionSort, \"29,10,14,37,13\");","section_order":8,"value":"8-1","text":"<pre>method selectionSort(array A[], integer N)<br>  for each L in [0..N-2] \/\/ O(<b>N<\/b>)<br>    let X be the index of the minimum element in A[L..N-1] \/\/ O(<b>N<\/b>)<br>    swap(A[X], A[L]) \/\/ O(1)\uff0cX \u53ef\u80fd\u7b49\u4e8e L (\u6ca1\u6709\u5b9e\u9645\u4ea4\u6362)<\/pre><p>\u603b\u8ba1: O(<b>N<\/b><sup>2<\/sup>) \u2014 \u51c6\u786e\u5730\u8bf4\uff0c\u5b83\u7c7b\u4f3c\u4e8e<a href=\"?slide=7-1\"><u>\u5192\u6ce1\u6392\u5e8f\u5206\u6790<\/u><\/a>\u3002<\/p><br><p>\u8bf7\u53c2\u9605\u5728<a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.cpp\" target=\"_blank\"><u>SortingDemo.cpp<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.py\" target=\"_blank\"><u>py<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.java\" target=\"_blank\"><u>java<\/u><\/a>\u4e2d\u663e\u793a\u7684\u4ee3\u7801\u3002<\/p>","title":"\u9009\u62e9\u6392\u5e8f\uff0c\u4f2a\u4ee3\u7801 &amp; \u5206\u6790"},{"id":202,"category":"sorting","order":2,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-04-10 05:00:02","updated_at":"2023-08-16 09:12:24","section":176,"code":"$('#title-Selection').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.selectionSort, \"29,10,14,37,13\");","section_order":8,"value":"8-2","text":"<span style=\"white-space: normal;\"><input class=\"mcq-answer\" id=\"mcq-answer-4\" value=\"26\" hidden><p>Quiz: <b>How many (real) swaps are required to sort [29, 10, 14, 37, 13] by Selection Sort?<\/b><\/p><form><input type=\"radio\" name=\"mcq-4-choice\" value=\"24\"> 1<br><input type=\"radio\" name=\"mcq-4-choice\" value=\"26\"> 3<br><input type=\"radio\" name=\"mcq-4-choice\" value=\"25\"> 2<br><input type=\"radio\" name=\"mcq-4-choice\" value=\"27\"> 4<br><\/form><button class=\"mcq-submit\" id=\"submit-4\">Submit<\/button> <span id=\"answer-status-4\"><\/span><br><\/span>","title":"\u5c0f\u6d4b\u9a8c"},{"id":178,"category":"sorting","order":9,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 18:14:12","updated_at":"2023-09-18 10:38:56","section":-1,"code":"$('#title-Insertion').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.insertionSort, \"6,2,10,7\");","section_order":-1,"value":"9","text":"<p>\u63d2\u5165\u6392\u5e8f\u7c7b\u4f3c\u4e8e\u5927\u591a\u6570\u4eba\u6574\u7406\u6251\u514b\u724c\u7684\u65b9\u5f0f\u3002<img src=\"https:\/\/puu.sh\/vfi6a\/e532309371.png\" alt=\"Poker hand\"><\/p><ol><li>\u624b\u91cc\u53ea\u62ff\u4e00\u5f20\u724c\uff0c<\/li><li>\u62ff\u4e0b\u4e00\u5f20\u724c\u5e76\u5c06\u5176\u63d2\u5165\u5230\u6b63\u786e\u7684\u6392\u5e8f\u4f4d\u7f6e\uff0c<\/li><li>\u5bf9\u6240\u6709\u724c\u91cd\u590d\u4e0a\u4e00\u6b65\u3002<\/li><\/ol><p class=\"notforprint\">\u8ba9\u6211\u4eec\u5c1d\u8bd5\u5728\u5c0f\u793a\u4f8b\u6570\u7ec4 [40, 13, 20, 8] \u4e0a\u4f7f\u7528 <span class=\"slide-actions\" onclick=\"doButtonAction10()\">Insertion Sort<\/span>\u3002<\/p>","title":"\u63d2\u5165\u6392\u5e8f"},{"id":203,"category":"sorting","order":1,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-04-10 05:20:19","updated_at":"2023-10-22 13:04:54","section":178,"code":"$('#title-Insertion').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.insertionSort, \"40,13,20,8\");","section_order":9,"value":"9-1","text":"<pre>method insertionSort(array A[], integer N)<br>  for i in [1..N-1] \/\/ O(N)<br>    let X be A[i] \/\/ X is the next item to be inserted into A[0..i-1]<br>    for j from i-1 down to 0 \/\/ this loop can be fast or slow<br>      if A[j] &gt; X<br>        A[j+1] = A[j] \/\/ make a place for X<br>      else<br>        break<br>    A[j+1] = X \/\/ insert X at index j+1<\/pre><p>See the code shown in <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.cpp\" target=\"_blank\"><u>SortingDemo.cpp<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.py\" target=\"_blank\"><u>py<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.java\" target=\"_blank\"><u>java<\/u><\/a>.<\/p>","title":"\u63d2\u5165\u6392\u5e8f\uff0c\u4f2a\u4ee3\u7801\u548c\u5206\u6790 1"},{"id":204,"category":"sorting","order":2,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-04-10 05:23:45","updated_at":"2023-08-16 09:12:31","section":178,"code":"$('#title-Insertion').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.insertionSort, \"40,13,20,8\");","section_order":9,"value":"9-2","text":"\u5916\u5faa\u73af\u6267\u884c <b>N-1<\/b> \u6b21\uff0c\u8fd9\u5f88\u660e\u663e\u3002<br>\u4f46\u5185\u5faa\u73af\u6267\u884c\u7684\u6b21\u6570\u53d6\u51b3\u4e8e\u8f93\u5165\uff1a<br><ol><li>\u5728\u6700\u597d\u7684\u60c5\u51b5\u4e0b\uff0c\u6570\u7ec4\u5df2\u7ecf\u6392\u5e8f\u5e76\u4e14 (a [j]&gt; X) \u603b\u662f\u4e3a\u5047\u3002\u6240\u4ee5\u4e0d\u9700\u8981\u79fb\u4f4d\u6570\u636e\uff0c\u5e76\u4e14\u5185\u90e8\u5faa\u73af\u5728O\uff081\uff09\u65f6\u95f4\u5185\u8fd0\u884c\uff0c<br><\/li><li>\u5728\u6700\u574f\u7684\u60c5\u51b5\u4e0b\uff0c\u6570\u7ec4\u88ab\u53cd\u5411\u6392\u5e8f\u5e76\u4e14 (a [j]&gt; X) \u603b\u662f\u4e3a\u771f\u3002\u63d2\u5165\u59cb\u7ec8\u53d1\u751f\u5728\u6570\u7ec4\u7684\u524d\u7aef\uff0c\u5e76\u4e14\u5185\u90e8\u5faa\u73af\u5728O\uff08<b>N<\/b>\uff09\u65f6\u95f4\u5185\u8fd0\u884c\u3002<br><\/li><\/ol><div>\u56e0\u6b64\uff0c\u6700\u4f73\u60c5\u51b5\u65f6\u95f4\u662f<span style=\"white-space: normal;\">O(<\/span><b style=\"white-space: normal;\">N \u00d7 1<\/b><span style=\"white-space: normal;\">) = O(<\/span><b style=\"white-space: normal;\">N<\/b><span style=\"white-space: normal;\">)&nbsp;<\/span>\uff0c\u6700\u574f\u60c5\u51b5\u65f6\u95f4\u662f<span style=\"white-space: normal;\">O(<\/span><b style=\"white-space: normal;\">N \u00d7 N<\/b><span style=\"white-space: normal;\">) = O(<\/span><b style=\"white-space: normal;\">N<\/b><sup style=\"white-space: normal;\">2<\/sup><span style=\"white-space: normal;\">).<\/span><br><\/div>","title":"\u63d2\u5165\u6392\u5e8f\uff1a\u5206\u6790 2"},{"id":205,"category":"sorting","order":3,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-04-10 05:27:56","updated_at":"2023-08-16 09:12:34","section":178,"code":"$('#title-Insertion').click();\n$(\"#sort\").addClass(\"menu-highlighted\");\nchangeSortType(gw.insertionSort, \"40,13,20,8\");","section_order":9,"value":"9-3","text":"<input class=\"mcq-answer\" id=\"mcq-answer-5\" value=\"31\" hidden><p>Quiz: <b>What is the complexity of Insertion Sort on any input array?<\/b><\/p><form><input type=\"radio\" name=\"mcq-5-choice\" value=\"30\"> O(N log N)<br><input type=\"radio\" name=\"mcq-5-choice\" value=\"29\"> O(N)<br><input type=\"radio\" name=\"mcq-5-choice\" value=\"31\"> O(N^2)<br><input type=\"radio\" name=\"mcq-5-choice\" value=\"28\"> O(1)<br><\/form><button class=\"mcq-submit\" id=\"submit-5\">Submit<\/button> <span id=\"answer-status-5\"><\/span><br>\u5982\u679c\u4f60\u5bf9\u8fd9\u4e2a\u8fd8\u4e0d\u662f\u5f88\u6e05\u695a\uff0c\u8bf7\u6559\u4f60\u7684\u6307\u5bfc\u5458\u6216\u8005\u5728<a href=\"?slide=11-10\"><u>\u8fd9\u4e2a\u9875\u9762<\/u><\/a>\u9605\u8bfb\u76f8\u5173\u7684\u8bc4\u8ff0\u3002<br>","title":"\u5c0f\u6d4b\u9a8c"},{"id":555,"category":"sorting","order":10,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:08:40","updated_at":"2023-08-16 08:44:21","section":-1,"code":"","section_order":-1,"value":"10","text":"<p>\u6211\u4eec\u5c06\u5728\u63a5\u4e0b\u6765\u7684\u51e0\u5f20\u5e7b\u706f\u7247\u4e2d\u8ba8\u8bba\u4e24\u79cd\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5\uff1a<br><\/p><ol><li><a href=\"?slide=11\"><u>\u5f52\u5e76\u6392\u5e8f<\/u><\/a>\uff0c<br><\/li><li><a href=\"?slide=12\"><u>\u5feb\u901f\u6392\u5e8f<\/u><\/a>\u548c\u5b83\u7684<a href=\"?slide=13\"><u>\u968f\u673a\u7248\u672c<\/u><\/a>\uff08\u53ea\u6709\u4e00\u4e2a\u53d8\u5316\uff09\u3002<br><\/li><\/ol><div>\u8fd9\u4e9b\u6392\u5e8f\u7b97\u6cd5\u901a\u5e38\u4ee5\u9012\u5f52\u65b9\u5f0f\u5b9e\u73b0\uff0c\u4f7f\u7528\u5206\u800c\u6cbb\u4e4b\u7684\u95ee\u9898\u89e3\u51b3\u8303\u4f8b\uff0c\u5e76\u4e14\u53ea\u9700 O(<b>N<\/b> log <b>N<\/b>) \u7684\u65f6\u95f4\u6765\u8fd0\u884c\u5f52\u5e76\u6392\u5e8f\uff0c\u53ea\u9700 O(<b>N<\/b> log <b>N<\/b>) \u7684\u65f6\u95f4\u671f\u671b\u8fd0\u884c\u968f\u673a\u5feb\u901f\u6392\u5e8f\u3002<br>PS\uff1a\u5c3d\u7ba1\u5982\u6b64\uff0c\u975e\u968f\u673a\u7248\u672c\u7684\u5feb\u901f\u6392\u5e8f\uff08Quick Sort\uff09\u9700\u8981 <span style=\"white-space: normal;\">O(<\/span><b style=\"white-space: normal;\">N<sup>2<\/sup><\/b><span style=\"white-space: normal;\">) \u65f6\u95f4\u6765\u8fd0\u884c<\/span>\u3002<\/div>","title":"2.5 O(<b>N<\/b> log <b>N<\/b>) \u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f<br><div><br><\/div>"},{"id":179,"category":"sorting","order":11,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 18:30:57","updated_at":"2023-08-21 09:32:39","section":-1,"code":"$('#title-Merge').click();","section_order":-1,"value":"11","text":"\u7ed9\u5b9a\u4e00\u4e2a <b>N<\/b> \u4e2a\u9879\u76ee\u7684\u6570\u7ec4\uff0c\u5f52\u5e76\u6392\u5e8f\u5c06\uff1a<br><ol><li>\u5c06\u6bcf\u5bf9\u5355\u4e2a\u5143\u7d20\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5df2\u6392\u5e8f\uff09\u5f52\u5e76\u4e3a2\u4e2a\u5143\u7d20\u7684\u6709\u5e8f\u6570\u7ec4\uff0c<br><\/li><li>\u5c062\u4e2a\u5143\u7d20\u7684\u6bcf\u5bf9\u6709\u5e8f\u6570\u7ec4\u5f52\u5e76\u62104\u4e2a\u5143\u7d20\u7684\u6709\u5e8f\u6570\u7ec4\uff0c\u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b......\uff0c<br><\/li><li>\u6700\u540e\u4e00\u6b65\uff1a\u5f52\u5e762\u4e2aN \/ 2\u5143\u7d20\u7684\u6392\u5e8f\u6570\u7ec4\uff08\u4e3a\u4e86\u7b80\u5316\u8ba8\u8bba\uff0c\u6211\u4eec\u5047\u8bbeN\u662f\u5076\u6570\uff09\u4ee5\u83b7\u5f97\u5b8c\u5168\u6392\u5e8f\u7684N\u4e2a\u5143\u7d20\u6570\u7ec4\u3002<\/li><\/ol><div>\u8fd9\u53ea\u662f\u4e00\u822c\u7684\u60f3\u6cd5\uff0c\u5728\u6211\u4eec\u53ef\u4ee5\u8ba8\u8bba\u5f52\u5e76\u6392\u5e8f\u7684\u771f\u6b63\u5f62\u5f0f\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u66f4\u591a\u7684\u7ec6\u8282\u3002<br><\/div>","title":"\u5f52\u5e76\u6392\u5e8f"},{"id":546,"category":"sorting","order":1,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 05:12:46","updated_at":"2023-08-21 09:32:41","section":179,"code":"$('#title-Merge').click();\nchangeSortType(gw.mergeSort, \"1,5,19,20,2,11,15,17\");","section_order":11,"value":"11-1","text":"\u6211\u4eec\u9996\u5148\u4ece\u5f52\u5e76\u6392\u5e8f\u7b97\u6cd5\u7684\u6700\u91cd\u8981\u7684\u5b50\u7a0b\u5e8f -- O(<b>N<\/b>) \u5f52\u5e76\u6765\u5256\u6790\u8fd9\u4e2a\u5f52\u5e76\u6392\u5e8f\u7b97\u6cd5\u3002<br>\u7ed9\u5b9a\u4e24\u4e2a\u5927\u5c0f\u5206\u522b\u4e3a <b>N<sub>1<\/sub><\/b> \u548c <b>N<sub>2<\/sub><\/b> \u7684\u6392\u5e8f\u6570\u7ec4 <b>A <\/b>\u548c <b>B<\/b>\uff0c\u6211\u4eec\u53ef\u4ee5\u5728O(<b>N<\/b>) \u65f6\u95f4\u5185\u5c06\u5b83\u4eec\u6709\u6548\u5730\u5f52\u5e76\u6210\u4e00\u4e2a\u5927\u5c0f\u4e3a <b>N<\/b> = <b>N<sub>1<\/sub><\/b> + <b>N<sub>2<\/sub><\/b>\u7684\u7ec4\u5408\u6392\u5e8f\u6570\u7ec4\u3002<br>\u8fd9\u662f\u901a\u8fc7\u7b80\u5355\u5730\u6bd4\u8f83\u4e24\u4e2a\u6570\u7ec4\u7684\u9996\u9879\u5e76\u59cb\u7ec8\u53d6\u4e24\u4e2a\u4e2d\u8f83\u5c0f\u7684\u4e00\u4e2a\u6765\u5b9e\u73b0\u7684\u3002 \u4f46\u662f\uff0c\u8fd9\u4e2a\u7b80\u5355\u4f46\u5feb\u901f\u7684O(<b>N<\/b>)\u5408\u5e76\u5b50\u7a0b\u5e8f\u5c06\u9700\u8981\u989d\u5916\u7684\u6570\u7ec4\u6765\u6b63\u786e\u5408\u5e76\u3002 <br>","title":"\u91cd\u8981\u7684\u5b50\u7a0b\u5e8f\uff0cO(N) \u5f52\u5e76<br>"},{"id":550,"category":"sorting","order":2,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:02:01","updated_at":"2023-08-21 09:48:14","section":179,"code":"$('#title-Merge').click();\nchangeSortType(gw.mergeSort, \"1,5,19,20,2,11,15,17\");","section_order":11,"value":"11-2","text":"<pre>method merge(array A, integer low, integer mid, integer high)<br>  \/\/ \u5b50\u6570\u7ec41 = a[low..mid], \u5b50\u6570\u7ec42 = a[mid+1..high], \u90fd\u5df2\u6392\u5e8f<br>  int N = high-low+1<br>  create array B of size N \/\/ \u8ba8\u8bba\uff1a\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u4e34\u65f6\u6570\u7ec4b\uff1f<br>  int left = low, right = mid+1, bIdx = 0<br>  while (left &lt;= mid &amp;&amp; right &lt;= high) \/\/ \u5408\u5e76\u8fc7\u7a0b<br>    if (A[left] &lt;= A[right])<br>      B[bIdx++] = A[left++] <br>    else<br>      B[bIdx++] = A[right++]<br>  while (left &lt;= mid)<br>    B[bIdx++] = A[left++] \/\/ \u5269\u4f59\u90e8\u5206\uff0c\u5982\u679c\u6709\u7684\u8bdd<br>  while (right &lt;= high)<br>    B[bIdx++] = A[right++] \/\/ \u5269\u4f59\u90e8\u5206\uff0c\u5982\u679c\u6709\u7684\u8bdd<br>  for (int k = 0; k &lt; N; ++k)<br>    A[low+k] = B[k]; \/\/ \u590d\u5236\u56de\u53bb<\/pre><p class=\"notforprint\">\u5c1d\u8bd5\u5728\u793a\u4f8b\u6570\u7ec4 [1, 5, 19, 20, 2, 11, 15, 17] \u4e0a\u4f7f\u7528 <span class=\"slide-actions\" onclick=\"doButtonAction12()\">Merge Sort<\/span>\uff0c\u8be5\u6570\u7ec4\u7684\u524d\u534a\u90e8\u5206\u5df2\u7ecf\u6392\u5e8f [1, 5, 19, 20]\uff0c\u5176\u540e\u534a\u90e8\u5206\u4e5f\u5df2\u7ecf\u6392\u5e8f [2, 11, 15, 17]\u3002\u8bf7\u96c6\u4e2d\u6ce8\u610f\u529b\u5728\u5f52\u5e76\u6392\u5e8f\u7b97\u6cd5\u7684\u6700\u540e\u4e00\u6b21\u5408\u5e76\u3002<\/p>","title":"\u5408\u5e76\u5b50\u7a0b\u5e8f\u4f2a\u4ee3\u7801\u5b9e\u73b0"},{"id":547,"category":"sorting","order":3,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 06:16:03","updated_at":"2023-08-21 09:32:47","section":179,"code":"$('#title-Merge').click();","section_order":11,"value":"11-3","text":"\u5728\u6211\u4eec\u7ee7\u7eed\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u5148\u8c08\u8c08\u5206\u800c\u6cbb\u4e4b\uff08Divide and Conquer\uff0c\u7f29\u5199\u4e3aD\uff06C\uff09\uff0c\u8fd9\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u89e3\u51b3\u95ee\u9898\u7684\u8303\u4f8b\u3002<br>\u5206\u800c\u6cbb\u4e4b\u7b97\u6cd5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u89e3\u51b3\uff08\u67d0\u79cd\u7c7b\u578b\u7684\uff09\u95ee\u9898 - \u6bd4\u5982\u6211\u4eec\u7684\u6392\u5e8f\u95ee\u9898\uff1a<br><ol><li>\u5212\u5206\u6b65\u9aa4\uff1a\u5c06\u5927\u7684\u539f\u59cb\u95ee\u9898\u5212\u5206\u6210\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\u5e76\u9012\u5f52\u5730\u89e3\u51b3\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\uff0c<br><\/li><li>\u89e3\u51b3\u6b65\u9aa4\uff1a\u7ed3\u5408\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\u7684\u7ed3\u679c\u6765\u89e3\u51b3\u8f83\u5927\u7684\u539f\u59cb\u95ee\u9898\u3002<br><\/li><\/ol>","title":"\u5206\u800c\u6cbb\u4e4b\u7684\u8303\u4f8b"},{"id":549,"category":"sorting","order":4,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:01:32","updated_at":"2023-08-21 09:32:50","section":179,"code":"$('#title-Merge').click();","section_order":11,"value":"11-4","text":"<p>\u5f52\u5e76\u5e76\u6392\u5e8f\u662f\u5206\u800c\u6cbb\u4e4b\u7684\u6392\u5e8f\u7b97\u6cd5\u3002<br>\u5212\u5206\u6b65\u9aa4\u5f88\u7b80\u5355\uff1a\u5c06\u5f53\u524d\u6570\u7ec4\u5206\u6210\u4e24\u534a\uff08\u5982\u679c <b>N<\/b> \u662f\u5076\u6570\uff0c\u5219\u5c06\u5176\u5b8c\u5168\u5e73\u7b49\uff0c\u6216\u8005\u5982\u679c <b>N <\/b>\u662f\u5947\u6570\uff0c\u5219\u4e00\u8fb9\u591a\u4e00\u9879\uff09\uff0c\u7136\u540e\u9012\u5f52\u5730\u5bf9\u8fd9\u4e24\u534a\u8fdb\u884c\u6392\u5e8f\u3002<br>\u89e3\u51b3\u6b65\u9aa4\u662f\u4e3b\u8981\u7684\u5de5\u4f5c\uff1a\u4f7f\u7528<a href=\"?slide=11-2\"><u>\u524d\u9762\u8ba8\u8bba\u7684<\/u><\/a>\u5f52\u5e76\u5b50\u7a0b\u5e8f\u5408\u5e76\u4e24\u4e2a\uff08\u6392\u5e8f\u7684\uff09\u534a\u90e8\u5206\u4ee5\u5f62\u6210\u4e00\u4e2a\u6709\u5e8f\u6570\u7ec4\u3002<br><\/p><p><\/p>","title":"\u5f52\u5e76\u6392\u5e8f\u662f\u5206\u800c\u6cbb\u4e4b\u7684\u7b97\u6cd5"},{"id":567,"category":"sorting","order":5,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 08:28:03","updated_at":"2023-08-21 09:44:09","section":179,"code":"$('#title-Merge').click();","section_order":11,"value":"11-5","text":"<pre>method mergeSort(array A, integer low, integer high)<br>  \/\/ \u8981\u6392\u5e8f\u7684\u6570\u7ec4\u662f A[low..high]<br>  if (low &lt; high) \/\/ \u57fa\u672c\u60c5\u51b5\uff1alow &gt;= high (0 \u6216 1 \u4e2a\u9879\u76ee)<br>    int mid = (low+high) \/ 2\t<br>    mergeSort(a, low  , mid ) \/\/ \u5206\u6210\u4e24\u534a<br>    mergeSort(a, mid+1, high) \/\/ \u7136\u540e\u9012\u5f52\u6392\u5e8f\u5b83\u4eec<br>    merge(a, low, mid, high) \/\/ \u5f81\u670d\uff1a\u5408\u5e76\u5b50\u7a0b\u5e8f<\/pre><p>\u8bf7\u53c2\u9605\u5728<a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.cpp\" target=\"_blank\"><u>SortingDemo.cpp<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.py\" target=\"_blank\"><u>py<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.java\" target=\"_blank\"><u>java<\/u><\/a>\u4e2d\u663e\u793a\u7684\u4ee3\u7801\u3002<\/p>","title":"\u5f52\u5e76\u6392\u5e8f\u4f2a\u4ee3\u7801\u5b9e\u73b0"},{"id":548,"category":"sorting","order":6,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:01:19","updated_at":"2023-08-21 09:32:55","section":179,"code":"$('#title-Merge').click();\nchangeSortType(gw.mergeSort, \"7,2,6,3,8,4,5\");","section_order":11,"value":"11-6","text":"\u4e0e\u8bb8\u591a\u5176\u4ed6CS\u6253\u5370\u7684\u6559\u79d1\u4e66\u901a\u5e38\u663e\u793a\u7684\u76f8\u53cd\uff08\u56e0\u4e3a\u6559\u79d1\u4e66\u662f\u9759\u6001\u7684\uff09\uff0c\u5f52\u5e76\u6392\u5e8f\u7684\u5b9e\u9645\u6267\u884c\u4e0d\u4f1a\u4e00\u5c42\u4e00\u5c42\u5730\u5206\u6210\u4e24\u4e2a\u5b50\u6570\u7ec4\uff0c\u800c\u662f\u4f1a\u5728\u5904\u7406\u6b63\u786e\u7684\u5b50\u6570\u7ec4\u4e4b\u524d\u9012\u5f52\u5730\u6392\u5e8f\u5de6\u8fb9\u7684\u5b50\u6570\u7ec4\u3002<br>\u5c31\u662f\u8fd9\u6837\uff0c\u5728\u793a\u4f8b\u6570\u7ec4<span style=\"white-space: normal;\">&nbsp;[7, 2, 6, 3, 8, 4, 5]&nbsp;<\/span>\u4e0a\u5c1d\u8bd5<span class=\"slide-actions\" onclick=\"doButtonAction12()\">Merge Sort<\/span>\uff0c\u5b83\u5c06\u9012\u5f52\u8ba1\u7b97 [7, 2, 6, 3]\uff0c\u7136\u540e\u662f [7, 2]\uff0c\u7136\u540e\u662f [7]\uff08\u5355\u4e2a\u5143\u7d20\uff0c\u9ed8\u8ba4\u6392\u5e8f\uff09\uff0c\u56de\u6eaf\uff0c\u9012\u5f52\u5230 [2]\uff08\u9ed8\u8ba4\u6392\u5e8f\uff09\uff0c\u56de\u6eaf\uff0c\u7136\u540e\u5728\u7ee7\u7eed\u5904\u7406 [6, 3] \u7b49\u7b49\u4e4b\u524d\uff0c\u5c06 [7, 2] \u5408\u5e76\u5230 [2, 7] \u4e2d\u3002<br>","title":"\u793a\u8303"},{"id":551,"category":"sorting","order":7,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:03:34","updated_at":"2023-08-21 09:33:00","section":179,"code":"$('#title-Merge').click();","section_order":11,"value":"11-7","text":"\u5728\u5f52\u5e76\u6392\u5e8f\u4e2d\uff0c\u5927\u90e8\u5206\u5de5\u4f5c\u662f\u5728\u89e3\u51b3\/\u5f52\u5e76\u7684\u6b65\u9aa4\u4e2d\u5b8c\u6210\u7684\uff0c\u56e0\u4e3a\u5206\u89e3\u6b65\u9aa4\u5e76\u6ca1\u6709\u771f\u6b63\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\uff08\u89c6\u4e3aO(1)\uff09\u3002<br>\u5f53\u6211\u4eec\u8c03\u7528 <samp>merge(a, low, mid, high)\u7684<\/samp>\u65f6\u5019\uff0c\u6211\u4eec\u5904\u7406<b> k = high - low + 1<\/b> \u9879\u3002 \u6700\u591a\u4f1a\u6709 <b>k-1 <\/b>\u6b21\u6bd4\u8f83\u3002 \u4ece\u539f\u59cb\u6570\u7ec4 <b>a <\/b>\u5230\u4e34\u65f6\u6570\u7ec4 <b>b <\/b>\u6709 <b>k <\/b>\u6b21\u79fb\u52a8\uff0c\u800c\u53c8\u6709 <b>k<\/b> \u6b21\u4ece <b>b<\/b> \u79fb\u56de <b>a<\/b>\u3002 \u603b\u7684\u6765\u8bf4\uff0c\u5f52\u5e76\u5b50\u4f8b\u7a0b\u5185\u7684\u64cd\u4f5c\u6b21\u6570 &lt; 3<b>k<\/b>-1 = O(<b>k<\/b>)\u3002<br>\u91cd\u8981\u7684\u95ee\u9898\u662f\u8fd9\u4e2a <samp>merge<\/samp>\uff08\u5f52\u5e76\uff09\u5b50\u7a0b\u5e8f\u88ab\u8c03\u7528\u4e86\u591a\u5c11\u6b21\uff1f<br>","title":"\u5f52\u5e76\u6392\u5e8f\uff1a\u5206\u6790 \u7b2c\u4e00\u90e8\u5206<br>"},{"id":552,"category":"sorting","order":8,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:03:58","updated_at":"2023-09-18 10:36:13","section":179,"code":"$('#title-Merge').click();","section_order":11,"value":"11-8","text":"<img src=\"https:\/\/visualgo.net\/img\/merge.png\" alt=\"The Recursion Tree of Merge Sort\" width=\"500\">","title":"\u5f52\u5e76\u6392\u5e8f\uff1a\u5206\u6790 \u7b2c\u4e8c\u90e8\u5206<br>"},{"id":553,"category":"sorting","order":9,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:04:24","updated_at":"2023-08-21 09:33:05","section":179,"code":"$('#title-Merge').click();","section_order":11,"value":"11-9","text":"<div>\u7b2c\u4e00\u5c42\uff1a2<sup>0<\/sup> = 1 \u6b21\u8c03\u7528 merge( )\uff0c\u6bcf\u6b21\u5305\u542b <b>N<\/b> \/ 2<sup>1<\/sup> \u4e2a\u9879\u76ee\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 O\uff082<sup>0<\/sup> x 2 x <b>N<\/b> \/ 2<sup>1<\/sup>\uff09= O(<b>N<\/b>)<\/div><div>\u7b2c\u4e8c\u5c42\uff1a2<sup>1<\/sup> = 1 \u6b21\u8c03\u7528 merge( )\uff0c\u6bcf\u6b21\u5305\u542b <b>N<\/b> \/ 2<sup>2<\/sup> \u4e2a\u9879\u76ee\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 O\uff082<sup>1<\/sup> x 2 x <b>N<\/b> \/ 2<sup>2<\/sup>\uff09= O(<b>N<\/b>)<\/div><div>\u7b2c\u4e09\u5c42\uff1a2<sup>2<\/sup> = 1 \u6b21\u8c03\u7528 merge( )\uff0c\u6bcf\u6b21\u5305\u542b <b>N<\/b> \/ 2<sup>3<\/sup> \u4e2a\u9879\u76ee\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 O\uff082<sup>2<\/sup> x 2 x <b>N<\/b> \/ 2<sup>3<\/sup>\uff09= O(<b>N<\/b>)<\/div><div>...<\/div><div>\u7b2c log <b>N<\/b> \u5c42\uff1a2 ^\uff08log <b>N-1<\/b>\uff09\uff08\u6216N \/ 2\uff09\u8c03\u7528merge( )  \uff09\uff0c\u5176\u4e2dN \/ 2 ^ log N\uff08\u62161\uff09\u4e2a\u9879\u76ee\uff0cO\uff08N\uff09<\/div><div>\u7b2c log <b>N<\/b> \u5c42\uff1a2<sup>log<b>N<\/b> - 1<\/sup> = 1 \u6b21\u8c03\u7528 merge( )\uff0c\u6bcf\u6b21\u5305\u542b <b>N<\/b> \/ 2<sup>log<b>N<\/b><\/sup> \uff08\u62161\uff09\u4e2a\u9879\u76ee\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 O\uff082<sup>2<\/sup> x 2 x <b>N<\/b> \/ 2<sup>3<\/sup>\uff09= O(<b>N<\/b>)<\/div><div>\u5171\u8ba1\u6709 log <b>N <\/b>\u5c42\uff0c\u6bcf\u5c42\u5de5\u4f5c\u91cf\u90fd\u4e3a O(<b>N<\/b>) \uff0c\u56e0\u6b64\u603b\u4f53\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(<b>N<\/b> log <b>N<\/b>)\u3002 \u7a0d\u540e\u6211\u4eec\u4f1a\u770b\u5230\u8fd9\u662f\u5728\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5\u4e2d\u6700\u4f73\u7684\u4e00\u79cd\uff0c\u5373\u6211\u4eec\u65e0\u6cd5\u505a\u5f97\u6bd4\u8fd9\u66f4\u597d\u3002<br><\/div>","title":"\u5f52\u5e76\u6392\u5e8f\uff1a\u5206\u6790 \u7b2c\u4e09\u90e8\u5206"},{"id":566,"category":"sorting","order":10,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:20:32","updated_at":"2023-08-21 09:33:07","section":179,"code":"","section_order":11,"value":"11-10","text":"<p>\u65e0\u8bba\u8f93\u5165\u7684\u539f\u59cb\u987a\u5e8f\u5982\u4f55\uff0c\u5f52\u5e76\u6392\u5e8f\u4e2d\u6700\u91cd\u8981\u7684\u90e8\u5206\u662f\u5176O\uff08<b>N<\/b> log <b>N<\/b>\uff09\u6027\u80fd\u4fdd\u8bc1\u3002 \u5c31\u8fd9\u6837\uff0c\u6ca1\u6709\u4efb\u4f55\u9488\u5bf9\u6027\u7684\u6d4b\u8bd5\u7528\u4f8b\u53ef\u4ee5\u4f7f\u5f52\u5e76\u6392\u5e8f\u5bf9\u4e8eN\u4e2a\u5143\u7d20\u6570\u7ec4\u8fd0\u884c\u6bd4O\uff08<b>N<\/b> log <b>N<\/b>\uff09\u66f4\u957f\u7684\u65f6\u95f4\u3002<br>\u56e0\u6b64\uff0c\u5f52\u5e76\u6392\u5e8f\u975e\u5e38\u9002\u5408\u5927\u6570\u7ec4\u7684\u6392\u5e8f\uff0c\u56e0\u4e3aO\uff08<b>N<\/b> log <b>N<\/b>\uff09\u6bd4<a href=\"?slide=5\"><u>\u524d\u9762\u8ba8\u8bba\u7684<\/u><\/a>O\uff08<b>N<sup>2<\/sup><\/b>\uff09\u6392\u5e8f\u7b97\u6cd5\u589e\u957f\u5f97\u6162\u5f97\u591a\u3002<br>\u7136\u800c\uff0c\u5f52\u5e76\u6392\u5e8f\u6709\u51e0\u4e2a\u4e0d\u592a\u597d\u7684\u90e8\u5206\u3002 \u9996\u5148\uff0c\u4ece\u96f6\u5f00\u59cb\u5b9e\u73b0\u5e76\u4e0d\u5bb9\u6613\uff08\u867d\u7136<a href=\"?slide=19-3\"><u>\u6211\u4eec\u4e0d\u5fc5\u8fd9\u6837\u505a<\/u><\/a>\uff09\u3002 \u5176\u6b21\uff0c\u5b83\u5728<a href=\"?slide=11-2\"><u>\u5f52\u5e76\u64cd\u4f5c<\/u><\/a>\u671f\u95f4\u9700\u8981\u989d\u5916\u7684O\uff08<b>N<\/b>\uff09\u5185\u5b58\uff0c\u56e0\u6b64\u4f1a\u5360\u7528\u989d\u5916\u5185\u5b58\u5e76\u4e14\u4e0d\u662f<a href=\"?slide=17-1\"><u>\u5c31\u5730\u7684 (in-place)<\/u><\/a>\u3002\u987a\u4fbf\u8bf4\u4e00\u53e5\uff0c\u5982\u679c\u4f60\u6709\u5174\u8da3\u770b\u770b\u4e3a\u89e3\u51b3\u8fd9\u4e9b\uff08\u7ecf\u5178\uff09\u5f52\u5e76\u6392\u5e8f\u4e0d\u90a3\u4e48\u597d\u7684\u90e8\u5206\u505a\u4e86\u4ec0\u4e48\uff0c\u4f60\u53ef\u4ee5\u9605\u8bfb<a href=\"https:\/\/en.wikipedia.org\/wiki\/Merge_sort#Variants\" target=\"_blank\"><u>\u8fd9\u4e2a<\/u><\/a>\u3002<\/p><p>\u5f52\u5e76\u6392\u5e8f\u4e5f\u662f\u4e00\u4e2a<a href=\"?slide=17-2\"><u>\u7a33\u5b9a (stable) \u7684\u6392\u5e8f<\/u><\/a>\u7b97\u6cd5\u3002 \u8ba8\u8bba\uff1a\u4e3a\u4ec0\u4e48\uff1f<\/p>","title":"\u4f18\u7f3a\u70b9"},{"id":775,"category":"sorting","order":11,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2022-01-04 14:22:28","updated_at":"2023-08-21 09:48:33","section":179,"code":"","section_order":11,"value":"11-11","text":"<pre>B[bIdx++] = (A[left] &lt;= A[right]) ? A[left++] : A[right++];<br><\/pre><p>\u5728\u5408\u5e76\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u6709\u5982\u4e0a\u7684\u4ee3\u7801\u3002\u5982\u679c\u5de6\u5b50\u6570\u7ec4\u7684\u524d\u7aef\uff08\u6211\u4eec\u79f0\u4e4b\u4e3a&#39;X&#39;\uff09\u7b49\u4e8e\u53f3\u5b50\u6570\u7ec4\u7684\u524d\u7aef\uff08\u6211\u4eec\u79f0\u4e4b\u4e3a&#39;Y&#39;\uff09\uff0c\u5408\u5e76\u8fc7\u7a0b\u5c06\u9996\u5148\u9009\u62e9&#39;X&#39;\uff0c\u4ece\u800c\u4fdd\u6301\u7a33\u5b9a\u6027\u3002\u6ce8\u610f\u4e0b\u9762\u7684\u4e00\u4e2a\u5b57\u7b26\u66f4\u6539\uff08\u6ce8\u610f&lt; vs &lt;=\uff09\u4f7f\u5f97\u5f52\u5e76\u6392\u5e8f\u4e0d\u518d\u7a33\u5b9a\u3002<\/p><pre>B[bIdx++] = (A[left] &lt; A[right]) ? A[left++] : A[right++];<br><\/pre>","title":"\u7b54\u6848<br>"},{"id":180,"category":"sorting","order":12,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 19:23:20","updated_at":"2023-08-21 09:33:14","section":-1,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,27,16\");","section_order":-1,"value":"12","text":"<p>\u5feb\u901f\u6392\u5e8f\u662f\u53e6\u4e00\u4e2a\u5206\u800c\u6cbb\u4e4b\u7684\u6392\u5e8f\u7b97\u6cd5\uff08\u53e6\u4e00\u4e2a\u5728\u8fd9\u4e2a\u53ef\u89c6\u5316\u9875\u9762\u4e2d\u8ba8\u8bba\u7684\u662f<a href=\"?slide=11\"><u>\u5f52\u5e76\u6392\u5e8f<\/u><\/a>\uff09\u3002<br>\u5728\u7ee7\u7eed<a href=\"?slide=13\"><u>\u968f\u673a\u5316<\/u><\/a>\u548c\u53ef\u7528\u7248\u672c\u7684\u5feb\u901f\u6392\u5e8f\u4e4b\u524d\uff0c\u6211\u4eec\u5c06\u770b\u5230\uff0c\u8fd9\u79cd\u786e\u5b9a\u6027\u7684\uff0c\u975e\u968f\u673a\u5316\u7684\u5feb\u901f\u6392\u5e8f\u7684\u7248\u672c\u53ef\u80fd\u5728\u9488\u5bf9\u6027\u8f93\u5165\u4e2d\u5177\u6709\u5f88\u5dee\u7684 O(<b>N<sup>2<\/sup><\/b>) \u65f6\u95f4\u590d\u6742\u5ea6\u3002<br><\/p>","title":"\u5feb\u901f\u6392\u5e8f"},{"id":556,"category":"sorting","order":1,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:16:06","updated_at":"2023-08-21 09:50:46","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,27,16\");","section_order":12,"value":"12-1","text":"<p>\u5212\u5206\u6b65\u9aa4\uff1a\u9009\u62e9\u4e00\u4e2a\u9879\u76ee<b>p<\/b>\uff08\u79f0\u4e3a\u67a2\u8f74\uff09<br>\u7136\u540e\u5c06<b>A[i..j]<\/b>\u7684\u9879\u76ee\u5212\u5206\u4e3a\u4e09\u90e8\u5206\uff1a<b>A[i..m-1]<\/b>\uff0c<b>A[m]<\/b>\u548c<b>A[m+1..j]<\/b>\u3002<br><b>A[i..m-1]<\/b>\uff08\u53ef\u80fd\u4e3a\u7a7a\uff09\u5305\u542b\u5c0f\u4e8e\uff08\u6216\u7b49\u4e8e\uff09<b>p<\/b>\u7684\u9879\u76ee\u3002<br><b>A[m] = p<\/b>\uff0c\u5373\uff0c\u7d22\u5f15<b>m<\/b>\u662f\u6570\u7ec4<b>a<\/b>\u6392\u5e8f\u987a\u5e8f\u4e2d<b>p<\/b>\u7684\u6b63\u786e\u4f4d\u7f6e\u3002<br><b>A[m+1..j]<\/b>\uff08\u53ef\u80fd\u4e3a\u7a7a\uff09\u5305\u542b\u5927\u4e8e\uff08\u6216\u7b49\u4e8e\uff09<b>p<\/b>\u7684\u9879\u76ee\u3002<br>\u7136\u540e\uff0c\u9012\u5f52\u6392\u5e8f\u8fd9\u4e24\u90e8\u5206\u3002<\/p><br><p>\u5f81\u670d\u6b65\u9aa4\uff1a\u522b\u60ca\u8bb6...\u6211\u4eec\u4ec0\u4e48\u90fd\u4e0d\u505a :O\uff01<\/p><br><p>\u5982\u679c\u4f60\u5c06\u8fd9\u4e2a\u4e0e<a href=\"?slide=11-4\"><u>\u5408\u5e76\u6392\u5e8f<\/u><\/a>\u8fdb\u884c\u6bd4\u8f83\uff0c\u4f60\u4f1a\u53d1\u73b0\u5feb\u901f\u6392\u5e8f\u7684D&amp;C\u6b65\u9aa4\u4e0e\u5408\u5e76\u6392\u5e8f\u5b8c\u5168\u76f8\u53cd\u3002<\/p>","title":"\u5feb\u901f\u6392\u5e8f\u662f\u5206\u800c\u6cbb\u4e4b\u7684\u7b97\u6cd5"},{"id":574,"category":"sorting","order":2,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:19:13","updated_at":"2023-08-21 09:51:19","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,27,16\");","section_order":12,"value":"12-2","text":"<p>\u6211\u4eec\u5c06\u901a\u8fc7\u9996\u5148\u8ba8\u8bba\u5176\u6700\u91cd\u8981\u7684\u5b50\u7a0b\u5e8f\uff1aO(<b>N<\/b>) <samp>partition<\/samp>\uff08\u7ecf\u5178\u7248\u672c\uff09\u6765\u5256\u6790\u8fd9\u4e2a\u5feb\u901f\u6392\u5e8f\u7b97\u6cd5\u3002<\/p><br><p>\u8981\u5212\u5206<b>A[i..j]<\/b>\uff0c\u6211\u4eec\u9996\u5148\u9009\u62e9<b>A[i]<\/b>\u4f5c\u4e3a\u67a2\u8f74<b>p<\/b>\u3002<br><\/p><p>\u5269\u4f59\u7684\u9879\u76ee\uff08\u5373\uff0c<b>a[i+1..j]<\/b>\uff09\u88ab\u5212\u5206\u4e3a3\u4e2a\u533a\u57df\uff1a<\/p><ol><li><b>S1<\/b> = <b>A[i+1..m]<\/b> \u5176\u4e2d\u7684\u9879\u76ee \u2264 <b>p<\/b>\uff0c<\/li><li><b>S2<\/b> = <b>A[m+1..k-1]<\/b> \u5176\u4e2d\u7684\u9879\u76ee \u2265 <b>p<\/b>\uff0c\u548c<\/li><li>\u672a\u77e5 = <b>A[k..j]<\/b>\uff0c\u5176\u4e2d\u7684\u9879\u76ee\u5c1a\u672a\u88ab\u5206\u914d\u5230<b>S1<\/b>\u6216<b>S2<\/b>\u3002<\/li><\/ol><p>\u8ba8\u8bba\uff1a\u4e3a\u4ec0\u4e48\u6211\u4eec\u9009\u62e9<b>p<\/b> = <b>A[i]<\/b>\uff1f\u8fd8\u6709\u5176\u4ed6\u9009\u62e9\u5417\uff1f<\/p><br><p>\u66f4\u96be\u7684\u8ba8\u8bba\uff1a\u5982\u679c<b>A[k] == p<\/b>\uff0c\u6211\u4eec\u5e94\u8be5\u5c06\u5b83\u653e\u5728\u533a\u57dfS1\u8fd8\u662fS2\uff1f<\/p>","title":"\u91cd\u8981\u7684\u5b50\u7a0b\u5e8f\uff0cO(N) \u5206\u533a<br>"},{"id":583,"category":"sorting","order":3,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2017-06-06 03:49:51","updated_at":"2023-08-21 09:51:35","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,27,16\");","section_order":12,"value":"12-3","text":"<p><b>p<\/b> = <b>A[i]<\/b>\u7684\u9009\u62e9\u662f\u4efb\u610f\u7684\u3002\u4efb\u4f55\u5728<b>A[i..j]<\/b>\u4e4b\u95f4\u7684\u9879\u76ee\u90fd\u53ef\u4ee5\u88ab\u9009\u62e9\u4e3a\u67a2\u8f74\u3002<\/p><br><p>\u7136\u800c\uff0c\u6211\u4eec\u5c06<a href=\"?slide=12-12\"><u>\u7a0d\u540e\u770b\u5230<\/u><\/a>\uff0c\u4ee5\u786e\u5b9a\u7684\u65b9\u5f0f\u56fa\u5b9a\u67a2\u8f74\u53ef\u80fd\u4f1a\u5bfc\u81f4O(<b>N<\/b><sup>2<\/sup>)\u7684\u7cdf\u7cd5\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u6240\u4ee5\u6211\u4eec\u5c06<a href=\"?slide=13\"><u>\u968f\u673a\u5316\u5b83<\/u><\/a>\u3002<\/p><br><p>\u5173\u4e8e\u91cd\u590d\u7684\u9879\u76ee\uff0c\u5b9e\u9645\u4e0a<b>\u4e0d<\/b>\u597d\u603b\u662f\u5c06\u7b49\u4e8e<b>p<\/b>\u7684\u9879\u76ee\u653e\u5728S1\uff08\u6216S2\uff09\u533a\u57df\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u4f7f\u5f97\u5feb\u901f\u6392\u5e8f\u7684\u968f\u673a\u5316\u7248\u672c\u5728O(<b>N<sup>2<\/sup><\/b>)\u4e2d\u8fd0\u884c\u3002\u66f4\u597d\u7684\u5b9e\u73b0\u662f\u968f\u673a\u5730\u5c06\u7b49\u4e8e<b>p<\/b>\u7684\u9879\u76ee\u653e\u5728S1\u6216S2\u4e0a\uff0c\u4f7f\u752850-50\u7684\u673a\u4f1a\uff08\u8fd8\u6709\u53e6\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\uff09\u3002<\/p>","title":"\u7b54\u6848"},{"id":575,"category":"sorting","order":4,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:24:25","updated_at":"2023-08-21 09:52:20","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,27,16\");","section_order":12,"value":"12-4","text":"<p>\u6700\u521d\uff0c<b>S1<\/b> \u548c <b>S2<\/b> \u533a\u57df\u90fd\u662f\u7a7a\u7684\uff0c\u5373\u6240\u6709\u9664\u6307\u5b9a\u7684\u8f74\u5fc3 <b>p<\/b> \u4e4b\u5916\u7684\u9879\u76ee\u90fd\u5728\u672a\u77e5\u533a\u57df\u3002<\/p><br><p>\u7136\u540e\uff0c\u5bf9\u4e8e\u672a\u77e5\u533a\u57df\u4e2d\u7684\u6bcf\u4e2a\u9879\u76ee <b>A[k]<\/b>\uff0c\u6211\u4eec\u5c06 <b>A[k]<\/b> \u4e0e <b>p<\/b> \u8fdb\u884c\u6bd4\u8f83\uff0c\u5e76\u51b3\u5b9a\u4ee5\u4e0b\u4e09\u79cd\u60c5\u51b5\u4e4b\u4e00\uff1a<\/p><ol><li>\u5982\u679c <b>A[k]<\/b> &gt; <b>p<\/b>\uff0c\u5c06 <b>A[k]<\/b> \u653e\u5165 <b>S2<\/b>\uff0c<\/li><li>\u5982\u679c <b>A[k]<\/b> &lt; <b>p<\/b>\uff0c\u5c06 <b>A[k]<\/b> \u653e\u5165 <b>S1<\/b>\uff0c<\/li><li>\u5982\u679c <b>A[k]<\/b> == <b>p<\/b>\uff0c\u629b\u4e00\u679a\u786c\u5e01\uff0c\u5982\u679c\u786c\u5e01\u6b63\u9762\/\u53cd\u9762\u843d\u5730\uff0c\u5206\u522b\u5c06 <b>A[k]<\/b> \u653e\u5165 <b>S1<\/b>\/<b>S2<\/b>\u3002<\/li><\/ol><p>\u8fd9\u4e09\u79cd\u60c5\u51b5\u5c06\u5728\u63a5\u4e0b\u6765\u7684\u4e24\u5f20\u5e7b\u706f\u7247\u4e2d\u8be6\u7ec6\u8bf4\u660e\u3002<\/p><br><p>\u6700\u540e\uff0c\u6211\u4eec\u4ea4\u6362 <b>A[i]<\/b> \u548c <b>A[m]<\/b>\uff0c\u5c06\u8f74\u5fc3 <b>p<\/b> \u6b63\u597d\u653e\u5728 <b>S1<\/b> \u548c <b>S2<\/b> \u7684\u4e2d\u95f4\u3002<\/p>","title":"\u5206\u533a\u6392\u5e8f - \u7ee7\u7eed"},{"id":576,"category":"sorting","order":5,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:25:02","updated_at":"2023-08-21 09:52:52","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,27,16\");","section_order":12,"value":"12-5","text":"<img src=\"https:\/\/visualgo.net\/img\/partition1.png\" alt=\"Case when a[k] \u2265 p, increment k, extend S2 by 1 item\" width=\"500\">","title":"\u5206\u533a - \u5f53 <span style=\"white-space: normal;\">&nbsp;A<\/span><span style=\"white-space: normal;\">[k] &gt; p<\/span><span style=\"white-space: normal;\">&nbsp;\u7684\u60c5\u51b5<\/span>"},{"id":577,"category":"sorting","order":6,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:26:05","updated_at":"2023-08-21 09:52:55","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,27,16\");","section_order":12,"value":"12-6","text":"<img src=\"https:\/\/visualgo.net\/img\/partition2.png\" width=\"500\" alt=\"Case when a[k] < p, increment m, swap a[k] with a[m], increment k, extend S1 by 1 item\">","title":"\u5206\u533a - \u5f53 <span style=\"white-space-collapse: collapse;\">&nbsp;A[k] &lt; p \u7684\u60c5\u51b5<\/span><br>"},{"id":579,"category":"sorting","order":7,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:44:26","updated_at":"2023-08-21 09:50:13","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,27,16\");","section_order":12,"value":"12-7","text":"<pre>int partition(array A, integer i, integer j)<br>  int p = a[i] \/\/ p \u662f\u67a2\u8f74<br>  int m = i \/\/ S1 \u548c S2 \u6700\u521d\u4e3a\u7a7a<br>  for (int k = i+1; k &lt;= j; ++k) \/\/ \u63a2\u7d22\u672a\u77e5\u533a\u57df<br>    if ((A[k] &lt; p) || ((A[k] == p) &amp;&amp; (rand()%2 == 0)))  { \/\/ \u60c5\u51b5 2+3<br>      ++m<br>      swap(A[k], A[m]) \/\/ \u4ea4\u6362\u8fd9\u4e24\u4e2a\u7d22\u5f15<br>    \/\/ \u6ce8\u610f\u6211\u4eec\u5728\u60c5\u51b5 1: A[k] &gt; p \u65f6\u4e0d\u505a\u4efb\u4f55\u4e8b\u60c5<br>  swap(A[i], A[m]) \/\/ \u6700\u540e\u4e00\u6b65\uff0c\u4ea4\u6362\u67a2\u8f74\u548c a[m]<br>  return m \/\/ \u8fd4\u56de\u67a2\u8f74\u7684\u7d22\u5f15<\/pre>","title":"\u5206\u533a\u4f2a\u4ee3\u7801\u5b9e\u73b0"},{"id":578,"category":"sorting","order":8,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:43:05","updated_at":"2023-08-21 09:54:23","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,27,16\");","section_order":12,"value":"12-8","text":"<pre>method quickSort(array A, integer low, integer high)<br>  if (low &lt; high)<br>    int m = partition(a, low, high) \/\/ O(N)<br>    \/\/ A[low..high] ~&gt; A[low..m\u20131], pivot, A[m+1..high]<br>    quickSort(A, low, m-1); \/\/ \u9012\u5f52\u6392\u5e8f\u5de6\u5b50\u6570\u7ec4<br>    \/\/ A[m] = pivot \u5728\u5206\u533a\u540e\u5df2\u7ecf\u6392\u5e8f<br>    quickSort(A, m+1, high); \/\/ \u7136\u540e\u6392\u5e8f\u53f3\u5b50\u6570\u7ec4<\/pre><p>\u8bf7\u53c2\u9605\u5728<a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.cpp\" target=\"_blank\"><u>SortingDemo.cpp<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.py\" target=\"_blank\"><u>py<\/u><\/a> | <a href=\"https:\/\/www.comp.nus.edu.sg\/~stevenha\/cs2040\/demos\/SortingDemo.java\" target=\"_blank\"><u>java<\/u><\/a>\u4e2d\u663e\u793a\u7684\u4ee3\u7801\u3002<\/p>","title":"\u5feb\u901f\u6392\u5e8f\u4f2a\u4ee3\u7801\u5b9e\u73b0"},{"id":557,"category":"sorting","order":9,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:16:20","updated_at":"2023-08-21 09:55:55","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"27,38,12,39,29,16\");","section_order":12,"value":"12-9","text":"<p>\u5c1d\u8bd5\u5728\u793a\u4f8b\u6570\u7ec4 [27, 38, 12, 39, 29, 16] \u4e0a\u4f7f\u7528 <span class=\"slide-actions\" onclick=\"doButtonAction13()\">Quick Sort<\/span>\u3002\u6211\u4eec\u5c06\u8be6\u7ec6\u8bf4\u660e\u7b2c\u4e00\u6b65\u5206\u533a\u64cd\u4f5c\u5982\u4e0b\uff1a<br>\u6211\u4eec\u8bbe\u5b9a <b>p = A[0] = 27<\/b>\u3002<br>\u6211\u4eec\u8bbe\u5b9a <b>A[1] = 38<\/b> \u4f5c\u4e3a <b>S2<\/b> \u7684\u4e00\u90e8\u5206\uff0c\u6240\u4ee5 <b>S1 = {}<\/b> \u548c <b>S2 = {38}<\/b>\u3002<br>\u6211\u4eec\u4ea4\u6362 <b>A[1] = 38<\/b> \u548c <b>A[2] = 12<\/b>\uff0c\u6240\u4ee5 <b>S1 = {12}<\/b> \u548c <b>S2 = {38}<\/b>\u3002<br>\u6211\u4eec\u8bbe\u5b9a <b>A[3] = 39<\/b> \u548c\u540e\u6765\u7684 <b>A[4] = 29<\/b> \u4f5c\u4e3a <b>S2<\/b> \u7684\u4e00\u90e8\u5206\uff0c\u6240\u4ee5 <b>S1 = {12}<\/b> \u548c <b>S2 = {38,39,29}<\/b>\u3002<br>\u6211\u4eec\u4ea4\u6362 <b>A[2] = 38<\/b> \u548c <b>A[5] = 16<\/b>\uff0c\u6240\u4ee5 <b>S1 = {12,16}<\/b> \u548c <b>S2 = {39,29,38}<\/b>\u3002<br>\u6211\u4eec\u4ea4\u6362 <b>p = A[0] = 27<\/b> \u548c <b>A[2] = 16<\/b>\uff0c\u6240\u4ee5 <b>S1 = {16,12}<\/b>\uff0c<b>p = {27}<\/b>\uff0c\u548c <b>S2 = {39,29,38}<\/b>\u3002<\/p><br><p>\u4e4b\u540e\uff0c<b>A[2] = 27<\/b> \u4fdd\u8bc1\u5df2\u7ecf\u6392\u5e8f\uff0c\u73b0\u5728\u5feb\u901f\u6392\u5e8f\u9012\u5f52\u5730\u9996\u5148\u6392\u5e8f\u5de6\u8fb9\u7684 <b>A[0..1]<\/b>\uff0c\u7136\u540e\u9012\u5f52\u5730\u6392\u5e8f\u53f3\u8fb9\u7684 <b>A[3..5]<\/b>\u3002<\/p>","title":"\u793a\u8303"},{"id":558,"category":"sorting","order":10,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:16:37","updated_at":"2023-08-21 09:56:26","section":180,"code":"$('#title-Quick').click();","section_order":12,"value":"12-10","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u5206\u6790\u4e00\u6b21<samp>partition<\/samp>\u8c03\u7528\u7684\u6210\u672c\u3002<\/p><br><p>\u5728<samp>partition(A, i, j)<\/samp>\u4e2d\uff0c\u53ea\u6709\u4e00\u4e2afor\u5faa\u73af\uff0c\u5b83\u8fed\u4ee3\u4e86(j-i)\u6b21\u3002\u7531\u4e8ej\u53ef\u4ee5\u5927\u5230<b>N<\/b>-1\uff0ci\u53ef\u4ee5\u5c0f\u52300\uff0c\u6240\u4ee5partition\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fO(<b>N<\/b>)\u3002<\/p><br><p>\u7c7b\u4f3c\u4e8e<a href=\"?slide=11-7\"><u>\u5f52\u5e76\u6392\u5e8f\u5206\u6790<\/u><\/a>\uff0c\u5feb\u901f\u6392\u5e8f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5219\u53d6\u51b3\u4e8e<samp>partition(A, i, j)<\/samp>\u88ab\u8c03\u7528\u7684\u6b21\u6570\u3002<\/p>","title":"\u5feb\u901f\u6392\u5e8f\uff1a\u5206\u6790 \u7b2c\u4e00\u90e8\u5206"},{"id":559,"category":"sorting","order":11,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:16:53","updated_at":"2023-08-21 09:56:51","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"5,18,23,39,44,50\");","section_order":12,"value":"12-11","text":"<p>\u5f53\u6570\u7ec4<b>A<\/b>\u5df2\u7ecf\u6309\u5347\u5e8f\u6392\u5217\uff0c\u4f8b\u5982\uff0c<b>A<\/b> = [5, 18, 23, 39, 44, 50]\uff0c<span class=\"slide-actions\" onclick=\"doButtonAction13()\">Quick Sort<\/span> \u5c06\u8bbe\u7f6e<b>p = A[0] = 5<\/b>\uff0c\u5e76\u8fd4\u56de<b>m = 0<\/b>\uff0c\u4ece\u800c\u4f7f<b>S1<\/b>\u533a\u57df<b>\u7a7a<\/b>\uff0c<b>S2<\/b>\u533a\u57df\uff1a\u9664\u4e86\u67a2\u8f74\uff08<b>N<\/b>-1 \u9879\uff09\u4ee5\u5916\u7684\u6240\u6709\u5176\u4ed6\u5185\u5bb9\u3002<\/p>","title":"\u5feb\u901f\u6392\u5e8f\uff1a\u5206\u6790 \u7b2c\u4e8c\u90e8\u5206"},{"id":580,"category":"sorting","order":12,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-05 03:35:23","updated_at":"2023-09-18 10:36:22","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"5,18,23,39,44,50\");","section_order":12,"value":"12-12","text":"<p>\u5728\u8fd9\u79cd\u6700\u574f\u60c5\u51b5\u7684\u8f93\u5165\u573a\u666f\u4e0b\uff0c\u4f1a\u53d1\u751f\u4ee5\u4e0b\u60c5\u51b5\uff1a<\/p><br><img src=\"https:\/\/visualgo.net\/img\/qsort_worstcase.png\" width=\"250\" alt=\"\u5feb\u901f\u6392\u5e8f\u7684\u6700\u574f\u60c5\u51b5\u5206\u6790\"><br><p>\u7b2c\u4e00\u6b21\u5206\u533a\u9700\u8981 O(<b>N<\/b>) \u7684\u65f6\u95f4\uff0c\u5c06 <b>A<\/b> \u5206\u4e3a 0, 1, <b>N<\/b>-1 \u4e2a\u9879\u76ee\uff0c\u7136\u540e\u5411\u53f3\u9012\u5f52\u3002<br>\u7b2c\u4e8c\u6b21\u5206\u533a\u9700\u8981 O(<b>N<\/b>-1) \u7684\u65f6\u95f4\uff0c\u5c06 <b>A<\/b> \u5206\u4e3a 0, 1, <b>N<\/b>-2 \u4e2a\u9879\u76ee\uff0c\u7136\u540e\u518d\u6b21\u5411\u53f3\u9012\u5f52\u3002<br>...<br>\u76f4\u5230\u6700\u540e\uff0c\u7b2c <b>N<\/b> \u6b21\u5206\u533a\u5c06 <b>A<\/b> \u5206\u4e3a 0, 1, 1 \u4e2a\u9879\u76ee\uff0c\u5feb\u901f\u6392\u5e8f\u9012\u5f52\u505c\u6b62\u3002<br><\/p><br><p>\u8fd9\u662f\u7ecf\u5178\u7684 <b>N+(N-1)+(N-2)+...+1<\/b> \u6a21\u5f0f\uff0c\u5b83\u662f O(<b>N<\/b><sup>2<\/sup>)\uff0c\u4e0e<a href=\"?slide=7-1\"><u>\u8fd9\u4e2a\u5192\u6ce1\u6392\u5e8f\u5206\u6790\u5e7b\u706f\u7247\u4e2d\u7684\u5206\u6790<\/u><\/a>\u7c7b\u4f3c...<\/p>","title":"\u5feb\u901f\u6392\u5e8f\uff1a \u5206\u6790 \u7b2c\u4e09\u90e8\u5206"},{"id":582,"category":"sorting","order":13,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-05 03:51:20","updated_at":"2023-08-21 09:54:39","section":180,"code":"$('#title-Quick').click();\nchangeSortType(gw.quickSort, \"4,1,3,2,6,5,7\");","section_order":12,"value":"12-13","text":"<p>\u5f53\u5206\u533a\u603b\u662f\u5c06\u6570\u7ec4\u5206\u6210\u4e24\u4e2a\u76f8\u7b49\u7684\u4e00\u534a\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u5feb\u901f\u6392\u5e8f\u7684\u6700\u4f73\u60c5\u51b5\uff0c\u5982<a href=\"?slide=11-8\"><u>\u5f52\u5e76\u6392\u5e8f<\/u><\/a>\u3002<br>\u5f53\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u65f6\uff0c\u9012\u5f52\u7684\u6df1\u5ea6\u53ea\u6709 O(log <b>N<\/b>)\u3002<br>\u7531\u4e8e\u6bcf\u4e2a\u7ea7\u522b\u8fdb\u884c O(N) \u6bd4\u8f83\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(<b>N<\/b> log <b>N<\/b>)\u3002<br>\u5728\u8fd9\u4e2a\u624b\u5de5\u5236\u4f5c\u7684\u793a\u4f8b\u8f93\u5165\u6570\u7ec4 [4, 1, 3, 2, 6, 5, 7] \u4e0a\u5c1d\u8bd5<span class=\"slide-actions\" onclick=\"doButtonAction13()\">Quick Sort<\/span>\u3002\u8fd9\u5728\u5b9e\u8df5\u4e2d\u5f88\u5c11\u89c1\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u8bbe\u8ba1\u4e00\u4e2a\u66f4\u597d\u7684\u65b9\u6cd5\uff1a<a href=\"?slide=13\"><u>\u968f\u673a\u5feb\u901f\u6392\u5e8f<\/u><\/a>\u3002<br><\/p>","title":"\u5feb\u901f\u6392\u5e8f\uff1a\u6700\u4f73\u60c5\u51b5\uff08\u6781\u5c11\uff09"},{"id":181,"category":"sorting","order":13,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 19:37:45","updated_at":"2023-08-21 09:57:58","section":-1,"code":"$('#title-RandomizedQuick').click();\nchangeSortType(gw.randomizedQuickSort, DEFAULT_DATA);","section_order":-1,"value":"13","text":"<p>\u4e0e<b>\u5feb\u901f\u6392\u5e8f<\/b>\u76f8\u540c\uff0c\u9664\u4e86\u5728\u6267\u884c\u5206\u533a\u7b97\u6cd5\u4e4b\u524d\uff0c\u5b83<b>\u968f\u673a<\/b>\u9009\u62e9<b>A[i..j]<\/b>\u4e4b\u95f4\u7684\u67a2\u8f74\uff0c\u800c\u4e0d\u662f\u603b\u662f\u786e\u5b9a\u6027\u5730\u9009\u62e9<b>A[i]<\/b>\uff08\u6216<b>[i..j]<\/b>\u4e4b\u95f4\u7684\u4efb\u4f55\u5176\u4ed6\u56fa\u5b9a\u7d22\u5f15\uff09\u3002<\/p><br><p>\u5c0f\u7ec3\u4e60\uff1a\u5c06\u4e0a\u8ff0\u60f3\u6cd5\u5e94\u7528\u5230<a href=\"?slide=12-7\"><u>\u8fd9\u4e2a\u5e7b\u706f\u7247<\/u><\/a>\u4e2d\u663e\u793a\u7684\u5b9e\u73b0\uff01<\/p><br><p>\u5728\u8fd9\u4e2a\u5927\u800c\u6709\u4e9b\u968f\u673a\u7684\u793a\u4f8b\u6570\u7ec4<b>a<\/b> = [3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]\u4e0a\u8fd0\u884c <span class=\"slide-actions\" onclick=\"doButtonAction14()\">Random Quick Sort<\/span> \u611f\u89c9\u5f88\u5feb\u3002<\/p>","title":"\u968f\u673a\u5feb\u901f\u6392\u5e8f"},{"id":569,"category":"sorting","order":1,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:07:14","updated_at":"2023-08-21 09:58:34","section":181,"code":"","section_order":13,"value":"13-1","text":"<p>\u8981\u6b63\u786e\u89e3\u91ca\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u968f\u673a\u7248\u672c\u7684\u5feb\u901f\u6392\u5e8f\u5728<b>\u4efb\u4f55<\/b>\u5305\u542b<b>N<\/b>\u4e2a\u5143\u7d20\u7684\u8f93\u5165\u6570\u7ec4\u4e0a\u7684\u9884\u671f\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(<b>N<\/b> log <b>N<\/b>)\uff0c\u5927\u7ea6\u9700\u89811\u5c0f\u65f6\u7684\u8bb2\u5ea7\u3002<\/p><br><p>\u5728\u8fd9\u4e2a\u7535\u5b50\u8bb2\u5ea7\u4e2d\uff0c\u6211\u4eec\u5c06\u5047\u8bbe\u8fd9\u662f\u6b63\u786e\u7684\u3002<\/p><br><p>\u5982\u679c\u4f60\u9700\u8981\u975e\u6b63\u5f0f\u7684\u89e3\u91ca\uff1a\u53ea\u9700\u60f3\u8c61\u5728\u968f\u673a\u5316\u7248\u672c\u7684\u5feb\u901f\u6392\u5e8f\u4e2d\uff0c\u6211\u4eec\u968f\u673a\u9009\u62e9\u67a2\u8f74\uff0c\u6211\u4eec<b>\u4e0d<\/b>\u603b\u662f\u5f97\u5230\u6781\u5176\u7cdf\u7cd5\u7684\u5206\u5272\uff0c\u53730\uff08\u7a7a\uff09\uff0c1\uff08\u67a2\u8f74\uff09\uff0c\u548c<b>N<\/b>-1\u4e2a\u5176\u4ed6\u9879\u76ee\u3002\u8fd9\u79cd\u5e78\u8fd0\uff08\u534a\u67a2\u8f74\u534a\uff09\uff0c\u6709\u70b9\u5e78\u8fd0\uff0c\u6709\u70b9\u4e0d\u5e78\uff0c\u548c\u6781\u5176\u4e0d\u5e78\uff08\u7a7a\uff0c\u67a2\u8f74\uff0c\u5176\u4f59\uff09\u7684\u7ec4\u5408\u4ea7\u751f\u4e86\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(<b>N<\/b> log <b>N<\/b>)\u3002<\/p><br><p>\u8ba8\u8bba\uff1a\u5bf9\u4e8e<a href=\"?slide=12-4\"><u>Partition<\/u><\/a>\u7684\u5b9e\u73b0\uff0c\u5982\u679c<b>A[k] == p<\/b>\uff0c\u6211\u4eec<i>\u603b\u662f<\/i>\u786e\u5b9a\u6027\u5730\u5c06<b>A[k]<\/b>\u653e\u5728\u4e00\u4fa7\uff08<b>S1<\/b>\u6216<b>S2<\/b>\uff09\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f<\/p>","title":"\u9b54\u6cd5\u822c\u7684\u5206\u6790"},{"id":776,"category":"sorting","order":2,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2022-01-04 15:28:57","updated_at":"2023-08-21 09:54:49","section":181,"code":"","section_order":13,"value":"13-2","text":"\u5728\u4e0a\u8ff0\u60c5\u51b5\u4e0b\uff0c\u968f\u673a\u5316\u5feb\u901f\u6392\u5e8f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53c8\u4f1a\u6389\u5230<span style=\"white-space: normal;\">(<\/span><b style=\"white-space: normal;\">N<\/b><sup style=\"white-space: normal;\">2<\/sup><span style=\"white-space: normal;\">)\u3002<\/span>","title":"\u7b54\u6848"},{"id":560,"category":"sorting","order":14,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:17:28","updated_at":"2023-08-21 09:54:54","section":-1,"code":"$('#title-Counting').click();","section_order":-1,"value":"14","text":"<p>\u5728\u63a5\u4e0b\u6765\u7684\u5e7b\u706f\u7247\uff0c\u6211\u4eec\u5c06\u8ba8\u8bba\u4e24\u79cd<b>\u4e0d\u57fa\u4e8e\u6bd4\u8f83<\/b>\u7684\u6392\u5e8f\u7b97\u6cd5:<\/p><ol><li><a href=\"?slide=15\"><u>\u8ba1\u6570\u6392\u5e8f<\/u><\/a>,<\/li><li><a href=\"?slide=16\"><u>\u57fa\u6570\u6392\u5e8f<\/u><\/a>.<\/li><\/ol><p>\u8fd9\u4e9b\u6392\u5e8f\u7b97\u6cd5\u53ef\u4ee5\u4e0d\u6bd4\u8f83\u6570\u7ec4\u7684\u9879\uff0c\u4ece\u800c\u6bd4\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \u03a9\uff08<b>N<\/b> log <b>N<\/b>\uff09\u7684\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5\u7684\u4e0b\u9650\u66f4\u5feb\u3002<\/p>","title":"2. O(N) \u4e0d\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5"},{"id":561,"category":"sorting","order":1,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:17:53","updated_at":"2023-08-21 09:54:56","section":560,"code":"$('#title-Counting').click();","section_order":14,"value":"14-1","text":"<p>\u4f17\u6240\u5468\u77e5\uff08\u5c3d\u7ba1\u5728\u8fd9\u4e2a\u53ef\u89c6\u5316\u4e2d\u5e76\u672a\u8bc1\u660e\uff0c\u56e0\u4e3a\u8fd9\u9700\u8981\u5927\u7ea6\u534a\u5c0f\u65f6\u7684\u51b3\u7b56\u6811\u6a21\u578b\u8bb2\u5ea7\u624d\u80fd\u505a\u5230\uff09\uff0c\u6240\u6709\u57fa\u4e8e<b>\u6bd4\u8f83\u7684<\/b>\u6392\u5e8f\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e0b\u754c\u90fd\u662f\u03a9(<b>N<\/b> log <b>N<\/b>)\u3002<\/p><br><p>\u56e0\u6b64\uff0c\u4efb\u4f55\u5177\u6709\u6700\u574f\u60c5\u51b5\u590d\u6742\u5ea6\u4e3aO(<b>N<\/b> log <b>N<\/b>)\u7684\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5\uff0c\u5982<a href=\"?slide=11-9\"><u>Merge Sort<\/u><\/a>\uff0c\u90fd\u88ab\u8ba4\u4e3a\u662f\u6700\u4f18\u7b97\u6cd5\uff0c\u5373\u6211\u4eec\u4e0d\u80fd\u505a\u5f97\u6bd4\u8fd9\u66f4\u597d\u3002<\/p><br><p>\u7136\u800c\uff0c\u5982\u679c\u8f93\u5165\u6570\u7ec4\u5b58\u5728\u67d0\u4e9b\u5047\u8bbe\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u66f4\u5feb\u7684\u6392\u5e8f\u7b97\u6cd5 \u2014 \u5373O(<b>N<\/b>) \u2014 \u4ece\u800c\u907f\u514d\u6bd4\u8f83\u9879\u76ee\u4ee5\u786e\u5b9a\u6392\u5e8f\u987a\u5e8f\u3002<\/p>","title":"\u6392\u5e8f\u7b97\u6cd5\u7684\u4e0b\u9650"},{"id":182,"category":"sorting","order":15,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 19:43:21","updated_at":"2023-08-21 09:55:00","section":-1,"code":"$('#title-Counting').click();","section_order":-1,"value":"15","text":"\u5047\u8bbe\uff1a\u5982\u679c\u8981\u6392\u5e8f\u7684\u9879\u76ee\u662f\u5c0f\u8303\u56f4\u7684\u6574\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u6bcf\u4e2a\u6574\u6570\uff08\u5728\u8fd9\u4e2a\u5c0f\u8303\u56f4\u5185\uff09\u7684\u51fa\u73b0\u9891\u7387\uff0c\u7136\u540e\u901a\u8fc7\u5faa\u73af\u8be5\u5c0f\u8303\u56f4\u6765\u6709\u5e8f\u8f93\u51fa\u5404\u9879\u3002<br>\u7528\u4e0a\u9762\u7684 [1...9] \u8303\u56f4\u5185\u7684\u793a\u4f8b\u6570\u7ec4\u4e2d\u5c1d\u8bd5 <span class=\"slide-actions\" onclick=\"doButtonAction15()\">Counting Sort<\/span>\uff0c\u56e0\u6b64\u6211\u4eec\u53ea\u9700\u8981\u8ba1\u7b97\u6574\u65701\u51fa\u73b0\u7684\u6b21\u6570\uff0c\u6574\u65702\u51fa\u73b0\u7684\u6b21\u6570\uff0c...\uff0c\u6574\u65709\u51fa\u73b0\u7684\u6b21\u6570\uff0c\u7136\u540e\u904d\u53861\u52309\u3002\u5982\u679c\u6574\u6570 <b>y<\/b> \u7684\u9891\u7387\u4e3a <b>x<\/b>\uff0c\u5219\u6253\u5370\u51fa\u6574\u6570 <b>y <\/b>\u7684 <b>x<\/b> \u4e2a\u526f\u672c\u3002<br>\u8ba1\u7b97\u9891\u7387\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(<b>N<\/b>)\uff0c\u6709\u5e8f\u8f93\u51fa\u7ed3\u679c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(<b>N + k<\/b>)\uff0c\u5176\u4e2d <b>k <\/b>\u662f\u8f93\u5165\u7684\u6574\u6570\u8303\u56f4\uff0c\u5728\u672c\u4f8b\u4e2d\u4e3a 9-1+1 = 9\u3002\u8ba1\u6570\u6392\u5e8f\uff08Counting Sort\uff09\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a O(<b>N + k<\/b>)\uff0c\u5982\u679c <b>k<\/b> \u5f88\u5c0f\uff0c\u90a3\u4e48\u5b83\u5c31\u662f O(<b>N<\/b>)\u3002<br>\u7531\u4e8e\u5185\u5b58\u9650\u5236\uff0c\u5f53 <b>k<\/b> \u76f8\u5bf9\u8f83\u5927\u65f6\uff0c\u6211\u4eec\u5c06\u65e0\u6cd5\u6267\u884c\u8ba1\u6570\u6392\u5e8f\uff08Counting Sort\uff09\u7684\u8ba1\u6570\u90e8\u5206\uff0c\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u5b58\u50a8 <b>k <\/b>\u4e2a\u6574\u6570\u51fa\u73b0\u7684\u6b21\u6570\u3002<br>","title":"\u8ba1\u6570\u6392\u5e8f"},{"id":183,"category":"sorting","order":16,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 20:11:59","updated_at":"2023-08-21 09:55:04","section":-1,"code":"$('#title-Radix').click();","section_order":-1,"value":"16","text":"<p><b>\u5047\u8bbe<\/b>\uff1a\u5982\u679c\u8981\u6392\u5e8f\u7684\u9879\u76ee\u662f<b>\u5177\u6709\u5927\u8303\u56f4\u4f46\u5c11\u4f4d\u6570\u7684\u6574\u6570<\/b>\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8ba1\u6570\u6392\u5e8f\u7684\u601d\u60f3\u4e0e\u57fa\u6570\u6392\u5e8f\u76f8\u7ed3\u5408\uff0c\u4ee5\u5b9e\u73b0\u7ebf\u6027\u65f6\u95f4\u590d\u6742\u5ea6\u3002<\/p><br><p>\u5728\u57fa\u6570\u6392\u5e8f\u4e2d\uff0c\u6211\u4eec\u5c06\u8981\u6392\u5e8f\u7684\u6bcf\u4e2a\u9879\u76ee\u89c6\u4e3a\u4e00\u4e2a\u7531<b>w<\/b>\u4f4d\u6570\u5b57\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\uff08\u5982\u679c\u9700\u8981\uff0c\u6211\u4eec\u4f1a\u5728\u4f4d\u6570\u5c11\u4e8e<b>w<\/b>\u4f4d\u7684\u6574\u6570\u524d\u9762\u586b\u5145\u96f6\uff09\u3002<\/p><br><p>\u4ece\u6700\u4f4e\u6709\u6548\u4f4d\uff08\u6700\u53f3\u8fb9\uff09\u5230\u6700\u9ad8\u6709\u6548\u4f4d\uff08\u6700\u5de6\u8fb9\uff09\uff0c\u6211\u4eec\u904d\u5386<b>N<\/b>\u4e2a\u9879\u76ee\uff0c\u5e76\u6839\u636e\u5f53\u524d\u4f4d\u5c06\u5b83\u4eec\u653e\u516510\u4e2a\u961f\u5217\u4e2d\uff08\u6bcf\u4e2a\u6570\u5b57[0..9]\u4e00\u4e2a\u961f\u5217\uff09\uff0c\u8fd9\u7c7b\u4f3c\u4e8e\u4e00\u4e2a<i>\u4fee\u6539\u8fc7\u7684<\/i>\u8ba1\u6570\u6392\u5e8f\uff0c\u56e0\u4e3a\u5b83\u4fdd\u6301\u4e86<a href=\"?slide=17-2\"><u>\u7a33\u5b9a\u6027<\/u><\/a>\uff08\u8bf7\u8bb0\u4f4f\uff0c\u4e4b\u524d\u5728<a href=\"?slide=15\"><u>\u6b64\u5e7b\u706f\u7247\u4e2d<\/u><\/a>\u5c55\u793a\u7684\u8ba1\u6570\u6392\u5e8f\u7248\u672c\u4e0d\u662f\u7a33\u5b9a\u6392\u5e8f\uff09\u3002\u7136\u540e\u6211\u4eec\u518d\u6b21\u5c06\u8fd9\u4e9b\u7ec4\u91cd\u65b0\u8fde\u63a5\u8d77\u6765\u8fdb\u884c\u540e\u7eed\u8fed\u4ee3\u3002<\/p><br><p>\u5c1d\u8bd5\u5728\u4e0a\u9762\u7684\u968f\u673a4\u4f4d\u6570\u6570\u7ec4\u4e0a\u70b9\u51fb <span class=\"slide-actions\" onclick=\"doButtonAction16()\">Radix Sort<\/span> \u4ee5\u83b7\u5f97\u66f4\u6e05\u6670\u7684\u89e3\u91ca\u3002<\/p><br><p>\u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u53ea\u6267\u884c\u4e86O(<b>w \u00d7 (N+k)<\/b>)\u6b21\u8fed\u4ee3\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<b>w = 4<\/b>\uff0c<b>k = 10<\/b>\u3002<\/p>","title":"\u57fa\u6570\u6392\u5e8f"},{"id":638,"category":"sorting","order":1,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-08-30 16:47:08","updated_at":"2023-08-21 09:55:09","section":183,"code":"$('#title-Radix').click();","section_order":16,"value":"16-1","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u5df2\u7ecf\u8ba8\u8bba\u8fc7\u57fa\u6570\u6392\u5e8f\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5728<b>\u6bcf\u4e00\u4e2a<\/b>\u6392\u5e8f\u60c5\u51b5\u4e0b\u4f7f\u7528\u5b83\u5417\uff1f<\/p><br><p>\u4f8b\u5982\uff0c\u7406\u8bba\u4e0a\u6765\u8bf4\uff0c\u5bf9\u8bb8\u591a\uff08<b>N<\/b>\u975e\u5e38\u5927\uff0932\u4f4d\u6709\u7b26\u53f7\u6574\u6570\u8fdb\u884c\u6392\u5e8f\u5e94\u8be5\u66f4\u5feb\uff0c\u56e0\u4e3a<b>w \u2264 10<\/b>\u4f4d\u6570\uff0c<b>k = 10<\/b>\uff0c\u5982\u679c\u6211\u4eec\u5c06\u8fd9\u4e9b32\u4f4d\u6709\u7b26\u53f7\u6574\u6570\u89e3\u91ca\u4e3a\u5341\u8fdb\u5236\u3002O(10 \u00d7 (<b>N<\/b>+10)) = O(<b>N<\/b>)\u3002<\/p><br><p>\u8ba8\u8bba\uff1a\u5982\u672c\u53ef\u89c6\u5316\u6240\u793a\uff0c\u4f7f\u7528\u57fa\u657010\u5b9e\u9645\u4e0a\u5e76\u4e0d\u662f\u6392\u5e8f<b>N<\/b>\u4e2a32\u4f4d\u6709\u7b26\u53f7\u6574\u6570\u7684\u6700\u4f73\u65b9\u5f0f\u3002\u90a3\u4e48\u66f4\u597d\u7684\u8bbe\u7f6e\u5e94\u8be5\u662f\u4ec0\u4e48\u5462\uff1f<\/p>","title":"\u6700\u597d\u7684\u6574\u6570\u6392\u5e8f\u7b97\u6cd5\uff1f"},{"id":770,"category":"sorting","order":2,"top":"320px","right":"","bottom":"","left":"50%","marginLeft":"-250px","width":"500px","showActionsPanel":1,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2021-12-26 14:38:53","updated_at":"2023-08-21 09:55:11","section":183,"code":"$('#title-Radix').click();","section_order":16,"value":"16-2","text":"<div>\u7b54\u6848\u662f\uff1a\u770b\u60c5\u51b5<\/div><div>\u5982\u679c\u4f4d\u6570\u8f83\u5c0f\uff0c\u8f83\u76f8\u4f3c\uff0c\u4e14\u6709\u5f88\u591a\u6574\u6570\u7684\u8bdd\uff0c\u57fa\u6570\u6392\u5e8f\u6bd4 O(<b>N<\/b> log <b>N<\/b>) \u7684\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5\u66f4\u597d\u3002<\/div><div>\u7136\u800c\uff0c\u5982\u679c\u8981\u5c06 <b>A<\/b> = [732834702348928349382734, 1] \u5347\u5e8f\u6392\u5e8f\uff0c\u90a3\u4efb\u4f55\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5\u90fd\u80fd\u6bd4\u57fa\u6570\u6392\u5e8f\u66f4\u5feb\u5730\u5c06 <b>A<\/b> \u6392\u597d\u5e8f\u3002<\/div><div>\u800c\u6709\u65f6\u6211\u4eec\u8981\u6392\u5e8f\u7684\u4e0d\u662f\u6574\u6570\uff08\u5982\u6d6e\u70b9\u6570\uff09\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7528\u66f4\u6cdb\u7528\u7684\u57fa\u4e8e\u6bd4\u8f83\u7684\u6392\u5e8f\u7b97\u6cd5\u4e86\u3002<br><\/div>","title":"\u7b54\u6848<br>"},{"id":570,"category":"sorting","order":17,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:08:53","updated_at":"2023-08-21 09:59:02","section":-1,"code":"","section_order":-1,"value":"17","text":"\u9664\u4e86\u6bd4\u8f83\u8fd8\u662f\u975e\u6bd4\u8f83\uff0c\u9012\u5f52\u8fd8\u662f\u8fed\u4ee3\u4e4b\u5916\uff0c\u8fd8\u6709\u5176\u4ed6\u4e00\u4e9b\u5c5e\u6027\u53ef\u7528\u4e8e\u533a\u5206\u6392\u5e8f\u7b97\u6cd5\u3002<br>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u8ba8\u8bba\u5c31\u5730\uff08in-place\uff09\u4e0e\u975e\u5c31\u5730\uff0c\u7a33\u5b9a (stable) \u4e0e\u4e0d\u7a33\u5b9a\u4ee5\u53ca\u9ad8\u901f\u7f13\u5b58\u7684\u6392\u5e8f\u7b97\u6cd5\u7684\u6027\u80fd\u3002","title":"\u6392\u5e8f\u7b97\u6cd5\u7684\u9644\u52a0\u5c5e\u6027"},{"id":571,"category":"sorting","order":1,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:09:15","updated_at":"2023-08-21 09:59:44","section":570,"code":"","section_order":17,"value":"17-1","text":"<p>\u5982\u679c\u4e00\u4e2a\u6392\u5e8f\u7b97\u6cd5\u5728\u6392\u5e8f\u8fc7\u7a0b\u4e2d\u53ea\u9700\u8981\u5e38\u91cf\u7ea7\u522b\uff08\u5373\uff0cO(<b>1)<\/b>\uff09\u7684\u989d\u5916\u7a7a\u95f4\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u8bf4\u8fd9\u662f\u4e00\u4e2a<b>\u539f\u5730\u6392\u5e8f<\/b>\u7b97\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5c11\u91cf\u7684\u3001\u5e38\u6570\u4e2a\u6570\u7684\u989d\u5916\u53d8\u91cf\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u6211\u4eec\u4e0d\u5141\u8bb8\u6709\u4f9d\u8d56\u4e8e\u8f93\u5165\u5927\u5c0f<b>N<\/b>\u7684\u53d8\u91cf\u957f\u5ea6\u3002<\/p><br><p><a href=\"?slide=11-2\"><u>\u5f52\u5e76\u6392\u5e8f<\/u><\/a>\uff08\u7ecf\u5178\u7248\u672c\uff09\uff0c\u7531\u4e8e\u5176<samp>merge<\/samp>\u5b50\u7a0b\u5e8f\u9700\u8981\u989d\u5916\u7684\u4e34\u65f6\u6570\u7ec4\uff0c\u5927\u5c0f\u4e3a<b>N<\/b>\uff0c\u6240\u4ee5\u5b83\u4e0d\u662f\u539f\u5730\u6392\u5e8f\u3002<\/p><br><p>\u8ba8\u8bba\uff1a\u5192\u6ce1\u6392\u5e8f\u3001\u9009\u62e9\u6392\u5e8f\u3001\u63d2\u5165\u6392\u5e8f\u3001\u5feb\u901f\u6392\u5e8f\uff08\u662f\u5426\u968f\u673a\uff09\u3001\u8ba1\u6570\u6392\u5e8f\u548c\u57fa\u6570\u6392\u5e8f\uff0c\u54ea\u4e9b\u662f\u539f\u5730\u6392\u5e8f\uff1f<\/p>","title":"\u5c31\u5730 (in-place) \u6392\u5e8f"},{"id":572,"category":"sorting","order":2,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-02 05:09:24","updated_at":"2023-08-21 09:59:06","section":570,"code":"","section_order":17,"value":"17-2","text":"<p>\u5982\u679c\u6392\u5e8f\u7b97\u6cd5\u5728\u6392\u5e8f\u6267\u884c\u540e\u4fdd\u7559\u4e86<b>\u5177\u6709\u76f8\u540c\u952e\u503c<\/b>\u7684\u5143\u7d20\u7684\u76f8\u5bf9\u987a\u5e8f\uff0c\u90a3\u4e48\u8fd9\u79cd\u6392\u5e8f\u7b97\u6cd5\u88ab\u79f0\u4e3a<b>\u7a33\u5b9a\uff08stable\uff09<\/b>\u3002<\/p><br><p>\u7a33\u5b9a\u6392\u5e8f\u7684\u793a\u4f8b\u5e94\u7528\uff1a\u5047\u8bbe\u6211\u4eec\u6709\u6309\u5b57\u6bcd\u987a\u5e8f\u6392\u5e8f\u7684\u5b66\u751f\u540d\u5b57\u3002\u73b0\u5728\uff0c\u5982\u679c\u8fd9\u4e2a\u5217\u8868\u518d\u6b21\u6309\u7167\u6559\u5b66\u5c0f\u7ec4\u7f16\u53f7\u6392\u5e8f\uff08\u56de\u60f3\u4e00\u4e0b\uff0c\u4e00\u4e2a\u6559\u5b66\u5c0f\u7ec4\u901a\u5e38\u6709\u5f88\u591a\u5b66\u751f\uff09\uff0c\u4e00\u4e2a\u7a33\u5b9a\u7684\u6392\u5e8f\u7b97\u6cd5\u4f1a\u786e\u4fdd\u540c\u4e00\u4e2a\u6559\u5b66\u5c0f\u7ec4\u7684\u6240\u6709\u5b66\u751f\u4ecd\u7136\u6309\u7167\u4ed6\u4eec\u7684\u540d\u5b57\u7684\u5b57\u6bcd\u987a\u5e8f\u51fa\u73b0\u3002<a href=\"?slide=16\"><u>\u57fa\u6570\u6392\u5e8f<\/u><\/a>\u9700\u8981\u901a\u8fc7\u591a\u8f6e\u6309\u4f4d\u6392\u5e8f\uff0c\u5e76\u9700\u8981\u4e00\u4e2a\u7a33\u5b9a\u7684\u6392\u5e8f\u5b50\u7a0b\u5e8f\u624d\u80fd\u6b63\u786e\u5de5\u4f5c\u3002<\/p><br><p>\u8ba8\u8bba\uff1a\u5728\u8fd9\u4e2a\u7535\u5b50\u8bb2\u5ea7\u4e2d\u8ba8\u8bba\u7684\u6392\u5e8f\u7b97\u6cd5\u4e2d\uff0c\u54ea\u4e9b\u662f\u7a33\u5b9a\u7684\uff1f<br>\u5c1d\u8bd5\u5bf9\u6570\u7ec4 A = {3, 4a, 2, 4b, 1} \u8fdb\u884c\u6392\u5e8f\uff0c\u5373\u6709\u4e24\u4e2a4\u7684\u526f\u672c\uff08\u5148\u662f4a\uff0c\u7136\u540e\u662f4b\uff09\u3002<\/p>","title":"\u7a33\u5b9a (stable) \u6392\u5e8f"},{"id":573,"category":"sorting","order":3,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2017-06-02 05:09:32","updated_at":"2023-08-21 09:59:08","section":570,"code":"","section_order":17,"value":"17-3","text":"\u5982\u679c\u60a8\u5df2\u7ecf\u7406\u89e3\u8ba1\u7b97\u673a\u5982\u4f55\u7ba1\u7406\u7f13\u5b58\u5185\u5b58\u7684\u6982\u5ff5\uff0c\u5219\u6b64\u4e3b\u9898\u66f4\u5177\u76f8\u5173\u6027\u3002 \u8fd9\u662f\u53e6\u4e00\u4e2a\u5178\u578b\u7684\u8ba1\u7b97\u673a\u79d1\u5b66\u6a21\u5757\u4e2d\u7684\u4e3b\u9898\u4e4b\u4e00\uff1a\u201c\u8ba1\u7b97\u673a\u7ec4\u7ec7\u201d\u3002<br><div>\u57fa\u672c\u4e0a\uff0c\u5feb\u901f\u6392\u5e8f\u79cd\u5206\u533a\u884c\u4e3a\u662f\u5bf9\u7f13\u5b58\u975e\u5e38\u53cb\u597d\u7684\uff0c\u56e0\u6b64\u5feb\u901f\u6392\u5e8f\uff0c\u5c24\u5176\u662f\u968f\u673a\u7248\u672c\uff0c\u662f\u5927\u591a\u6570\u6392\u5e8f\u5e93\u4e2d\u4f7f\u7528\u7684\u5178\u578b\u6392\u5e8f\u7b97\u6cd5\uff0c\u5982\u5728C ++ STL sort\uff08\u4e0e\u5176\u4ed6\u6392\u5e8f\u7b97\u6cd5\u4e00\u8d77\uff09\u4e2d\u4e00\u6837\u3002<br>\u540e\u7eed\u95ee\u9898\uff1a\u5176\u4ed6\u6392\u5e8f\u7b97\u6cd5\u5982\u4f55\uff1f<br><\/div>","title":"\u7f13\u5b58\u6027\u80fd"},{"id":164,"category":"sorting","order":18,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-20 04:29:58","updated_at":"2023-08-21 09:59:11","section":-1,"code":"","section_order":-1,"value":"18","text":"<div>\u6211\u4eec\u7684\u7535\u5b50\u8bfe\u5802\u63a5\u8fd1\u5c3e\u58f0\u4e86\u3002<br><\/div><div>\u5c0f\u6d4b\u9a8c\u65f6\u95f4\uff01<\/div>","title":"\u5c0f\u6d4b\u9a8c"},{"id":184,"category":"sorting","order":1,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 20:23:35","updated_at":"2023-08-21 09:59:14","section":164,"code":"","section_order":18,"value":"18-1","text":"<span style=\"white-space: normal;\"><input class=\"mcq-answer\" id=\"mcq-answer-1\" value=\"5\" hidden><p>Quiz: <b>Which of these algorithms run in O(N log N) on any input array of size N?<\/b><\/p><form><input type=\"radio\" name=\"mcq-1-choice\" value=\"5\"> Merge Sort<br><input type=\"radio\" name=\"mcq-1-choice\" value=\"2\"> Bubble Sort<br><input type=\"radio\" name=\"mcq-1-choice\" value=\"4\"> Quick Sort (Deterministic)<br><input type=\"radio\" name=\"mcq-1-choice\" value=\"3\"> Insertion Sort<br><\/form><button class=\"mcq-submit\" id=\"submit-1\">Submit<\/button> <span id=\"answer-status-1\"><\/span><br><\/span>","title":"\u5c0f\u6d4b\u9a8c #1"},{"id":185,"category":"sorting","order":2,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-03-26 20:23:54","updated_at":"2023-08-21 09:59:17","section":164,"code":"","section_order":18,"value":"18-2","text":"<span style=\"white-space: normal;\"><input class=\"msq-answer\" id=\"msq-answer-3\" value=\"13,15,16\" hidden><p>Quiz: <b>Which of these algorithms has worst case time complexity of \u0398(N^2) for sorting N integers?<\/b><\/p><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-3-choice-14\"> Merge Sort<br><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-3-choice-23\"> Radix Sort<br><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-3-choice-16\"> Selection Sort<br><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-3-choice-15\"> Insertion Sort<br><input type=\"checkbox\" class=\"msq-choice\" id=\"msq-3-choice-13\"> Bubble Sort<br><button class=\"msq-submit\" id=\"submit-3\">Submit<\/button> <span id=\"answer-status-3\"><\/span><\/span><div><span style=\"white-space: normal;\">\u0398\u662f\u4e00\u4e2a\u7d27 (tight) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5206\u6790\uff0c\u5176\u4e2d\u6700\u4f73\u60c5\u51b5 \u03a9 \u548c\u6700\u574f\u60c5\u51b5\u7684 big-O \u5206\u6790\u4e92\u76f8\u5339\u914d\u3002<br><\/span><\/div>","title":"\u5c0f\u6d4b\u9a8c #2"},{"id":562,"category":"sorting","order":19,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:18:30","updated_at":"2023-08-21 09:59:18","section":-1,"code":"","section_order":-1,"value":"19","text":"<p>\u6211\u4eec\u5df2\u7ecf\u5230\u4e86\u7535\u5b50\u8bb2\u5ea7 - \u6392\u5e8f\u7684\u672b\u5c3e\u3002<br>\u4f46\u662f\uff0cVisuAlgo \u4e2d\u8fd8\u6709\u53e6\u5916\u4e24\u79cd\u5d4c\u5165\u5728\u5176\u4ed6\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u6392\u5e8f\u7b97\u6cd5\uff1a<a href=\".\/heap\"><u>\u5806\u6392\u5e8f<\/u><\/a>\u548c<a href=\".\/bst\"><u>\u5e73\u8861BST\u6392\u5e8f<\/u><\/a>\u3002 \u6211\u4eec\u5c06\u5728\u8fd9\u4e24\u79cd\u6570\u636e\u7ed3\u6784\u7684\u7535\u5b50\u8bb2\u5ea7\u91cc\u9762\u8ba8\u8bba\u5b83\u4eec\u3002<br><\/p>","title":"\u9644\u52a0\u529f\u80fd"},{"id":568,"category":"sorting","order":1,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2017-06-01 09:00:35","updated_at":"2023-08-21 09:59:21","section":562,"code":"","section_order":19,"value":"19-1","text":"\u8fd9\u91cc\u7684\u79d8\u5bc6\u6311\u6218\u5c31\u5728\u4e8e\u4f7f\u7528\u5404\u79cd\u8f93\u5165\u7c7b\u578b\uff08\u6392\u5e8f\/\u8fd1\u4f3c\u6392\u5e8f\u5347\u5e8f\/\u964d\u5e8f;\u6216\u968f\u673a\u8f93\u5165\uff09\u6bd4\u8f83\u5404\u79cd\u6392\u5e8f\u7b97\u6cd5\u3002<br>\u5728NUS CS2040\/C\u4e2d\uff0c\u8fd9\u5c06\u88ab\u7528\u4e8e\u5bb6\u5ead\u7ec3\u4e60\uff0c\u5e76\u5728\u8f85\u5bfc\u8bfe\u671f\u95f4\u8fdb\u884c\u8ba8\u8bba\u3002","title":"\u6311\u6218"},{"id":677,"category":"sorting","order":2,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":1,"created_at":"2018-02-01 12:53:10","updated_at":"2023-08-21 09:59:24","section":562,"code":"","section_order":19,"value":"19-2","text":"\u6570\u7ec4 <b>A<\/b> \u7684 \u9006\u5e8f\u6570\/\u9006\u5e8f\u6570\u5bf9\u7684\u4e2a\u6570 \u8868\u793a <b>A <\/b>\u88ab\u6392\u5e8f\u7684\u8ddd\u79bb\u6709\u591a\u8fdc\u6216\u8005\u591a\u8fd1\u3002<br>\u5982\u679c\u6570\u7ec4 <b>A <\/b>\u5df2\u7ecf\u6392\u5e8f\uff0c\u5219\u9006\u5e8f\u6570\u4e3a0\u3002<br>\u5982\u679c\u6570\u7ec4 <b>A<\/b> \u6309\u76f8\u53cd\u7684\u987a\u5e8f\u6392\u5e8f\uff0c\u5219\u9006\u5e8f\u6570\u6700\u5927= <b>N *\uff08N-1\uff09\/ 2<\/b>\u3002<br>\u5982\u679c <b>A [i]&gt; A [j] <\/b>\u548c <b>i <\/b><j< b=\"\" style=\"\"><b style=\"font-weight: bold;\">\uff0c<\/b>\u5219\u4e24\u4e2a\u5143\u7d20 <b>A [i]<\/b> \u548c <b>A [j]<\/b> \u5f62\u6210\u4e00\u7ec4\u9006\u5e8f\u6570\u5bf9<b>\u3002<br><\/b>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6a21\u62df\u5192\u6ce1\u6392\u5e8f\u4ea4\u6362\u6765\u8ba1\u7b97O\uff08<b>N<\/b><sup>2<\/sup>\uff09\u4e2d\u7684\u6570\u7ec4<b>A<\/b>\u7684\u9006\u5e8f\u6570\uff0c\u6216\u8005\u901a\u8fc7\u5728\u5f52\u5e76\u6392\u5e8f\u7684\u5f52\u5e76\u90e8\u5206\u8ba1\u6570\u53cd\u5411\u6765\u8ba1\u7b97O\uff08<b>N<\/b> log <b>N<\/b>\uff09\u4e2d\u7684\u6570\u7ec4 <b>A<\/b> \u7684\u9006\u5e8f\u6570\u3002<b><br><\/b><\/j<>","title":"\u9006\u5e8f\u6570 \/ \u9006\u5e8f\u6570\u5bf9\u7684\u4e2a\u6570"},{"id":563,"category":"sorting","order":3,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:18:40","updated_at":"2023-08-21 09:59:26","section":562,"code":"","section_order":19,"value":"19-3","text":"<p>\u5b9e\u9645\u4e0a\uff0c\u8bb8\u591a\u8fd9\u4e9b\u57fa\u672c\u6392\u5e8f\u7b97\u6cd5\u7684C ++\u6e90\u4ee3\u7801\u5df2\u7ecf\u5206\u6563\u5728\u8fd9\u4e9b\u7535\u5b50\u8bb2\u5ea7\u5e7b\u706f\u7247\u4e2d\u3002\u5bf9\u4e8e\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\uff0c\u60a8\u53ef\u4ee5\u5c06\u7ed9\u5b9a\u7684C ++\u6e90\u4ee3\u7801\u7ffb\u8bd1\u4e3a\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u3002<br>\u901a\u5e38\uff0c\u6392\u5e8f\u53ea\u662f\u95ee\u9898\u89e3\u51b3\u8fc7\u7a0b\u4e2d\u7684\u4e00\u5c0f\u90e8\u5206\uff0c\u800c\u73b0\u5728\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u90fd\u6709\u81ea\u5df1\u7684\u6392\u5e8f\u51fd\u6570\uff0c\u6240\u4ee5\u975e\u5fc5\u8981\u60c5\u51b5\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u590d\u73b0\u5176\u4ee3\u7801\u3002<br>\u5728C++\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528STL\u7b97\u6cd5\u4e2d\u7684<a href=\"http:\/\/en.cppreference.com\/w\/cpp\/algorithm\/sort\" target=\"_blank\"><u>std::sort<\/u><\/a>\uff0c<a href=\"http:\/\/en.cppreference.com\/w\/cpp\/algorithm\/stable_sort\" target=\"_blank\"><u>std::stable_sort<\/u><\/a> \u6216 <a href=\"http:\/\/en.cppreference.com\/w\/cpp\/algorithm\/partial_sort\" target=\"_blank\"><u>std::partial_sort<\/u><\/a>\u3002<\/p><p>\u5728Java\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528<a href=\"https:\/\/docs.oracle.com\/javase\/9\/docs\/api\/java\/util\/Collections.html#sort-java.util.List-\" target=\"_blank\"><u>Collections.sort<\/u><\/a>\u3002<br><\/p><p>\u5728Python\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528<a href=\"https:\/\/docs.python.org\/3\/library\/stdtypes.html#list.sort\" target=\"_blank\"><u>sort<\/u><\/a>\u3002<\/p><p>\u5728OCaml\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528<a href=\"https:\/\/caml.inria.fr\/pub\/docs\/manual-ocaml\/libref\/List.html\" target=\"_blank\"><u>List.sort compare list_name<\/u><\/a>\u3002<br>\u5982\u679c\u6bd4\u8f83\u51fd\u6570\u662f\u9488\u5bf9\u7279\u5b9a\u95ee\u9898\u7684\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u4e3a\u8fd9\u4e9b\u5185\u7f6e\u7684\u6392\u5e8f\u4f8b\u7a0b\u63d0\u4f9b\u989d\u5916\u7684\u6bd4\u8f83\u51fd\u6570\u3002 <\/p>","title":"\u5b9e\u73b0\u65b9\u6cd5"},{"id":564,"category":"sorting","order":4,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:18:56","updated_at":"2023-08-21 09:59:29","section":562,"code":"","section_order":19,"value":"19-4","text":"\u662f\u65f6\u5019\u68c0\u9a8c\u4f60\u5bf9\u4e8e\u8fd9\u4e9b\u6392\u5e8f\u7b97\u6cd5\u7684\u57fa\u7840\u7684\u638c\u63e1\u7a0b\u5ea6\u4e86\uff01<br><span style=\"white-space: normal;\"><span class=\"slide-actions\" onclick=\"doButtonAction17()\">Test your understanding here!<\/span><\/span><br>","title":"\u5728\u7ebf\u6d4b\u9a8c"},{"id":565,"category":"sorting","order":5,"top":"70px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2017-06-01 07:19:17","updated_at":"2023-08-21 09:59:31","section":562,"code":"","section_order":19,"value":"19-5","text":"<p>\u73b0\u5728\u60a8\u5df2\u7ecf\u5230\u4e86\u7535\u5b50\u8bb2\u5ea7\u7684\u6700\u540e\u90e8\u5206\uff0c\u60a8\u8ba4\u4e3a\u6392\u5e8f\u95ee\u9898\u4e0e\u8c03\u7528\u5185\u7f6e\u7684\u6392\u5e8f\u7a0b\u5e8f\u4e00\u6837\u7b80\u5355\u5417\uff1f<br>\u5c1d\u8bd5\u8fd9\u4e9b\u5728\u7ebf\u8bc4\u5224\u95ee\u9898\u4ee5\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff1a<br><a href=\"https:\/\/open.kattis.com\/problems\/mjehuric\" target=\"_blank\"><u>Kattis - mjehuric<\/u><\/a><br><a href=\"https:\/\/open.kattis.com\/problems\/sortofsorting\" target=\"_blank\"><u>Kattis - sortofsorting<\/u><\/a>\uff0c\u6216\u8005<br><a href=\"https:\/\/open.kattis.com\/problems\/sidewayssorting\" target=\"_blank\"><u>Kattis - sidewayssorting<\/u><\/a><br>\u8fd9\u4e0d\u662f\u6392\u5e8f\u7b97\u6cd5\u7684\u7ed3\u675f\u3002 \u5f53\u60a8\u5728 VisuAlgo \u4e2d\u63a2\u7d22\u5176\u4ed6\u4e3b\u9898\u65f6\uff0c\u60a8\u4f1a\u610f\u8bc6\u5230\u6392\u5e8f\u662f\u8bb8\u591a\u5176\u4ed6\u9ad8\u96be\u5ea6\u95ee\u9898\u7684\u9ad8\u7ea7\u7b97\u6cd5\u7684\u9884\u5904\u7406\u6b65\u9aa4\uff0c\u4f8b\u5982\uff0c \u4f5c\u4e3a\u514b\u9c81\u65af\u5361\u5c14\u7b97\u6cd5\uff08<a href=\".\/mst\" target=\"_blank\"><u>Kruskal&#39;s algorithm<\/u><\/a>\uff09\u7684\u9884\u5904\u7406\u6b65\u9aa4\uff0c\u521b\u9020\u6027\u5730\u7528\u4e8e\u540e\u7f00\u6570\u7ec4 (<a href=\".\/suffixarray\" target=\"_blank\"><u>Suffix Array<\/u><\/a>) \u6570\u636e\u7ed3\u6784\u7b49\u3002<br><\/p>","title":"\u5728\u7ebf\u8bc4\u4f30\u7ec3\u4e60"},{"id":912,"category":"sorting","order":20,"top":"60px","right":"","bottom":"","left":"60px","marginLeft":"","width":"500px","showActionsPanel":0,"showStatusPanel":0,"showCodetracePanel":0,"created_at":"2024-02-16 09:40:27","updated_at":"2024-02-16 09:44:23","section":-1,"code":"","section_order":-1,"value":"20","text":"<!--ENDOFFIRSTBLOCK--><br><p>start of 3230 material<\/p.","title":"Detailed Analysis of Randomized Quicksort"}];
      const numSlides = lectureIds.length;
      var sectorJunction12Section = 0, sectorJunction12Slide = 0;
      var sectorJunction23Section = 0, sectorJunction23Slide = 0;
      var sector1Count = 0, sector2Count = 0, sector3Count = 0;
      const sectorLength = Math.floor(numSlides / 3);
      function createELectureTimelineDisplay() {
        for (let j = 0; j < numSlides; ++j) {
          const currLecture = lectureIds[j].value;
          if (currLecture.includes('-')) {
            $('#e-lecture-timeline').append(
              $(`<div class="e-lecture-timeline-slide" slideNo=${lectureIds[j].value}></div>`)
            );
          } else {
            $('#e-lecture-timeline').append(
              $(`<div class="e-lecture-timeline-checkpoint" slideNo=${lectureIds[j].value}></div>`)
            );
          }
        }
      }

      function setSectorJunctionInfo() {
          //setting the sector junction slide numbers
          const j12 = sectorLength !== 0 ? (sectorLength - 1): 0;
          const j23 = sectorLength !== 0 ? (2 * sectorLength - 1) : 0;

          const sectorJunction12 = lectureIds[j12].value.split('-');
          sectorJunction12Section = parseInt(sectorJunction12[0]);
          sectorJunction12Slide = sectorJunction12.length > 1 ? parseInt(sectorJunction12[1]) : sectorJunction12Slide;

          const sectorJunction23 = lectureIds[j23].value.split('-');
          sectorJunction23Section = parseInt(sectorJunction23[0]);
          sectorJunction23Slide = sectorJunction23.length > 1 ? parseInt(sectorJunction23[1]) : sectorJunction23Slide;
      }

      function runSlide(slide) { // Steven's patch on 28 Jan 2022: Properly remove slide 99, 99-1, 99-2, 99-3, integrate with the earlier slides
        if (slide == '1') {
          $("#e-lecture").html("slide " + slide + " (" + 1 + "%)");
          $('#title-Bubble').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.bubbleSort, "29,10,14,37,14");
        }
        if (slide == '1-1') {
          $("#e-lecture").html("slide " + slide + " (" + 2 + "%)");
          
        }
        if (slide == '1-2') {
          $("#e-lecture").html("slide " + slide + " (" + 3 + "%)");
          
        }
        if (slide == '1-3') {
          $("#e-lecture").html("slide " + slide + " (" + 4 + "%)");
          
        }
        if (slide == '2') {
          $("#e-lecture").html("slide " + slide + " (" + 5 + "%)");
          $("#create").click().addClass("menu-highlighted");
        }
        if (slide == '2-1') {
          $("#e-lecture").html("slide " + slide + " (" + 7 + "%)");
          $("#create").click().addClass("menu-highlighted");
        }
        if (slide == '2-2') {
          $("#e-lecture").html("slide " + slide + " (" + 8 + "%)");
          $('#title-Bubble').click();
$("#sort").addClass("menu-highlighted");
        }
        if (slide == '3') {
          $("#e-lecture").html("slide " + slide + " (" + 9 + "%)");
          
        }
        if (slide == '4') {
          $("#e-lecture").html("slide " + slide + " (" + 10 + "%)");
          
        }
        if (slide == '4-1') {
          $("#e-lecture").html("slide " + slide + " (" + 11 + "%)");
          
        }
        if (slide == '5') {
          $("#e-lecture").html("slide " + slide + " (" + 13 + "%)");
          
        }
        if (slide == '6') {
          $("#e-lecture").html("slide " + slide + " (" + 14 + "%)");
          
        }
        if (slide == '6-1') {
          $("#e-lecture").html("slide " + slide + " (" + 15 + "%)");
          
        }
        if (slide == '6-2') {
          $("#e-lecture").html("slide " + slide + " (" + 16 + "%)");
          
        }
        if (slide == '6-3') {
          $("#e-lecture").html("slide " + slide + " (" + 17 + "%)");
          
        }
        if (slide == '6-4') {
          $("#e-lecture").html("slide " + slide + " (" + 19 + "%)");
          
        }
        if (slide == '6-5') {
          $("#e-lecture").html("slide " + slide + " (" + 20 + "%)");
          
        }
        if (slide == '6-6') {
          $("#e-lecture").html("slide " + slide + " (" + 21 + "%)");
          
        }
        if (slide == '6-7') {
          $("#e-lecture").html("slide " + slide + " (" + 22 + "%)");
          
        }
        if (slide == '6-8') {
          $("#e-lecture").html("slide " + slide + " (" + 23 + "%)");
          
        }
        if (slide == '6-9') {
          $("#e-lecture").html("slide " + slide + " (" + 25 + "%)");
          
        }
        if (slide == '6-10') {
          $("#e-lecture").html("slide " + slide + " (" + 26 + "%)");
          
        }
        if (slide == '6-11') {
          $("#e-lecture").html("slide " + slide + " (" + 27 + "%)");
          
        }
        if (slide == '7') {
          $("#e-lecture").html("slide " + slide + " (" + 28 + "%)");
          $('#title-Bubble').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.bubbleSort, "29,10,14,37,14");
        }
        if (slide == '7-1') {
          $("#e-lecture").html("slide " + slide + " (" + 29 + "%)");
          $('#title-Bubble').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.bubbleSort, "29,10,14,37,14");
        }
        if (slide == '7-2') {
          $("#e-lecture").html("slide " + slide + " (" + 30 + "%)");
          $('#title-Bubble').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.bubbleSort, "3,6,11,25,39");
        }
        if (slide == '7-3') {
          $("#e-lecture").html("slide " + slide + " (" + 32 + "%)");
          $('#title-Bubble').click();
$("#sort").addClass("menu-highlighted");
        }
        if (slide == '8') {
          $("#e-lecture").html("slide " + slide + " (" + 33 + "%)");
          $('#title-Selection').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.selectionSort, "29,10,14,37,13");
        }
        if (slide == '8-1') {
          $("#e-lecture").html("slide " + slide + " (" + 34 + "%)");
          $('#title-Selection').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.selectionSort, "29,10,14,37,13");
        }
        if (slide == '8-2') {
          $("#e-lecture").html("slide " + slide + " (" + 35 + "%)");
          $('#title-Selection').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.selectionSort, "29,10,14,37,13");
        }
        if (slide == '9') {
          $("#e-lecture").html("slide " + slide + " (" + 36 + "%)");
          $('#title-Insertion').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.insertionSort, "6,2,10,7");
        }
        if (slide == '9-1') {
          $("#e-lecture").html("slide " + slide + " (" + 38 + "%)");
          $('#title-Insertion').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.insertionSort, "40,13,20,8");
        }
        if (slide == '9-2') {
          $("#e-lecture").html("slide " + slide + " (" + 39 + "%)");
          $('#title-Insertion').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.insertionSort, "40,13,20,8");
        }
        if (slide == '9-3') {
          $("#e-lecture").html("slide " + slide + " (" + 40 + "%)");
          $('#title-Insertion').click();
$("#sort").addClass("menu-highlighted");
changeSortType(gw.insertionSort, "40,13,20,8");
        }
        if (slide == '10') {
          $("#e-lecture").html("slide " + slide + " (" + 41 + "%)");
          
        }
        if (slide == '11') {
          $("#e-lecture").html("slide " + slide + " (" + 42 + "%)");
          $('#title-Merge').click();
        }
        if (slide == '11-1') {
          $("#e-lecture").html("slide " + slide + " (" + 44 + "%)");
          $('#title-Merge').click();
changeSortType(gw.mergeSort, "1,5,19,20,2,11,15,17");
        }
        if (slide == '11-2') {
          $("#e-lecture").html("slide " + slide + " (" + 45 + "%)");
          $('#title-Merge').click();
changeSortType(gw.mergeSort, "1,5,19,20,2,11,15,17");
        }
        if (slide == '11-3') {
          $("#e-lecture").html("slide " + slide + " (" + 46 + "%)");
          $('#title-Merge').click();
        }
        if (slide == '11-4') {
          $("#e-lecture").html("slide " + slide + " (" + 47 + "%)");
          $('#title-Merge').click();
        }
        if (slide == '11-5') {
          $("#e-lecture").html("slide " + slide + " (" + 48 + "%)");
          $('#title-Merge').click();
        }
        if (slide == '11-6') {
          $("#e-lecture").html("slide " + slide + " (" + 50 + "%)");
          $('#title-Merge').click();
changeSortType(gw.mergeSort, "7,2,6,3,8,4,5");
        }
        if (slide == '11-7') {
          $("#e-lecture").html("slide " + slide + " (" + 51 + "%)");
          $('#title-Merge').click();
        }
        if (slide == '11-8') {
          $("#e-lecture").html("slide " + slide + " (" + 52 + "%)");
          $('#title-Merge').click();
        }
        if (slide == '11-9') {
          $("#e-lecture").html("slide " + slide + " (" + 53 + "%)");
          $('#title-Merge').click();
        }
        if (slide == '11-10') {
          $("#e-lecture").html("slide " + slide + " (" + 54 + "%)");
          
        }
        if (slide == '11-11') {
          $("#e-lecture").html("slide " + slide + " (" + 55 + "%)");
          
        }
        if (slide == '12') {
          $("#e-lecture").html("slide " + slide + " (" + 57 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,27,16");
        }
        if (slide == '12-1') {
          $("#e-lecture").html("slide " + slide + " (" + 58 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,27,16");
        }
        if (slide == '12-2') {
          $("#e-lecture").html("slide " + slide + " (" + 59 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,27,16");
        }
        if (slide == '12-3') {
          $("#e-lecture").html("slide " + slide + " (" + 60 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,27,16");
        }
        if (slide == '12-4') {
          $("#e-lecture").html("slide " + slide + " (" + 61 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,27,16");
        }
        if (slide == '12-5') {
          $("#e-lecture").html("slide " + slide + " (" + 63 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,27,16");
        }
        if (slide == '12-6') {
          $("#e-lecture").html("slide " + slide + " (" + 64 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,27,16");
        }
        if (slide == '12-7') {
          $("#e-lecture").html("slide " + slide + " (" + 65 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,27,16");
        }
        if (slide == '12-8') {
          $("#e-lecture").html("slide " + slide + " (" + 66 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,27,16");
        }
        if (slide == '12-9') {
          $("#e-lecture").html("slide " + slide + " (" + 67 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "27,38,12,39,29,16");
        }
        if (slide == '12-10') {
          $("#e-lecture").html("slide " + slide + " (" + 69 + "%)");
          $('#title-Quick').click();
        }
        if (slide == '12-11') {
          $("#e-lecture").html("slide " + slide + " (" + 70 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "5,18,23,39,44,50");
        }
        if (slide == '12-12') {
          $("#e-lecture").html("slide " + slide + " (" + 71 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "5,18,23,39,44,50");
        }
        if (slide == '12-13') {
          $("#e-lecture").html("slide " + slide + " (" + 72 + "%)");
          $('#title-Quick').click();
changeSortType(gw.quickSort, "4,1,3,2,6,5,7");
        }
        if (slide == '13') {
          $("#e-lecture").html("slide " + slide + " (" + 73 + "%)");
          $('#title-RandomizedQuick').click();
changeSortType(gw.randomizedQuickSort, DEFAULT_DATA);
        }
        if (slide == '13-1') {
          $("#e-lecture").html("slide " + slide + " (" + 75 + "%)");
          
        }
        if (slide == '13-2') {
          $("#e-lecture").html("slide " + slide + " (" + 76 + "%)");
          
        }
        if (slide == '14') {
          $("#e-lecture").html("slide " + slide + " (" + 77 + "%)");
          $('#title-Counting').click();
        }
        if (slide == '14-1') {
          $("#e-lecture").html("slide " + slide + " (" + 78 + "%)");
          $('#title-Counting').click();
        }
        if (slide == '15') {
          $("#e-lecture").html("slide " + slide + " (" + 79 + "%)");
          $('#title-Counting').click();
        }
        if (slide == '16') {
          $("#e-lecture").html("slide " + slide + " (" + 80 + "%)");
          $('#title-Radix').click();
        }
        if (slide == '16-1') {
          $("#e-lecture").html("slide " + slide + " (" + 82 + "%)");
          $('#title-Radix').click();
        }
        if (slide == '16-2') {
          $("#e-lecture").html("slide " + slide + " (" + 83 + "%)");
          $('#title-Radix').click();
        }
        if (slide == '17') {
          $("#e-lecture").html("slide " + slide + " (" + 84 + "%)");
          
        }
        if (slide == '17-1') {
          $("#e-lecture").html("slide " + slide + " (" + 85 + "%)");
          
        }
        if (slide == '17-2') {
          $("#e-lecture").html("slide " + slide + " (" + 86 + "%)");
          
        }
        if (slide == '17-3') {
          $("#e-lecture").html("slide " + slide + " (" + 88 + "%)");
          
        }
        if (slide == '18') {
          $("#e-lecture").html("slide " + slide + " (" + 89 + "%)");
          
        }
        if (slide == '18-1') {
          $("#e-lecture").html("slide " + slide + " (" + 90 + "%)");
          
        }
        if (slide == '18-2') {
          $("#e-lecture").html("slide " + slide + " (" + 91 + "%)");
          
        }
        if (slide == '19') {
          $("#e-lecture").html("slide " + slide + " (" + 92 + "%)");
          
        }
        if (slide == '19-1') {
          $("#e-lecture").html("slide " + slide + " (" + 94 + "%)");
          
        }
        if (slide == '19-2') {
          $("#e-lecture").html("slide " + slide + " (" + 95 + "%)");
          
        }
        if (slide == '19-3') {
          $("#e-lecture").html("slide " + slide + " (" + 96 + "%)");
          
        }
        if (slide == '19-4') {
          $("#e-lecture").html("slide " + slide + " (" + 97 + "%)");
          
        }
        if (slide == '19-5') {
          $("#e-lecture").html("slide " + slide + " (" + 98 + "%)");
          
        }
        if (slide == '20') {
          $("#e-lecture").html("slide " + slide + " (" + 100 + "%)");
          
        }
        clearTimeout(currSlideTimer);
      }

      window.onpopstate = function(event) {
        var slide = event.state['slide'];
        openSlide(slide, function() {
          runSlide(slide);
        });
      };

      function getUrlParameter(sParam) {
        var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'), sParameterName, i;

        for (i = 0; i < sURLVariables.length; i++) {
          sParameterName = sURLVariables[i].split('=');
          if (sParameterName[0] === sParam) return sParameterName[1] === undefined ? true : sParameterName[1];
        }
      };
      var slideTimeline = {};

      //reads all visited slides in the slideTimeline and gives them their sector color
      function setVisitedSlideTimelineColors() {
        for(const [sectionNo, visitedSlides] of Object.entries(slideTimeline)) {
          const visitedSlides = slideTimeline[sectionNo];
          for(const visitedSlideNo of visitedSlides) {
            setSlideTimelineColor(visitedSlideNo);
          }
        }
      }

      //only called on load if there is nothing in session
      function setTimelineForCompletedSector(sectorNum) {
        let len = sectorLength;
        switch (sectorNum) {
          case 1 : len = sectorLength; break;
          case 2 : len = 2 * sectorLength; break;
          default: len = numSlides;
        }
        let i = 0;
        switch (sectorNum) {
          case 1 : i = 0; break;
          case 2 : i = sectorLength; break;
          default: i = 2 * sectorLength;
        }
        for (; i < len; i++) {
          saveELectureTimeline(lectureIds[i].value, true);
        }
      }

      function getUserSectorHistory(callback) {
        $.ajax({
          type: 'GET',
          url: "https://visualgo.net/section-info",
          data: {
            _token: "WtIPAnE7RYRxQ9DLF9hy2IhtEZVltGDiA8vkfkKi",
            topic: "/sorting".substring(1)
          }
        }
        ).done(function (data) {
            if (data.data[0] === 1) {
              setF1SectorColor(1);
              setTimelineForCompletedSector(1);
            }
            if (data.data[1] === 1) {
              setF1SectorColor(2);
              setTimelineForCompletedSector(2);
            }
            if (data.data[2] === 1) {
              setF1SectorColor(3);
              setTimelineForCompletedSector(3);
            }
            callback();
        }).fail(function (data) {
            console.log('get user sector history failed!');
        });
      }

      function getELectureTimelineFromSession() {
        const page = "/sorting".substring(1);
        const timelineKey = page + '-slide-timeline';
        const storedTimeline = window.sessionStorage.getItem(timelineKey);
        if (storedTimeline) {
          slideTimeline = JSON.parse(storedTimeline);
        } else {
          return false;
        }
        let slideInfo = [];
        for (const [sectionNum, slides] of Object.entries(slideTimeline)) {
          for (const slide of slides) {
            indicateSlideCompletedUI(slide);
            slideInfo = slide.split('-');
            incrementSectorVisits(parseInt(sectionNum), slideInfo.length > 1 ? parseInt(slideInfo[1]) : 0);
          }
        }
        return true;
      }

      async function initializeELectureTimeline() {
        setSectorJunctionInfo();
        if (!getELectureTimelineFromSession())
          getUserSectorHistory(sectorBasedModeSelection);
        else
          sectorBasedModeSelection();

        createELectureTimelineDisplay();
        setVisitedSlideTimelineColors();
      }

      function setF1SectorColor(sectorNum) {
        $(`[sectorNo="${sectorNum}"]`).css('background', sectorColors[(parseInt(sectorNum) % 3)]);
      }

      function updateSectorInDB(sectorNum) {
        $.ajax({
          type: 'POST',
          url: "https://visualgo.net/section-info",
          data: {
            _token: "WtIPAnE7RYRxQ9DLF9hy2IhtEZVltGDiA8vkfkKi",
            section: (sectorNum - 1),
            topic: "/sorting".substring(1)
          }
        }
        ).done(function (data) {
            //console.log("Saved the sector " + sectorNum + " as done " + JSON.stringify(data));
        }).fail(function (data) {
            console.log("Setting sector done failed new attempt! "+ JSON.stringify(data));
        });
      }

      //If 87.5% or more of the slides in sector are done
      function setF1SectorCompleted(sectorNum, isInitializationCall) {
        setF1SectorColor(sectorNum);
        //avoid api call on initialization
        if (!isInitializationCall) {
          updateSectorInDB(sectorNum);
          $(`[sectorNo="${sectorNum}"]`).css("animation", "green-pulse 2s 4");
          setTimeout(() => {
            $(`[sectorNo="${sectorNum}"]`).css("animation", "");
          }, 8000);
        }
      }

      function incrementSectorVisits(sectionNum, slideNumWithinSection, isInitializationCall) {
        //updating sector count
        if (sectionNum < sectorJunction12Section
          || (sectionNum === sectorJunction12Section && slideNumWithinSection <= sectorJunction12Slide)) {
          ++sector1Count;
          if (sector1Count >= Math.ceil(0.875 * sectorLength))
            setF1SectorCompleted(1, isInitializationCall);
        } else if (sectionNum < sectorJunction23Section
          || (sectionNum === sectorJunction23Section && slideNumWithinSection <= sectorJunction23Slide)) {
          ++sector2Count;
          if (sector2Count >= Math.ceil(0.875 * sectorLength))
            setF1SectorCompleted(2, isInitializationCall);
        } else {
          ++sector3Count;
          if (sector3Count >= Math.ceil(0.875 * (numSlides - 2 * sectorLength)))
            setF1SectorCompleted(3, isInitializationCall);
        }
      }

      function saveELectureTimeline(slideNo, isInitialization) {
        const slideInfo = slideNo.split('-');
        const sectionNo = slideInfo[0];
        const slideNumWithinSection = slideInfo.length > 1 ? parseInt(slideInfo[1]) : 0;
        if (slideTimeline[sectionNo]) {
          if (!slideTimeline[sectionNo].includes(slideNo)) {
            slideTimeline[sectionNo].push(slideNo);
            const sectionNum = parseInt(sectionNo);
            incrementSectorVisits(sectionNum, slideNumWithinSection, isInitialization);
          }
        } else {
          slideTimeline[sectionNo] = [];
          slideTimeline[sectionNo].push(slideNo);
          const sectionNum = parseInt(sectionNo);
          incrementSectorVisits(sectionNum, slideNumWithinSection, isInitialization);
        }
        setSlideTimelineColor(slideNo);
        indicateSlideCompletedUI(slideNo);
      }

      function saveELectureTimelineToSession() {
        const page = "/sorting".substring(1);
        const timelineKey = page + '-slide-timeline';
        window.sessionStorage.setItem(timelineKey, JSON.stringify(slideTimeline));
      }

      function handleTimelineOnRunSlide(slideValue) {
        const slideInfo = slideValue.split('-');
        const sectionNo = slideInfo[0];
        const slideNumWithinSection = slideInfo.length > 1 ? parseInt(slideInfo[1]) : 0;
        //start timer only if the slide isnt already done
        if (!slideTimeline[sectionNo] || !slideTimeline[sectionNo].includes(slideValue)) {
          const slideTextLength = $('#electure-'+slideValue + " p").text().length + $('#electure-'+slideValue + " li").text().length;
          const CHARS_READ_PER_MS = 0.05; //when fast, 50 characters a second
          //setting max reading time as 10 seconds for around 500 character slide
          const minSlideReadingTime = Math.min(Math.max(2000, (slideTextLength / CHARS_READ_PER_MS) +  + (2000 * $('#electure-'+slideValue + " img").length)), 10000);
          currSlideTimer = setTimeout(() => {
            saveELectureTimeline(slideValue);
          }, minSlideReadingTime);
        }
      }

      function indicateSlideCompletedUI(slide) {
        $('#electure-'+slide).css("box-shadow", "3px 3px 8px green"); //set green shadow for completed slides
        $('#electure-'+slide + ' .electure-read-status').html("&#10004;");
        $('#electure-'+slide + ' .electure-read-status').attr("title", "Slide Completed!");
        $('#electure-'+slide + ' .electure-read-status').css("font-size", "17px");
      }

      function pushState(slideValue) {
        var url = '/zh/sorting';
        if (typeof slideValue != 'undefined' && slideValue != null) {
          url += '?slide=' + slideValue;
                  }
        window.history.pushState({slide: slideValue}, "slide " + slideValue, url);
      }

      function showPopup(callback) {
        $('#popup').fadeIn(100, callback);
      }

      function hidePopup(callback) {
        $('#popup').fadeOut(100, callback);
      }

      function showOverlay() {
        $('#overlay').css('opacity', 0.5);
        $('#overlay').show();

        $("#e-lecture-timeline").show();
        $("#e-lecture-f1map").show();
      }

      function hideOverlay() {
        $('#overlay').hide();
        $("#e-lecture").html("");
        $("#e-lecture-timeline").hide();
        $("#e-lecture-f1map").hide();
        clearTimeout(currSlideTimer);
      }

      function makeOverlayTransparent() {
        $('#overlay').css('opacity', 0);
      }

      function hideSlide(callback) {
        isPlaying = true;
        closeSlide(cur_slide, function() {
          makeOverlayTransparent();
          setTimeout(callback, 700); // don't immediately run the animation, wait for 500ms+ first
        });
      }

      function showSlide() {
        isPlaying = false;
        openSlide(cur_slide);
        showOverlay();
      }

      function sectorBasedModeSelection() {
        const urlSearchParams = new URLSearchParams(window.location.search);
        const params = Object.fromEntries(urlSearchParams.entries());
        //check params are empty and then that all sectors are completed or not
        if (!Object.keys(params).length
          && sector1Count === sectorLength && sector2Count === sectorLength && sector3Count === (numSlides - 2 * sectorLength)) {
            hideOverlay();
        }
        else
          $('#mode-menu a').click();
      }

      $(function() {
        if (isMobileOS() && portraitMatcher.matches) {
          $('#rotateDeviceOverlay').show();
          $('#rotateDeviceText').show();
          $('#widenDeviceText').hide();
          $('#topbar').css("z-index", 10001);
        } else if (matchMediaNarrow.matches) {
          $('#rotateDeviceOverlay').show();
          $('#rotateDeviceText').hide();
          $('#widenDeviceText').show();
          $('#topbar').css("z-index", 10001);
        } else {
          $('#rotateDeviceOverlay').hide();
          $('#topbar').css("z-index", "");
        }

        matchMediaNarrow.addEventListener('change', e => {
          //screws up for square device! NEED RESIZE EVENT
          if (e.matches) {
            if ($('#rotateDeviceOverlay').is(":hidden")) {
              $('#rotateDeviceOverlay').show();
              $('#rotateDeviceText').hide();
              $('#widenDeviceText').show();
              $('#topbar').css("z-index", 10001);
            }
          } else {
            $('#rotateDeviceOverlay').hide();
            $('#topbar').css("z-index", "");
          }
        });
        portraitMatcher.addEventListener('change', e => {
          if (e.matches && isMobileOS()) {
            if ($('#rotateDeviceOverlay').is(":hidden")) {
              $('#rotateDeviceOverlay').show();
              $('#rotateDeviceText').show();
              $('#widenDeviceText').hide();
              $('#topbar').css("z-index", 10001);
            }
          } else {
            $('#rotateDeviceOverlay').hide();
            $('#topbar').css("z-index", "");
          }
        });
        const urlSearchParams = new URLSearchParams(window.location.search);
        const params = Object.fromEntries(urlSearchParams.entries());
        let slide = getUrlParameter('slide');
        if (typeof slide !== undefined && slide != null) {
          cur_slide = slide;
        }
        //do all timeline and slide stuff only if specific params not provided
        if (!Object.keys(params).length || params["slide"]) {
          if (!isMobile()) {
                            $('#mode-menu a').click();
                      }
        }
        $('.mcq-submit').click(function() {
          var questionId = parseInt($(this).attr('id').split('-')[1]);
          var answer = $('#mcq-answer-' + questionId).val();
          var userAnswer = $('input[type=radio][name=mcq-'+questionId+'-choice]:checked').val();

          if (answer === userAnswer) {
            $('#answer-status-' + questionId).html('<font color="green"><b>Correct!</b></font>');
          }
          else {
            $('#answer-status-' + questionId).html('<font color="red"><b>Wrong Answer! Try again...</b></font>');
          }
          $('#answer-status-' + questionId).show();
          setTimeout(function() {
            $('#answer-status-' + questionId).fadeOut(1000);
          }, 1000);
        });

        $('.msq-submit').click(function() {
          var questionId = parseInt($(this).attr('id').split('-')[1]);
          var answer = $('#msq-answer-' + questionId).val();

          var answers = [];
          $('input[type=checkbox][class=msq-choice]:checked').each(function() {
            answers.push($(this).attr('id').split('-')[3]);
          });
          answers.sort();
          var userAnswer = answers.join(',');

          if (answer === userAnswer) {
            $('#answer-status-' + questionId).html('<font color="green">Correct!</font>');
          }
          else {
            $('#answer-status-' + questionId).html('<font color="red">Wrong Answer! Try again...</font>');
          }
          $('#answer-status-' + questionId).show();
          setTimeout(function() {
            $('#answer-status-' + questionId).fadeOut(1000);
          }, 1000);
        });

        $('select.lecture-dropdown').change(function() {
          var nextSlide = $(this).val();
          openSlide(nextSlide, function() {
            runSlide(nextSlide);
            pushState(nextSlide);
          });
        });

        $('#hide-popup').click(function() {
          hidePopup();
        });

        $('#popup').hover(function() {
          $('#hide-popup').show();
        }, function() {
          $('#hide-popup').hide();
        });

        $('#electure-1 .electure-next').click(function() {
          hidePopup();
          runSlide('1-1');
          pushState('1-1');
        });
        $('#electure-1-1 .electure-next').click(function() {
          hidePopup();
          runSlide('1-2');
          pushState('1-2');
        });
        $('#electure-1-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('1');
          pushState('1');
        });
        $('#electure-1-2 .electure-next').click(function() {
          hidePopup();
          runSlide('1-3');
          pushState('1-3');
        });
        $('#electure-1-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('1-1');
          pushState('1-1');
        });
        $('#electure-1-3 .electure-next').click(function() {
          hidePopup();
          runSlide('2');
          pushState('2');
        });
        $('#electure-1-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('1-2');
          pushState('1-2');
        });
        $('#electure-2 .electure-next').click(function() {
          hidePopup();
          runSlide('2-1');
          pushState('2-1');
        });
        $('#electure-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('1-3');
          pushState('1-3');
        });
        $('#electure-2-1 .electure-next').click(function() {
          hidePopup();
          runSlide('2-2');
          pushState('2-2');
        });
        $('#electure-2-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('2');
          pushState('2');
        });
        $('#electure-2-2 .electure-next').click(function() {
          hidePopup();
          runSlide('3');
          pushState('3');
        });
        $('#electure-2-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('2-1');
          pushState('2-1');
        });
        $('#electure-3 .electure-next').click(function() {
          hidePopup();
          runSlide('4');
          pushState('4');
        });
        $('#electure-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('2-2');
          pushState('2-2');
        });
        $('#electure-4 .electure-next').click(function() {
          hidePopup();
          runSlide('4-1');
          pushState('4-1');
        });
        $('#electure-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('3');
          pushState('3');
        });
        $('#electure-4-1 .electure-next').click(function() {
          hidePopup();
          runSlide('5');
          pushState('5');
        });
        $('#electure-4-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('4');
          pushState('4');
        });
        $('#electure-5 .electure-next').click(function() {
          hidePopup();
          runSlide('6');
          pushState('6');
        });
        $('#electure-5 .electure-prev').click(function() {
          hidePopup();
          runSlide('4-1');
          pushState('4-1');
        });
        $('#electure-6 .electure-next').click(function() {
          hidePopup();
          runSlide('6-1');
          pushState('6-1');
        });
        $('#electure-6 .electure-prev').click(function() {
          hidePopup();
          runSlide('5');
          pushState('5');
        });
        $('#electure-6-1 .electure-next').click(function() {
          hidePopup();
          runSlide('6-2');
          pushState('6-2');
        });
        $('#electure-6-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('6');
          pushState('6');
        });
        $('#electure-6-2 .electure-next').click(function() {
          hidePopup();
          runSlide('6-3');
          pushState('6-3');
        });
        $('#electure-6-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-1');
          pushState('6-1');
        });
        $('#electure-6-3 .electure-next').click(function() {
          hidePopup();
          runSlide('6-4');
          pushState('6-4');
        });
        $('#electure-6-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-2');
          pushState('6-2');
        });
        $('#electure-6-4 .electure-next').click(function() {
          hidePopup();
          runSlide('6-5');
          pushState('6-5');
        });
        $('#electure-6-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-3');
          pushState('6-3');
        });
        $('#electure-6-5 .electure-next').click(function() {
          hidePopup();
          runSlide('6-6');
          pushState('6-6');
        });
        $('#electure-6-5 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-4');
          pushState('6-4');
        });
        $('#electure-6-6 .electure-next').click(function() {
          hidePopup();
          runSlide('6-7');
          pushState('6-7');
        });
        $('#electure-6-6 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-5');
          pushState('6-5');
        });
        $('#electure-6-7 .electure-next').click(function() {
          hidePopup();
          runSlide('6-8');
          pushState('6-8');
        });
        $('#electure-6-7 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-6');
          pushState('6-6');
        });
        $('#electure-6-8 .electure-next').click(function() {
          hidePopup();
          runSlide('6-9');
          pushState('6-9');
        });
        $('#electure-6-8 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-7');
          pushState('6-7');
        });
        $('#electure-6-9 .electure-next').click(function() {
          hidePopup();
          runSlide('6-10');
          pushState('6-10');
        });
        $('#electure-6-9 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-8');
          pushState('6-8');
        });
        $('#electure-6-10 .electure-next').click(function() {
          hidePopup();
          runSlide('6-11');
          pushState('6-11');
        });
        $('#electure-6-10 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-9');
          pushState('6-9');
        });
        $('#electure-6-11 .electure-next').click(function() {
          hidePopup();
          runSlide('7');
          pushState('7');
        });
        $('#electure-6-11 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-10');
          pushState('6-10');
        });
        $('#electure-7 .electure-next').click(function() {
          hidePopup();
          runSlide('7-1');
          pushState('7-1');
        });
        $('#electure-7 .electure-prev').click(function() {
          hidePopup();
          runSlide('6-11');
          pushState('6-11');
        });
        $('#electure-7-1 .electure-next').click(function() {
          hidePopup();
          runSlide('7-2');
          pushState('7-2');
        });
        $('#electure-7-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('7');
          pushState('7');
        });
        $('#electure-7-2 .electure-next').click(function() {
          hidePopup();
          runSlide('7-3');
          pushState('7-3');
        });
        $('#electure-7-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-1');
          pushState('7-1');
        });
        $('#electure-7-3 .electure-next').click(function() {
          hidePopup();
          runSlide('8');
          pushState('8');
        });
        $('#electure-7-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-2');
          pushState('7-2');
        });
        $('#electure-8 .electure-next').click(function() {
          hidePopup();
          runSlide('8-1');
          pushState('8-1');
        });
        $('#electure-8 .electure-prev').click(function() {
          hidePopup();
          runSlide('7-3');
          pushState('7-3');
        });
        $('#electure-8-1 .electure-next').click(function() {
          hidePopup();
          runSlide('8-2');
          pushState('8-2');
        });
        $('#electure-8-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('8');
          pushState('8');
        });
        $('#electure-8-2 .electure-next').click(function() {
          hidePopup();
          runSlide('9');
          pushState('9');
        });
        $('#electure-8-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('8-1');
          pushState('8-1');
        });
        $('#electure-9 .electure-next').click(function() {
          hidePopup();
          runSlide('9-1');
          pushState('9-1');
        });
        $('#electure-9 .electure-prev').click(function() {
          hidePopup();
          runSlide('8-2');
          pushState('8-2');
        });
        $('#electure-9-1 .electure-next').click(function() {
          hidePopup();
          runSlide('9-2');
          pushState('9-2');
        });
        $('#electure-9-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('9');
          pushState('9');
        });
        $('#electure-9-2 .electure-next').click(function() {
          hidePopup();
          runSlide('9-3');
          pushState('9-3');
        });
        $('#electure-9-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('9-1');
          pushState('9-1');
        });
        $('#electure-9-3 .electure-next').click(function() {
          hidePopup();
          runSlide('10');
          pushState('10');
        });
        $('#electure-9-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('9-2');
          pushState('9-2');
        });
        $('#electure-10 .electure-next').click(function() {
          hidePopup();
          runSlide('11');
          pushState('11');
        });
        $('#electure-10 .electure-prev').click(function() {
          hidePopup();
          runSlide('9-3');
          pushState('9-3');
        });
        $('#electure-11 .electure-next').click(function() {
          hidePopup();
          runSlide('11-1');
          pushState('11-1');
        });
        $('#electure-11 .electure-prev').click(function() {
          hidePopup();
          runSlide('10');
          pushState('10');
        });
        $('#electure-11-1 .electure-next').click(function() {
          hidePopup();
          runSlide('11-2');
          pushState('11-2');
        });
        $('#electure-11-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('11');
          pushState('11');
        });
        $('#electure-11-2 .electure-next').click(function() {
          hidePopup();
          runSlide('11-3');
          pushState('11-3');
        });
        $('#electure-11-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-1');
          pushState('11-1');
        });
        $('#electure-11-3 .electure-next').click(function() {
          hidePopup();
          runSlide('11-4');
          pushState('11-4');
        });
        $('#electure-11-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-2');
          pushState('11-2');
        });
        $('#electure-11-4 .electure-next').click(function() {
          hidePopup();
          runSlide('11-5');
          pushState('11-5');
        });
        $('#electure-11-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-3');
          pushState('11-3');
        });
        $('#electure-11-5 .electure-next').click(function() {
          hidePopup();
          runSlide('11-6');
          pushState('11-6');
        });
        $('#electure-11-5 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-4');
          pushState('11-4');
        });
        $('#electure-11-6 .electure-next').click(function() {
          hidePopup();
          runSlide('11-7');
          pushState('11-7');
        });
        $('#electure-11-6 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-5');
          pushState('11-5');
        });
        $('#electure-11-7 .electure-next').click(function() {
          hidePopup();
          runSlide('11-8');
          pushState('11-8');
        });
        $('#electure-11-7 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-6');
          pushState('11-6');
        });
        $('#electure-11-8 .electure-next').click(function() {
          hidePopup();
          runSlide('11-9');
          pushState('11-9');
        });
        $('#electure-11-8 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-7');
          pushState('11-7');
        });
        $('#electure-11-9 .electure-next').click(function() {
          hidePopup();
          runSlide('11-10');
          pushState('11-10');
        });
        $('#electure-11-9 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-8');
          pushState('11-8');
        });
        $('#electure-11-10 .electure-next').click(function() {
          hidePopup();
          runSlide('11-11');
          pushState('11-11');
        });
        $('#electure-11-10 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-9');
          pushState('11-9');
        });
        $('#electure-11-11 .electure-next').click(function() {
          hidePopup();
          runSlide('12');
          pushState('12');
        });
        $('#electure-11-11 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-10');
          pushState('11-10');
        });
        $('#electure-12 .electure-next').click(function() {
          hidePopup();
          runSlide('12-1');
          pushState('12-1');
        });
        $('#electure-12 .electure-prev').click(function() {
          hidePopup();
          runSlide('11-11');
          pushState('11-11');
        });
        $('#electure-12-1 .electure-next').click(function() {
          hidePopup();
          runSlide('12-2');
          pushState('12-2');
        });
        $('#electure-12-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('12');
          pushState('12');
        });
        $('#electure-12-2 .electure-next').click(function() {
          hidePopup();
          runSlide('12-3');
          pushState('12-3');
        });
        $('#electure-12-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-1');
          pushState('12-1');
        });
        $('#electure-12-3 .electure-next').click(function() {
          hidePopup();
          runSlide('12-4');
          pushState('12-4');
        });
        $('#electure-12-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-2');
          pushState('12-2');
        });
        $('#electure-12-4 .electure-next').click(function() {
          hidePopup();
          runSlide('12-5');
          pushState('12-5');
        });
        $('#electure-12-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-3');
          pushState('12-3');
        });
        $('#electure-12-5 .electure-next').click(function() {
          hidePopup();
          runSlide('12-6');
          pushState('12-6');
        });
        $('#electure-12-5 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-4');
          pushState('12-4');
        });
        $('#electure-12-6 .electure-next').click(function() {
          hidePopup();
          runSlide('12-7');
          pushState('12-7');
        });
        $('#electure-12-6 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-5');
          pushState('12-5');
        });
        $('#electure-12-7 .electure-next').click(function() {
          hidePopup();
          runSlide('12-8');
          pushState('12-8');
        });
        $('#electure-12-7 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-6');
          pushState('12-6');
        });
        $('#electure-12-8 .electure-next').click(function() {
          hidePopup();
          runSlide('12-9');
          pushState('12-9');
        });
        $('#electure-12-8 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-7');
          pushState('12-7');
        });
        $('#electure-12-9 .electure-next').click(function() {
          hidePopup();
          runSlide('12-10');
          pushState('12-10');
        });
        $('#electure-12-9 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-8');
          pushState('12-8');
        });
        $('#electure-12-10 .electure-next').click(function() {
          hidePopup();
          runSlide('12-11');
          pushState('12-11');
        });
        $('#electure-12-10 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-9');
          pushState('12-9');
        });
        $('#electure-12-11 .electure-next').click(function() {
          hidePopup();
          runSlide('12-12');
          pushState('12-12');
        });
        $('#electure-12-11 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-10');
          pushState('12-10');
        });
        $('#electure-12-12 .electure-next').click(function() {
          hidePopup();
          runSlide('12-13');
          pushState('12-13');
        });
        $('#electure-12-12 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-11');
          pushState('12-11');
        });
        $('#electure-12-13 .electure-next').click(function() {
          hidePopup();
          runSlide('13');
          pushState('13');
        });
        $('#electure-12-13 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-12');
          pushState('12-12');
        });
        $('#electure-13 .electure-next').click(function() {
          hidePopup();
          runSlide('13-1');
          pushState('13-1');
        });
        $('#electure-13 .electure-prev').click(function() {
          hidePopup();
          runSlide('12-13');
          pushState('12-13');
        });
        $('#electure-13-1 .electure-next').click(function() {
          hidePopup();
          runSlide('13-2');
          pushState('13-2');
        });
        $('#electure-13-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('13');
          pushState('13');
        });
        $('#electure-13-2 .electure-next').click(function() {
          hidePopup();
          runSlide('14');
          pushState('14');
        });
        $('#electure-13-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('13-1');
          pushState('13-1');
        });
        $('#electure-14 .electure-next').click(function() {
          hidePopup();
          runSlide('14-1');
          pushState('14-1');
        });
        $('#electure-14 .electure-prev').click(function() {
          hidePopup();
          runSlide('13-2');
          pushState('13-2');
        });
        $('#electure-14-1 .electure-next').click(function() {
          hidePopup();
          runSlide('15');
          pushState('15');
        });
        $('#electure-14-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('14');
          pushState('14');
        });
        $('#electure-15 .electure-next').click(function() {
          hidePopup();
          runSlide('16');
          pushState('16');
        });
        $('#electure-15 .electure-prev').click(function() {
          hidePopup();
          runSlide('14-1');
          pushState('14-1');
        });
        $('#electure-16 .electure-next').click(function() {
          hidePopup();
          runSlide('16-1');
          pushState('16-1');
        });
        $('#electure-16 .electure-prev').click(function() {
          hidePopup();
          runSlide('15');
          pushState('15');
        });
        $('#electure-16-1 .electure-next').click(function() {
          hidePopup();
          runSlide('16-2');
          pushState('16-2');
        });
        $('#electure-16-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('16');
          pushState('16');
        });
        $('#electure-16-2 .electure-next').click(function() {
          hidePopup();
          runSlide('17');
          pushState('17');
        });
        $('#electure-16-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('16-1');
          pushState('16-1');
        });
        $('#electure-17 .electure-next').click(function() {
          hidePopup();
          runSlide('17-1');
          pushState('17-1');
        });
        $('#electure-17 .electure-prev').click(function() {
          hidePopup();
          runSlide('16-2');
          pushState('16-2');
        });
        $('#electure-17-1 .electure-next').click(function() {
          hidePopup();
          runSlide('17-2');
          pushState('17-2');
        });
        $('#electure-17-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('17');
          pushState('17');
        });
        $('#electure-17-2 .electure-next').click(function() {
          hidePopup();
          runSlide('17-3');
          pushState('17-3');
        });
        $('#electure-17-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('17-1');
          pushState('17-1');
        });
        $('#electure-17-3 .electure-next').click(function() {
          hidePopup();
          runSlide('18');
          pushState('18');
        });
        $('#electure-17-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('17-2');
          pushState('17-2');
        });
        $('#electure-18 .electure-next').click(function() {
          hidePopup();
          runSlide('18-1');
          pushState('18-1');
        });
        $('#electure-18 .electure-prev').click(function() {
          hidePopup();
          runSlide('17-3');
          pushState('17-3');
        });
        $('#electure-18-1 .electure-next').click(function() {
          hidePopup();
          runSlide('18-2');
          pushState('18-2');
        });
        $('#electure-18-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('18');
          pushState('18');
        });
        $('#electure-18-2 .electure-next').click(function() {
          hidePopup();
          runSlide('19');
          pushState('19');
        });
        $('#electure-18-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('18-1');
          pushState('18-1');
        });
        $('#electure-19 .electure-next').click(function() {
          hidePopup();
          runSlide('19-1');
          pushState('19-1');
        });
        $('#electure-19 .electure-prev').click(function() {
          hidePopup();
          runSlide('18-2');
          pushState('18-2');
        });
        $('#electure-19-1 .electure-next').click(function() {
          hidePopup();
          runSlide('19-2');
          pushState('19-2');
        });
        $('#electure-19-1 .electure-prev').click(function() {
          hidePopup();
          runSlide('19');
          pushState('19');
        });
        $('#electure-19-2 .electure-next').click(function() {
          hidePopup();
          runSlide('19-3');
          pushState('19-3');
        });
        $('#electure-19-2 .electure-prev').click(function() {
          hidePopup();
          runSlide('19-1');
          pushState('19-1');
        });
        $('#electure-19-3 .electure-next').click(function() {
          hidePopup();
          runSlide('19-4');
          pushState('19-4');
        });
        $('#electure-19-3 .electure-prev').click(function() {
          hidePopup();
          runSlide('19-2');
          pushState('19-2');
        });
        $('#electure-19-4 .electure-next').click(function() {
          hidePopup();
          runSlide('19-5');
          pushState('19-5');
        });
        $('#electure-19-4 .electure-prev').click(function() {
          hidePopup();
          runSlide('19-3');
          pushState('19-3');
        });
        $('#electure-19-5 .electure-next').click(function() {
          hidePopup();
          runSlide('20');
          pushState('20');
        });
        $('#electure-19-5 .electure-prev').click(function() {
          hidePopup();
          runSlide('19-4');
          pushState('19-4');
        });
        $('#electure-20 .electure-prev').click(function() {
          hidePopup();
          runSlide('19-5');
          pushState('19-5');
        });
      });

      function doButtonAction7() {
        POPUP_IMAGE('https://open.kattis.com/images/site-logo');
      }
      function doButtonAction8() {
        SORT();
      }
      function doButtonAction10() {
        SORT();
      }
      function doButtonAction11() {
        SORT();
      }
      function doButtonAction12() {
        SORT();
      }
      function doButtonAction13() {
        SORT();
      }
      function doButtonAction14() {
        SORT();
      }
      function doButtonAction15() {
        SORT();
      }
      function doButtonAction16() {
        SORT();
      }
      function doButtonAction17() {
        URL('../training?diff=Medium&n=7&tl=0&module=sorting');
      }
      function doButtonAction18() {
        POPUP_IMAGE('https://pbs.twimg.com/profile_images/2618373647/image.jpg');
      }
      function doButtonAction19() {
        URL('../login');
      }
      function doButtonAction20() {
        POPUP_IMAGE('https://puu.sh/vfi6a/e532309371.png');
      }
      function doButtonAction33() {
        changeSortType(gw.bubbleSort, "7,6,5,4,3,2,1");
SORT();
      }
      function doButtonAction95() {
        // add your code here
      }

      $('.electure-print').click(() => {
        window.open(`/zh/sorting/print`);
      });
      function adjustPopupToImageSize() {
        var width = $('#popup-image').prop('width');
        var height = $('#popup-image').prop('height');
        $('#popup').width(width + 20);
        $('#popup').height(height + 20);
        if (width == 0 && height == 0) {
          setTimeout(adjustPopupToImageSize, 200);
        } else {
          showPopup();
        }
      }

      function POPUP_IMAGE(url) {
        $('#popup-content').html('<img id="popup-image" src="' + url + '">');
        adjustPopupToImageSize();
      }

      function URL(url) {
        window.open(url, '_blank');
      }

      // Implement these functions in each visualisation
      // This function will be called before entering e-Lecture Mode
      function ENTER_LECTURE_MODE() {}

      // This function will be called before returning to Explore Mode
      function ENTER_EXPLORE_MODE() {}

      // Lecture action functions
      function CUSTOM_ACTION(action, data, mode) {}

      // This function will be called everytime 1.0x is changed to 0.5x or vice versa
      function redraw() {}

      $(document).ready(function () {
        setTimeout(function () {
          $('#change-lang-popup').fadeOut('slow')
        }, 5000)
      })
    </script>
<script type="text/javascript">
    var extraCSS = {"sort":"65px","create":"92px"};
    var actionsIds = {"create":{"p":"\u65b0\u5efa(A)","parents":["create-sorted","create-nearly-sorted","create-many-duplicates"]},"sort":{"p":"\u6392\u5e8f","onClick":"sortGeneric()"}};
    var isOpens = {};
    var len = 2;
    var keys = ["create","sort"]; 
    for (i = 0; i < len; i++) {
        var actionDetails = keys[i];
        isOpens[actionDetails] = false;
    }
    function openAction(id) {
        hideThirdTiers(id);
        $("." + id).css("bottom", extraCSS[id]);
        if (!isOpens[id]) {
            $('.' + id).fadeIn('fast');
            isOpens[id] = true;
        }
    }
    function closeAction(id) {
        hideThirdTiers(id);
        if (isOpens[id]) {
            $('.' + id).fadeOut('fast');
            $('#' + id + '-err').html("");
            isOpens[id] = false;
        }
    }

    function hideEntireActionsPanel() {
        //hideAllThirdTiers();
                    closeAction('create');
                    closeAction('sort');
                hideActionsPanel();
    }

    function hideThirdTiers(tier1Action) {
        if ("parents" in actionsIds[tier1Action]) {
            for (const secondTierAction of actionsIds[tier1Action]["parents"]) {
                $('#' + secondTierAction + '-third-tier').fadeOut('fast');
            }
        }
    }

    function hideAllThirdTiers() {
        for (const tier1Action in actionsIds) {
            hideThirdTiers(tier1Action);
        }
    }

    function toggleChildExtras(tier1, selectedParentTier2) {
        hideThirdTiers(tier1);
        //this actionId must have childExtras
        var style = extraCSS[tier1];
        $("." + tier1).css("bottom", (parseInt(style.substring(0, style.length - 2)) - 27));
        //fade ins and outs are done on the ID whereas css class is set on the class
        //fade in the third tier of the selected 2nd tier parent
        $('#' + selectedParentTier2 + '-third-tier').fadeIn('fast');

        // //fade out all other third tiers of that 'action'
        // for (const parent of actions[tier1]["parents"]) {
        //     console.log("parent is " + parent + " for " + selectedParentTier2);
        //     if (parent != selectedParentTier2) {
        //         $('#' + parent + '-third-tier').fadeOut('fast');
        //     }
        // }
    }

    function setActionHeightOriginal(tier1Action) {
        $("." + tier1Action).css("bottom", extraCSS[tier1Action]);
    }

            $('#' + 'create').click(function() {
            openAction('create');
                                                                            closeAction('sort');
                                    });
            $('#' + 'sort').click(function() {
            openAction('sort');
                                                closeAction('create');
                                                                });
    
    //important to have all the input fields in actions menu take an id containing '-input'
    $("[id*='-input']").on("keypress keydown keyup", (event) => {
        event.stopPropagation();
    });
</script>
<script type="text/javascript">
// Sorting Widget
// original author: Ian Leow Tze Wei
// taken over by Steven on Sat 25 Dec 2021 Christmas day to fix randomize Quick Sort on (many) duplicates

var Sorting = function() {
  var computeInversionIndex = true; // Quick hack on 26 Dec 2021, it will be true from now onwards for Bubble and Merge sort...
  // constants
  var RADIX_CHANGE_BASE = "radix_change_base";

  var HIGHLIGHT_NONE = "lightblue";
  var HIGHLIGHT_STANDARD = "green";
  var HIGHLIGHT_SPECIAL = "#DC143C";
  var HIGHLIGHT_SORTED = "orange";

  var HIGHLIGHT_LEFT = "#3CB371";
  var HIGHLIGHT_RIGHT = "#9932CC";
  var HIGHLIGHT_PIVOT = "yellow";

  var HIGHLIGHT_GRAY = "#CCCCCC";

  var HIGHLIGHT_RAINBOW = [ // TODO: can consider making a function to generate a specturm of hex values depending on num of elements - Ting Xiao
    "#FF0000",
    "#FF4000",
    "#FF8000",
    "#FFBF00",
    "#FFFF00",
    "#BFFF00",
    "#80FF00",
    "#40FF00",
    //"#00FF00",
    "#00FF40",
    "#00FF80",
    "#00FFBF",
    "#00FFFF",
    "#00BFFF",
    "#0080FF",
    "#0040FF",
    "#0000FF",
    "#4000FF",
    "#8000FF",
    "#BF00FF",
    "#FF00FF"
  ];

  var HIGHLIGHT_BLUESHADES = [
    HIGHLIGHT_GRAY,
    HIGHLIGHT_NONE,
    "#9DC4E8",
    "#8EB1EB",
    "#7E9DED",
    "#6E89EF",
    "#5E76F1",
    "#4F62F4",
    "#3F4FF6",
    "#2F3BF8",
    "#1F27FA",
    "#1014FD",
    "#0000FF",
    "#0000FF",
    "#0000FF",
    "#0000FF",
    "#0000FF",
    "#0000FF",
    "#0000FF",
    "#0000FF",
    "#0000FF"
  ];

  var POSITION_USE_PRIMARY = "a";
  var POSITION_USE_SECONDARY_IN_DEFAULT_POSITION = "b";

  // Objects definition
  var Entry = function(value, highlight, position, secondaryPositionStatus) {
    this.value = value; // number
    this.highlight = highlight; // string, use HIGHLIGHT_ constants
    this.position = position; // number
    this.secondaryPositionStatus = secondaryPositionStatus; // integer, +ve for position overwrite, -ve for absolute postion (-1 for 0th absolution position)
  }

  var Backlink = function(value, highlight, entryPosition, secondaryPositionStatus) {
    this.value = value; // number
    this.highlight = highlight; // string, use HIGHLIGHT_ constants
    this.entryPosition = entryPosition; // number
    this.secondaryPositionStatus = secondaryPositionStatus; // integer, +ve for position overwrite
  }

  var State = function(entries, backlinks, barsCountOffset, status, lineNo) {
    this.entries = entries; // array of Entry's
    this.backlinks = backlinks; // array of Backlink's
    this.barsCountOffset = barsCountOffset; // how many bars to "disregard" (+ve) or to "imagine" (-ve) w.r.t. state.entries.length when calculating the centre position
    this.status = status;
    this.lineNo = lineNo; //integer or array, line of the code to highlight
  }

  //Helpers
  var EntryBacklinkHelper = new Object();
  EntryBacklinkHelper.appendList = function(entries, backlinks, numArray) {
    for (var i = 0; i < numArray.length; ++i) {
      EntryBacklinkHelper.append(entries, backlinks, numArray[i]);
    }
  }

  EntryBacklinkHelper.append = function(entries, backlinks, newNumber) {
    entries.push(new Entry(newNumber, HIGHLIGHT_NONE, entries.length, POSITION_USE_PRIMARY));
    backlinks.push(new Backlink(newNumber, HIGHLIGHT_NONE, backlinks.length, POSITION_USE_PRIMARY));
  }

  EntryBacklinkHelper.update = function(entries, backlinks) {
    for (var i = 0; i < backlinks.length; ++i) {
      entries[backlinks[i].entryPosition].highlight = backlinks[i].highlight;
      entries[backlinks[i].entryPosition].position = i;
      entries[backlinks[i].entryPosition].secondaryPositionStatus = backlinks[i].secondaryPositionStatus;
    }
  }

  EntryBacklinkHelper.copyEntry = function(oldEntry) {
    return new Entry(oldEntry.value, oldEntry.highlight, oldEntry.position, oldEntry.secondaryPositionStatus);
  }

  EntryBacklinkHelper.copyBacklink = function(oldBacklink) {
    return new Backlink(oldBacklink.value, oldBacklink.highlight, oldBacklink.entryPosition, oldBacklink.secondaryPositionStatus);
  }

  EntryBacklinkHelper.swapBacklinks = function(backlinks, i, j) {
    var swaptemp = backlinks[i];
    backlinks[i] = backlinks[j];
    backlinks[j] = swaptemp;
  }

  var StateHelper = new Object();
  StateHelper.createNewState = function(numArray) {
    var entries = new Array();
    var backlinks = new Array();
    EntryBacklinkHelper.appendList(entries, backlinks, numArray);
    return new State(entries, backlinks, 0, "", 0);
  }

  StateHelper.copyState = function(oldState) {
    var newEntries = new Array();
    var newBacklinks = new Array();
    for (var i = 0; i < oldState.backlinks.length; ++i) {
      newEntries.push(EntryBacklinkHelper.copyEntry(oldState.entries[i]));
      newBacklinks.push(EntryBacklinkHelper.copyBacklink(oldState.backlinks[i]));
    }

    var newLineNo = oldState.lineNo;
    if (newLineNo instanceof Array)
      newLineNo = oldState.lineNo.slice();

    return new State(newEntries, newBacklinks, oldState.barsCountOffset, oldState.status, newLineNo);
  }

  StateHelper.updateCopyPush = function(list, stateToPush) {
    EntryBacklinkHelper.update(stateToPush.entries, stateToPush.backlinks);
    list.push(StateHelper.copyState(stateToPush));
  }

  var FunctionList = new Object();
  FunctionList.text_y = function(d) {
    var barHeight = scaler(d.value) + 3;
    if (barHeight < 35) return -15;
    return barHeight - 15;
  }

  // not used by radix sort at all 
  // changes y-axis of rectangle
  FunctionList.g_transform = function(d) {
    if (d.secondaryPositionStatus == POSITION_USE_PRIMARY)
      return 'translate(' + (centreBarsOffset + d.position * barWidth) + ", " + (maxHeight - scaler(d.value) - 3) + ')';
    else if (d.secondaryPositionStatus == POSITION_USE_SECONDARY_IN_DEFAULT_POSITION)
      return 'translate(' + (centreBarsOffset + d.position * barWidth) + ", " + (maxHeight * 2 + gapBetweenPrimaryAndSecondaryRows - scaler(d.value) - 3) + ')';
    else if (typeof d.secondaryPositionStatus == "string")  // for stable counting sort
      return 'translate(' + (centreBarsOffset + Number(d.secondaryPositionStatus) * barWidth) + ", " + (maxHeight - scaler(d.value) - 3) + ')';
    else if (d.secondaryPositionStatus >= 0)
      return 'translate(' + (centreBarsOffset + d.secondaryPositionStatus * barWidth) + ", " + (maxHeight * 2 + gapBetweenPrimaryAndSecondaryRows - scaler(d.value) - 3) + ')';
    else if (d.secondaryPositionStatus < 0)
      return 'translate(' + (counter_bar_offset[maxCountingSortElementValue - 1] + (d.secondaryPositionStatus * -1 - 3) * barWidth) + ", " + (maxHeight * 2 + gapBetweenPrimaryAndSecondaryRows - scaler(d.value) - 3) + ')';
    else
      return 'translation(0, 0)'; // error
  }

  FunctionList.radixElement_left = function(d) {
    if (d.secondaryPositionStatus == POSITION_USE_PRIMARY)
      return d.position * 65 + centreBarsOffset + "px";
    return d.secondaryPositionStatus * 65 + 17.5 + "px";
  }

  FunctionList.radixElement_bottom = function(d, i) {
    if (d.secondaryPositionStatus == POSITION_USE_PRIMARY)
      return 500 - 24 + "px";
    //console.log(i + " " + radixSortBucketOrdering[i]);
    return radixSortBucketOrdering[i] * 30 + 105 + "px";
  }

  FunctionList.radixElement_html = function(d) {
    var text = (typeof d.highlight === 'string' && d.highlight.trim() == HIGHLIGHT_NONE)
                ? d.value
                : changeTextBasedOnRadixSortBase(d.value);

    if (typeof d.highlight === 'string') {
      if (d.highlight.endsWith(" "))
        text = "<span style='color: palevioletred;'>" + text + "</span>";
        return text;

      if (d.highlight.trim() == HIGHLIGHT_NONE)
        return text;
    }

    while (text.length != 4)
      text = " " + text;

    var positionToHighlight = 0; // positionToHighlight = log_to_base_10(d.highlight), assumes d.highlight is power of 10
    var positionCounter = d.highlight;
    while (positionCounter != 1) {
      positionToHighlight++;
      positionCounter /= 10;
    }

    positionToHighlight = 3 - positionToHighlight;

    if (text.charAt(positionToHighlight) != " ") {
      text = text.slice(0, positionToHighlight) +
             "<span style='color: #B40404;'>" +
             text.charAt(positionToHighlight) +
             "</span>" +
             text.slice(positionToHighlight+1);
    }

    text = text.trim();
    return text;
  }

  const numberMap = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F"];
  var changeTextBasedOnRadixSortBase = function(value) {
    var result = [];

    if (value == 0) {
      return "0000";
    }

    while (value > 0) {
      currentValue = value % radixSortBase;
      result.push(numberMap[currentValue]);
      value = Math.floor(value / radixSortBase);
    }

    while ((radixSortBase !== 10) && (result.length < 4)) {
      result.push(numberMap[0]);
    }

    return result.reverse().join("");
  }

  var makePaler = function(hexColor) {
    var red = Math.floor(parseInt(hexColor.slice(1, 3), 16) + 150);
    var green = Math.floor(parseInt(hexColor.slice(3, 5), 16) + 150);
    var blue = Math.floor(parseInt(hexColor.slice(5, 7), 16) + 150);

    if (red > 255) red = 255;
    if (green > 255) green = 255;
    if (blue > 255) blue = 255;

    red = red.toString(16);
    green = green.toString(16);
    blue = blue.toString(16);

    if (red.length == 1) red = "0" + red;
    if (green.length == 1) green = "0" + green;
    if (blue.length == 1) blue = "0" + blue;
    return "#" + red + green + blue;
  }

  // Variables/Settings
  this.currentNumList = [29, 10, 14, 37, 14]; // the default
  var isMediumScale = false;
  var barWidth = 50;
  var maxHeight = 230;
  var gapBetweenBars = 5;
  var maxNumOfElements = 18; // dropped from 20 to 15 on 25 Feb, changed to 18 on 18 Mar (otherwise too far left after mobile design integration) - 50 is used for medium-scale viz as of now
  var gapBetweenPrimaryAndSecondaryRows = 100; // 30; // of the bars
  var numOfElements = 10;

  const counter_bar_offset = [300, 275, 250, 225, 200, 175, 150, 125, 100, 75, 50, 25, 0, -25, -50];
  const index_bar_offset = [425, 400, 375, 350, 325, 300, 275, 250, 225, 200, 175, 150, 125, 100, 75, 50, 25, 0];
  var maxCountingSortElementValue = 9; 
  var radixSortBase = 10;
  const maxRadixSortElements = 12;
  var maxRadixSortElementValue = 9999; // Note that this isn't really customizable, as the code for radix sort is written with this value = 9999 in mind.
  var maxElementValue = 50; // for all other sorts - this is fully customizable (seriously)

  var graphElementSize = 10; // The width of the square in the side-graph representing 1 element
  var graphElementGap = 2; // The width of the gap between each element in the side-graph
  var graphRowGap = 10; // The height of the gap between each row in the side graph

  //Code body
  var statelist = new Array();
  var secondaryStatelist = new Array();
  var transitionTime = 500;
  var currentStep = 0;
  var animInterval;
  var issPlaying; //so named so as not to mess with the isPlaying in viz.js

  var quickSortUseRandomizedPivot; //true-false flag
  var mergeSortInversionIndexCounter; //used by merge sort to count the inversion index
  var centreBarsOffset; // x offset to centre the bars in the canvas
  var radixSortBucketOrdering; // used to order the elements inside each bucket (for radix sort). for formatting purposes.

  var isRadixSort = false;
  var isCountingSort = false;

  this.selectedSortFunction;
  // this.useEnhancedBubbleSort = false;
  // this.computeInversionIndex = false; // Quick hack on 26 Dec 2021, it will be true from now onwards for Bubble and Merge sort...

  var canvas = d3.select("#viz")
                 .attr("height", maxHeight * 2 + gapBetweenPrimaryAndSecondaryRows)
                 .attr("width", barWidth * maxNumOfElements);

  var countingSortSecondaryCanvas = d3.select("#viz-counting-sort-secondary-canvas")
                                      .attr("height", 30) // 25 Feb, previously 60
                                      .attr("width", barWidth * maxNumOfElements);

  var sortIndexCanvas = d3.select("#viz-sort-index-canvas")
                          .attr("height", 30)
                          .attr("width", barWidth * (maxNumOfElements + 4));

  var radixSortCanvas = d3.select("#viz-radix-sort-canvas");

  var scaler = d3.scale
                 .linear()
                 .range([0, maxHeight]);

  var drawState = function(stateIndex) {
    if (isCountingSort)
      maxHeight = 160; // make the bars shorter by half for counting sort
    else
      maxHeight = 230;

    // refresh scaler function
    scaler = d3.scale.linear().range([0, maxHeight]);

    if (isRadixSort)
      drawRadixSortCanvas(statelist[stateIndex], secondaryStatelist[stateIndex]);
    else
      drawBars(statelist[stateIndex]);

    $('#status p').html(statelist[stateIndex].status);
    highlightLine(statelist[stateIndex].lineNo);

    drawIndexCounters();
    if (isCountingSort)
      drawCountingSortCounters(secondaryStatelist[stateIndex]);

  };

  var drawBars = function(state) {
    scaler.domain([0, d3.max(state.entries, function(d) {
      return d.value + 3;
    })]);

    centreBarsOffset = (maxNumOfElements - (state.entries.length - state.barsCountOffset)) * barWidth / 2;

    var canvasData = canvas.selectAll("g").data(state.entries);

    // Exit ==============================
    var exitData = canvasData.exit()
                             .remove();

    // Entry ==============================
    var newData = canvasData.enter()
                            .append("g")
                            .attr("transform", FunctionList.g_transform);

    newData.append("rect")
           .attr("height", 0)
           .attr("width", 0);

    newData.append("text")
           .attr("dy", ".35em")
           .attr("x", (barWidth - gapBetweenBars) / 2)
           .attr("y", FunctionList.text_y)
           .text(function(d) {
             return d.value;
           });

    // Update ==============================
    canvasData.select("text")
              .transition()
              .attr("y", FunctionList.text_y)
              .text(function(d, i) {
                return d.value;
              });

    canvasData.select("rect")
              .transition()
              .attr("height", function(d) {
                return scaler(d.value) + 3;
              })
              .attr("width", barWidth - gapBetweenBars)
              .style("fill", function(d) {
                if (d.highlight.endsWith(" ")) {
                  return "palevioletred";
                }
                return d.highlight.trim();
              });

    canvasData.transition()
              .attr("transform", FunctionList.g_transform)

    if (isMediumScale) {
      canvas.selectAll("g").select("text").style("font-size", "0px");
    }
  };

  var drawCountingSortCounters = function(state) {
    // draws the numbers for the counting sort rectangles
    var canvasData;
    if (state == null)
      canvasData = countingSortSecondaryCanvas.selectAll("text").data([]);
    else
      canvasData = countingSortSecondaryCanvas.selectAll("text").data(state);

    // Exit ==============================
    var exitData = canvasData
            .exit()
            .remove();

    // Entry ==============================
    var newData = canvasData
            .enter()
            .append("text")
            .attr("dy", ".35em")
            .attr("x", function(d, i) {
              return counter_bar_offset[maxCountingSortElementValue - 1] + (i + 2) * barWidth + (barWidth - gapBetweenBars) / 2;
            })
            .attr("y", function(d) {
              return isMediumScale ? 20 : 10;
            })
            .text(function(d) {
              return d;
            });

    // Update ==============================
    canvasData
            .transition()
            .text(function(d) {
              return d;
            });

    if (isMediumScale) {
      countingSortSecondaryCanvas.selectAll("text").style("font-size", "15px");
    } else {
      countingSortSecondaryCanvas.selectAll("text").style("font-size", "20px");
    }
  };

  var drawIndexCounters = function() {
    if (isMediumScale) {
      return ;
    }

    var arr = [];
    for (var i = 0; i < numOfElements; i++) {
      arr.push(i);
    }

    var canvasData = sortIndexCanvas.selectAll("text").data(arr);
    var element = document.getElementById("viz-sort-index-canvas");
    element.style.top = isCountingSort ? "-395px" : "-325px";
    element.style.left = `${index_bar_offset[numOfElements - 1]}px`;

    // Exit ==============================
    var exitData = canvasData
            .exit()
            .remove();

    // Entry ==============================
    var newData = canvasData
            .enter()
            .append("text")
            .attr("dy", ".35em")
            .attr("x", function(d, i) {
              return (i + 2) * barWidth + (barWidth - gapBetweenBars) / 2;
            })
            .attr("y", 10)
            .text(function(d) {
              return d;
            });

    // Update ==============================
    canvasData
            .transition()
            .text(function(d) {
              return d;
            });
  };

  var drawRadixSortCanvas = function(state, secondaryState) {
    centreBarsOffset = (1000 - (state.entries.length * 65 - 10)) / 2; // uh, it's not really bars now, but just reusing the variable - same concept still
    var canvasData = radixSortCanvas.selectAll("div").data(state.entries);
    var radixSortBucketCount = new Array(radixSortBase).fill([]);
    radixSortBucketOrdering = new Array(state.backlinks.length);

    for (var i = 0; i < state.backlinks.length; ++i) {
      if (state.backlinks.secondaryPositionStatus != POSITION_USE_PRIMARY)
        radixSortBucketOrdering[state.backlinks[i].entryPosition] = radixSortBucketCount[state.backlinks[i].secondaryPositionStatus]++;
    }

    // Handle the buckets' DIV's
    if (secondaryState) {
      $("#radix-sort-bucket-labels-collection").show();
      for (var i = 0; i <= 15; i++) {
        $(`#radix_base_${numberMap[i]}`).show();
      }

      // only display the buckets that are being used for radix sort based on the chosen base
      for (var i = radixSortBase; i <= 15; i++) {
        $(`#radix_base_${numberMap[i]}`).hide();
      }
    }
    else {
      $("#radix-sort-bucket-labels-collection").hide();
    }

    // Exit ==============================
    var exitData = canvasData.exit()
                             .remove();

    // Entry ==============================
    var newData = canvasData.enter()
                            .append("div")
                            .classed({"radix-sort-element": true})
                            .style({
                              "left": FunctionList.radixElement_left,
                              "bottom": FunctionList.radixElement_bottom
                            })
                            .html(FunctionList.radixElement_html);

    // Update ==============================
    canvasData.html(FunctionList.radixElement_html)
              .transition()
              .style({
                "left": FunctionList.radixElement_left,
                "bottom": FunctionList.radixElement_bottom
              });
  };

  var generateRandomNumberArray = function(size, limit) {
    var numArray = new Array();
    for (var i = 0; i < size; ++i) {
      // resurrect 0 into the scale
      numArray.push(generateRandomNumber(0, limit));
    }
    return numArray;
  };

  var generateRandomNumber = function(min, max) { // generates a random integer between min and max (both inclusive)
    return Math.floor(Math.random() * (max - min + 1)) + min;
  };

  var convertToNumber = function(num) {
    return +num;
  };

  this.changeBarWidth = function(width) {
    // 1. sets a new barWidth value
    // 2. redraws the visualisation
    // possibly split this function in 2 - 1 for shrinking 1 for reverting to default size
    if (isRadixSort) { // don't do anything for radix since it's different
        return;
    }

    barWidth = width;
    if (width >= 50) {
        gapBetweenBars = 5;
        maxNumOfElements = 18;
        isMediumScale = false;
    } else {
        gapBetweenBars = 13;
        maxNumOfElements = 43;
        isMediumScale = true;
    }

    if (width >= 50) {
        canvas.selectAll("g").select("text").style("font-size", "20px").attr("x", (barWidth - gapBetweenBars) / 2);
    } else {
        canvas.selectAll("g").select("text").style("font-size", "0px");
    }

  }

  this.createList = function(type, n) {
    // user input cannot be negative
    if (n <= 0) {
      $("#create-err").html('You can only enter a positive number.');
        return false;
    }
    else if (n > 43) {
      $("#create-err").html('The maximum value of n is 43.');
        return false;
    }

    // var numArrayMaxListSize = isMediumScale ? 50 : 15; // on 25 Feb 2022, I lower this from 20 down to 15... (to make it nicer on mobile)
    var numArrayMaxListSize = n;
    var numArrayMaxElementValue = maxElementValue;
    if (this.selectedSortFunction == this.radixSort) {
      if (n > maxRadixSortElements) {
        $("#create-err").html('<span style="white-space: normal;">&nbsp;你不能够有多于 {maxSize} 个元素！&nbsp;</span>'.replace("{maxSize}", maxRadixSortElements));
          return false;
      }

      numArrayMaxElementValue = maxRadixSortElementValue;
    }
    else if (this.selectedSortFunction == this.countingSort) {
      numArrayMaxElementValue = maxCountingSortElementValue;
    }

    // using default scale, maximum number of bars that can be displayed is 18
    if (numArrayMaxListSize > 18) {
      setMediumScale();
    } else {
      setDefaultScale();
    }

    var numArray = generateRandomNumberArray(numArrayMaxListSize, numArrayMaxElementValue);
    if (type.indexOf("many") != -1) {
      var range = generateRandomNumber(1, 4); // 1, 2, 3, or 4 different numbers only
      numArray = generateRandomNumberArray(numArrayMaxListSize, range);
    }

    numOfElements = numArrayMaxListSize;

    switch (type) {
      case 'random':
      case 'many-duplicates':
        break; // already done above
      case 'sorted-non-decreasing':
      case 'nearly-sorted-non-decreasing':
        numArray.sort(d3.ascending);
        break;
      case 'sorted-non-increasing':
      case 'nearly-sorted-non-increasing':
        numArray.sort(d3.descending);
        break;
      case 'userdefined':
        numArray = $('#userdefined-input').val().split(",");

        if ((this.selectedSortFunction == this.radixSort) && (numArray.length > maxRadixSortElements)) {
          $("#create-err").html('<span style="white-space: normal;">&nbsp;你不能够有多于 {maxSize} 个元素！&nbsp;</span>'.replace("{maxSize}", maxRadixSortElements));
          return false;
        }

        for (var i = 0; i < numArray.length; ++i) {
          var temp = convertToNumber(numArray[i]);

          if (numArray[i].trim() == "") {
            $("#create-err").html('似乎缺少了一个元素（也许某个地方有重复的逗号？）');
            return false;
          }
          if (isNaN(temp)) {
            $("#create-err").html('<span style="white-space: normal;">&nbsp;似乎有一个无效的元素（非数字）{num}。</span>'.replace("{num}", numArray[i]));
            return false;
          }
          if (temp < 0 || temp > numArrayMaxElementValue) {
            $("#create-err").html(`Sorry, you're restricted to values between 0 and ${numArrayMaxElementValue} inclusive. (Out of range number: ${numArray[i]}.)`);
            return false;
          }

          numArray[i] = convertToNumber(numArray[i]);
        }

        numOfElements = numArray.length;

        if (numArray.length > 18) {
          setMediumScale();
        } else {
          setDefaultScale();
        }
        break;
    }

    if (type.indexOf("nearly") != -1) {
      // To make the list nearly sorted, we take the already sorted list and make swaps
      // such that the list becomes not sorted. The number of such swaps varies from 1 to 2 (customizable).
      // The idea is that the more swaps we make, the less "sorted" the list is.
      //
      // Another limitation is that each swap occurs between elements that are at most 3 positions away.
      while (true) {
        var newNumArray = numArray.slice();

        var numOfSwaps = generateRandomNumber(1, 2);
        for (var i = 0; i < numOfSwaps; ++i) {
          var firstSwappingIndex = generateRandomNumber(0, newNumArray.length - 4);
          var secondSwappingIndex = generateRandomNumber(1, 3) + firstSwappingIndex;

          var temp = numArray[firstSwappingIndex];
          newNumArray[firstSwappingIndex] = numArray[secondSwappingIndex];
          newNumArray[secondSwappingIndex] = temp;
        }

        // We compare the numArray with newNumArray, if they're are the same,
        // we try again, else we reassign numArray to newNumArray and break.
        var isEquals = true;
        for (var i = 0; i < numArray.length; ++i) {
          if (numArray[i] != newNumArray[i]) {
            isEquals = false;
            break;
          }
        }

        if (!isEquals) {
          numArray = newNumArray;
          break;
        }
      }
    }

    this.loadNumberList(numArray);
  }

  this.loadNumberList = function(numArray) {
    $("#create-err").html("");

    issPlaying = false;
    currentStep = 0;
    this.currentNumList = numArray;

    //console.log("numArray: " + numArray);

    statelist = [StateHelper.createNewState(numArray)];
    secondaryStatelist = [null]; // the initial secondary state will be an empty state
    drawState(0);
  }

  this.setSelectedSortFunction = function(f) {
    this.selectedSortFunction = f;
    isRadixSort = (this.selectedSortFunction == this.radixSort);
    isCountingSort = (this.selectedSortFunction == this.countingSort);
  }

  this.setCountingSortBase = function(k) {
    if (k < 2 || k > 16) {
      $("#create-err").html("Sorry, you're restricted to values between 2 and 16 inclusive.");
        return false;
    }
    
    maxCountingSortElementValue = k - 1;
    return true;
  }

  this.setRadixSortBase = function(k) {    
    if (k < 2 || k > 16) {
      $("#create-err").html("Sorry, you're restricted to values between 2 and 16 inclusive.");
        return false;
    }
    
    radixSortBase = k;
    maxRadixSortElementValue = Math.pow(k, 3);
    return true;
  }

  this.sort = function(callback) {
    return this.selectedSortFunction(callback);
  }

  this.getRadixSortHighlight = function(value) {
    return Math.pow(10, Math.floor(Math.log10(value) / Math.log10(radixSortBase)));
  }

  this.radixSort = function(callback) {
    var numElements = statelist[0].backlinks.length;
    var state = StateHelper.copyState(statelist[0]);

    secondaryStatelist = [false]; // showBucket flag - if true, shows the DIV's representing the bucketss
    var currentPlacing = 1;
    var targetPlacing = 1;

    var backlinkBuckets = [];
    for (var i = 0; i <= radixSortBase; i++) {
      backlinkBuckets.push([]);
    }

    var maxValue = d3.max(state.backlinks, function(d) {
      return d.value;
    });

    // decide on targetPlacing based on the value of the base, originally 10
    while (maxValue >= radixSortBase) {
      targetPlacing *= radixSortBase;
      maxValue = Math.floor(maxValue / radixSortBase);
    }
    // targetPlacing = ones/tens/hundreds/thousands place

    const line_no_offset = radixSortBase == 10 ? 1 : 0;
    if (radixSortBase != 10) {

      // two additional lines of code for change of base
      populatePseudocode([
        'for each e in list, change e from base 10 to base {k}'.replace("{k}", radixSortBase),
        '<span style="font-size: 13px;">分别给每个数位（0到9）创造1个桶（数列），共计10个</span>'.replace("10", radixSortBase).replace("9", radixSortBase - 1),
        '遍历每个数位',
        ' for each e in list, move e into its bucket',
        '   for each bucket b, starting from smallest digit',
        '     while b is non-empty, restore e to list',
        'for each e in list, change e from base {k} to base 10'.replace("{k}", radixSortBase)
      ]);

      // change the base representation for the elements from base 10 to base k
      for (var i = 0; i < numElements; ++i) {
        state.backlinks[i].highlight = RADIX_CHANGE_BASE + " ";
        
        if (i > 0) {
          state.backlinks[i - 1].highlight = RADIX_CHANGE_BASE;
        }

        var v = state.backlinks[i].value;
        state.lineNo = [1];
        state.status = '{v} in base {radixSortBase} is {vSwitchBase}'.replace("{v}", v).replace("{radixSortBase}", radixSortBase).replace("{vSwitchBase}", changeTextBasedOnRadixSortBase(v));

        StateHelper.updateCopyPush(statelist, state);
        secondaryStatelist.push(true);
      }

    } else {

      // remove the lines of code that describe the change of base for base 10
      populatePseudocode([
        '<span style="font-size: 13px;">分别给每个数位（0到9）创造1个桶（数列），共计10个</span>'.replace("10", radixSortBase).replace("9", radixSortBase - 1),
        '遍历每个数位',
        ' for each e in list, move e into its bucket',
        '   for each bucket b, starting from smallest digit',
        '     while b is non-empty, restore e to list'
      ]);
    }

    state.backlinks[numElements - 1].highlight = RADIX_CHANGE_BASE;
    state.lineNo = 2 - line_no_offset;
    state.status = "";

    StateHelper.updateCopyPush(statelist, state);
    secondaryStatelist.push(true);

    for (; currentPlacing <= targetPlacing; currentPlacing *= radixSortBase) {
      for (var i = 0; i < numElements; ++i)
        state.backlinks[i].highlight = this.getRadixSortHighlight(currentPlacing);

      state.lineNo = 3 - line_no_offset;
      state.status = 'Processing the {currentPlacing} index'.replace('{currentPlacing}', currentPlacing == 1 ? '4th' : currentPlacing == 2 ? '3rd' : currentPlacing == 3 ? '2nd' : '1st');
      StateHelper.updateCopyPush(statelist, state);
      secondaryStatelist.push(true);

      // iterate through for each element
      for (var i = 0; i < numElements; ++i) {
        var currentDigit = Math.floor(state.backlinks[i].value / currentPlacing) % radixSortBase;
        state.backlinks[i].secondaryPositionStatus = currentDigit;
        backlinkBuckets[currentDigit].push(state.backlinks[i]);
        state.lineNo = [(4 - line_no_offset)];
        state.status = 'Moving {val} to bucket no {bucket}'.replace('{val}', state.backlinks[i].value).replace('{bucket}', currentDigit);
        StateHelper.updateCopyPush(statelist, state);
        secondaryStatelist.push(true);
      }

      for (var i = 0, j = 0; i <= radixSortBase - 1; ) {
        if (backlinkBuckets[i].length == 0) {
          ++i;
          continue;
        }

        state.backlinks[j++] = backlinkBuckets[i].shift();
      }

      for (var i = 0; i < numElements; ++i) {
        state.backlinks[i].secondaryPositionStatus = POSITION_USE_PRIMARY;
        state.lineNo = [(5 - line_no_offset), (6 - line_no_offset)];
        state.status = 'Restoring element to position {i} in the list'.replace('{i}', i); // + state.backlinks[i]; //[i].secondaryPositionStatus;
        StateHelper.updateCopyPush(statelist, state);
        secondaryStatelist.push(true);
      }
    }

    // gradually change the base representation for the elements back to base 10
    for (var i = 0; i < numElements; ++i) {
      state.backlinks[i].highlight = HIGHLIGHT_NONE;

      if (radixSortBase != 10) {
        // skip the gradual change if sorting base = 10
        state.backlinks[i].highlight += " ";

        if (i > 0) {
          state.backlinks[i - 1].highlight = HIGHLIGHT_NONE;
        }

        var v = state.backlinks[i].value;
        state.lineNo = [7];
        state.status = '{vSwitchBase} back in base 10 is {v}'.replace("{vSwitchBase}", changeTextBasedOnRadixSortBase(v)).replace("{v}", v);

        StateHelper.updateCopyPush(statelist, state);
        secondaryStatelist.push(true);
      }
    }

    state.backlinks[numElements - 1].highlight = HIGHLIGHT_NONE;

    state.lineNo = [];
    state.status = 'We are done';
    StateHelper.updateCopyPush(statelist, state);
    secondaryStatelist.push(false);

    this.play(callback);
    return true;
  }

  this.countingSort = function(callback) {
    // Note that while we have the maxCountingSortElementValue variable, it isn't really customizable.
    // The code here written is really just for the range 1 to 9.

    var numElements = statelist[0].backlinks.length;
    var state = StateHelper.copyState(statelist[0]);

    populatePseudocode([
      '创建关键值（计数）数组',
      '遍历数列中的每个元素',
      '相应的计数器增加 1',
      '每轮计数，都从最小的值开始',
      '当计数为非零数时',
      '重新将元素存储于列表',
      '将计数减1'
    ]);

    var secondaryState = new Array(maxCountingSortElementValue + 1).fill(0);
    var backlinkBuckets = [];

    for (var i = 0; i <= maxCountingSortElementValue; i++) {
      backlinkBuckets.push([]);
    }

    state.barsCountOffset = maxCountingSortElementValue + 1;

    for (var i = 0; i <= maxCountingSortElementValue; ++i) {
      EntryBacklinkHelper.append(state.entries, state.backlinks, i);
      state.backlinks[numElements+i].highlight = HIGHLIGHT_GRAY;
      state.backlinks[numElements+i].secondaryPositionStatus = i * -1 - 5;
    }

    state.lineNo = 1;
    state.status = '创建一个关键值（计数）数组（从1到9）。';

    StateHelper.updateCopyPush(statelist, state);
    secondaryStatelist.push(secondaryState.slice()); // copy the array and push it into the secondary statelist

    for (var i = 0; i < numElements; ++i) {
      var currentValue = state.backlinks[i].value;

      backlinkBuckets[currentValue].push(state.backlinks[i]);

      state.backlinks[i].secondaryPositionStatus = currentValue * -1 - 5;

      ++secondaryState[currentValue];

      state.backlinks[currentValue + numElements].highlight = HIGHLIGHT_BLUESHADES[secondaryState[currentValue]];

      state.lineNo = [2, 3];
      state.status = '将值为 {curVal} 的计数 + 1'.replace("{curVal}", currentValue);

      StateHelper.updateCopyPush(statelist, state);
      secondaryStatelist.push(secondaryState.slice()); // copy the array and push it into the secondary statelist
    }

    for (var i = 0, j = 0; i <= maxCountingSortElementValue; ) {
      if (backlinkBuckets[i].length == 0) {
        ++i;
        continue;
      }

      state.backlinks[j++] = backlinkBuckets[i].shift();
    }

    for (var i = 0; i < numElements; ++i) {
      var currentValue = state.backlinks[i].value;

      state.backlinks[i].secondaryPositionStatus = POSITION_USE_PRIMARY;

      --secondaryState[currentValue];

      state.backlinks[currentValue+numElements].highlight = HIGHLIGHT_BLUESHADES[secondaryState[currentValue]];

      state.lineNo = [4, 5, 6, 7];
      state.status = '重新存储元素&nbsp;{curVal}, 并且将值为 {curVal} 的计数减&nbsp;1。'.replace("{curVal}", currentValue);

      StateHelper.updateCopyPush(statelist, state);
      secondaryStatelist.push(secondaryState.slice()); //copy the array and push it into the secondary statelist
    }

    state.barsCountOffset = 0;

    for (var i = 0; i <= maxCountingSortElementValue; ++i) {
      state.entries.pop();
      state.backlinks.pop();
    }

    state.lineNo = 0;
    state.status = '排序完成！';
    StateHelper.updateCopyPush(statelist, state);
    secondaryStatelist.push(null); //copy the array and push it into the secondary statelist

    this.play(callback);
    return true;
  }

  this.countingSortStable = function(callback) {
    var numElements = statelist[0].backlinks.length;
    var state = StateHelper.copyState(statelist[0]);

    var input_array = [];
    for (var i = 0; i < numElements; i++) {
      input_array.push(state.backlinks[i].value);
    }

    populatePseudocode([
      `A: [${input_array.toString()}]`,
      'create key (counting) array, C',
      'for each element el in list, C[el] = C[el] + 1',
      'getPrefixSum()',
      'for each element in list, starting from last',
      '  restore element to list to position C[el] ',
      '  C[el] = C[el] - 1'
    ]);

    var secondaryState = new Array(maxCountingSortElementValue + 1).fill(0);
    var backlinkBuckets = [];

    for (var i = 0; i <= maxCountingSortElementValue; i++) {
      backlinkBuckets.push([]);
    }

    state.barsCountOffset = maxCountingSortElementValue + 1;

    for (var i = 0; i <= maxCountingSortElementValue; ++i) {
      EntryBacklinkHelper.append(state.entries, state.backlinks, i);
      state.backlinks[numElements+i].highlight = HIGHLIGHT_GRAY;
      state.backlinks[numElements+i].secondaryPositionStatus = i * -1 - 5;
    }

    state.lineNo = 2;
    state.status = '创建一个关键值（计数）数组（从1到9）。';

    StateHelper.updateCopyPush(statelist, state);
    secondaryStatelist.push(secondaryState.slice()); // copy the array and push it into the secondary statelist

    for (var i = 0; i < numElements; ++i) {
      // state.backlinks store the value of the element at the ith position
      var currentValue = state.backlinks[i].value;
      // store the rectangle state with value i into backlinkBuckets[i - 1]
      backlinkBuckets[currentValue].push(state.backlinks[i]);

      state.backlinks[i].secondaryPositionStatus = currentValue * -1 - 5;
      // increment the counter values in secondaryState
      ++secondaryState[currentValue];
      // highlight the backlink based on the number of elements
      state.backlinks[currentValue + numElements].highlight = HIGHLIGHT_BLUESHADES[secondaryState[currentValue]];

      state.lineNo = [3];
      state.status = '将值为 {curVal} 的计数 + 1'.replace("{curVal}", currentValue);

      StateHelper.updateCopyPush(statelist, state);
      secondaryStatelist.push(secondaryState.slice()); // copy the array and push it into the secondary statelist
    }

    var colourArray = new Array(maxCountingSortElementValue + 1).fill(0);
    colourArray[0] = secondaryState[0];

    // prefixSum for stable sort and highlight the rectangles that are being summed
    for (var i = 1; i <= maxCountingSortElementValue; ++i) {
      colourArray[i] = secondaryState[i];
      secondaryState[i] += secondaryState[i - 1];

      // add a " " at the back to signal to highlight another colour, can change to another more special character
      state.backlinks[i + numElements].highlight += " ";
      state.backlinks[i - 1 + numElements].highlight += " ";

      if (i > 1) {
        state.backlinks[i - 2 + numElements].highlight = state.backlinks[i - 2 + numElements].highlight.trim();
      }
      
      state.lineNo = [4];
      state.status = `C[${i}] += C[${i - 1}].`;

      StateHelper.updateCopyPush(statelist, state);
      secondaryStatelist.push(secondaryState.slice());
    }

    // remove the pink highlight and change it back to the original blue highlight
    for (var i = 0; i <= maxCountingSortElementValue; ++i) {
      state.backlinks[i + numElements].highlight = state.backlinks[i + numElements].highlight.trim();
    }

    state.lineNo = [];
    state.status = "";
    StateHelper.updateCopyPush(statelist, state);
    secondaryStatelist.push(secondaryState.slice());

    const occurrence_suffix = ["st", "nd", "rd"];
    for (var i = numElements - 1; i >= 0; --i) {
      var currentValue = state.backlinks[i].value;

      --secondaryState[currentValue];
      colourArray[currentValue]--;

      state.backlinks[i].secondaryPositionStatus = secondaryState[currentValue].toString();

      state.backlinks[currentValue+numElements].highlight = HIGHLIGHT_BLUESHADES[colourArray[currentValue]];

      state.lineNo = [5, 6, 7];

      var occurrence = colourArray[currentValue] < 3 ? occurrence_suffix[colourArray[currentValue]] : "th";
      occurrence = (colourArray[currentValue] + 1) + occurrence;

      var get_occurrence_eq = currentValue > 0
                                ? `C[${currentValue}] - C[${currentValue - 1}]`
                                : `C[${currentValue}]`;

      state.status = `A[${i}] = ${currentValue}. ${get_occurrence_eq} = ${occurrence} occurrence of ${currentValue}. Move ${occurrence} occurrence of ${currentValue} to index ${secondaryState[currentValue]}.`;

      StateHelper.updateCopyPush(statelist, state);
      secondaryStatelist.push(secondaryState.slice()); //copy the array and push it into the secondary statelist
    }

    state.barsCountOffset = 0;

    for (var i = 0; i <= maxCountingSortElementValue; ++i) {
      state.entries.pop();
      state.backlinks.pop();
    }

    state.lineNo = 0;
    state.status = '排序完成！';
    StateHelper.updateCopyPush(statelist, state);
    secondaryStatelist.push(null); // copy the array and push it into the secondary statelist

    this.play(callback);
    return true;
  }

  this.randomizedQuickSort = function(callback) {
    quickSortUseRandomizedPivot = true;
    quickSortStart();

    this.play(callback);
    return true;
  }

  this.quickSort = function(callback) {
    quickSortUseRandomizedPivot = false;
    quickSortStart();

    this.play(callback);
    return true;
  }

  var quickSortStart = function() {
    var numElements = statelist[0].backlinks.length;
    var state = StateHelper.copyState(statelist[statelist.length - 1]);

    populatePseudocode([
      '每个（未排序）的部分',
      (quickSortUseRandomizedPivot) ? '随机选取 pivot，和第一个元素交换' : '将第一个元素设为 pivot',
      '  存储索引 = pivot索引 +1',
      '  从 i=pivot指数 +1 到 最右索引 的遍历',
      '    如果 a[i] &lt; a[pivot]',
      '      交换 (i, 存储索引); 存储索引++;',
      '  交换(pivot, 存储索引&nbsp;- 1)'
    ]);

    quickSortSplit(state, 0, numElements-1);

    state.lineNo = 0;
    state.status = '排序完成！';

    for (var i = 0; i < numElements; ++i)
      state.backlinks[i].highlight = HIGHLIGHT_NONE; //unhighlight everything
    StateHelper.updateCopyPush(statelist, state);
  }

  var quickSortSplit = function(state, startIndex, endIndex) { //startIndex & endIndex inclusive
    var cur_partition = state.backlinks.slice(startIndex, endIndex+1).map(function(d) {
                    return d.value;
                  });
    if (cur_partition.toString().length > 20)
      cur_partition = cur_partition.toString().substr(0, 20)+'...';
    state.status = '进行划分&nbsp;[{partition}]（索引从&nbsp;{startIndex} 到 {endIndex}）.'
                  .replace("{partition}", cur_partition)
                  .replace("{startIndex}", startIndex).replace("{endIndex}", endIndex);
    state.lineNo = 1;

    if (startIndex > endIndex)
      return;

    if (startIndex == endIndex) {
      state.status += ' 因为分区大小 == 1，在分区中的元素一定会在排序过后的位置。';
      state.backlinks[startIndex].highlight = HIGHLIGHT_SORTED;
      StateHelper.updateCopyPush(statelist, state);
      return;
    }

    var middleIndex = quickSortPartition(state, startIndex, endIndex);
    quickSortSplit(state, startIndex, middleIndex-1);
    quickSortSplit(state, middleIndex+1, endIndex);
  }

  var quickSortPartition = function(state, startIndex, endIndex) {
    var pivotIndex;
    if (quickSortUseRandomizedPivot) {
      pivotIndex = generateRandomNumber(startIndex, endIndex);

      state.status += ' 随机选取&nbsp;{pivot} (索引为&nbsp;{index}) 作为pivot'.replace("{pivot}", state.backlinks[pivotIndex].value).replace("{index}", pivotIndex);
      state.lineNo = [1, 2];

      state.backlinks[pivotIndex].highlight = HIGHLIGHT_PIVOT;
      StateHelper.updateCopyPush(statelist, state);

      if (pivotIndex != startIndex) {
        state.status = '将pivot&nbsp;({pivot}}, 索引为&nbsp;{index}) 和第一项&nbsp;({first}, 索引 {firstIndex}) 交换. (存储索引= {storeIndex}.)'.replace("{pivot}", state.backlinks[pivotIndex].value).replace("{index}", pivotIndex)
              .replace("{first}", state.backlinks[startIndex].value).replace("{firstIndex}", startIndex).replace("{storeIndex}", (startIndex + 1));

        state.lineNo = [2, 3];

        EntryBacklinkHelper.swapBacklinks(state.backlinks, pivotIndex, startIndex);
        pivotIndex = startIndex;
        StateHelper.updateCopyPush(statelist, state);
      }
    }
    else {
      pivotIndex = startIndex;

      state.status += ' 选择 {pivot} 作为 pivot。（存储索引&nbsp;= {storeIndex}.）'.replace("{pivot}", state.backlinks[pivotIndex].value).replace("{storeIndex}", (startIndex + 1));
      state.lineNo = [1, 2, 3];

      state.backlinks[pivotIndex].highlight = HIGHLIGHT_PIVOT;
      StateHelper.updateCopyPush(statelist, state);
    }

    var storeIndex = pivotIndex+1;
    var pivotValue = state.backlinks[pivotIndex].value;

    for (var i = storeIndex; i <= endIndex; ++i) {
      state.status = '检查是否&nbsp;{val} &lt; {pivot} (pivot)，还是他们相等。'.replace("{val}", state.backlinks[i].value).replace("{pivot}", pivotValue);
      state.lineNo = [4, 5];

      state.backlinks[i].highlight = HIGHLIGHT_SPECIAL;
      StateHelper.updateCopyPush(statelist, state);
      if ((state.backlinks[i].value < pivotValue) || ((state.backlinks[i].value == pivotValue) && (Math.random() < 0.5))) {
        state.status = '{val} &lt; {pivot} 是真（True）. 将索引为&nbsp;{idx} (值&nbsp;= {val}) 和在存储索引的元素&nbsp;(索引&nbsp;= {storeIdx}, 值 = {storeVal}) 进行交换. (交换过后在存储索引上的值&nbsp;= {newStoreIdx}).'
          .replace("{val}", state.backlinks[i].value)
          .replace("{pivot}", pivotValue)
          .replace("{idx}", i).replace("{storeIdx}", storeIndex)
          .replace("{val}", state.backlinks[i].value)
          .replace("{storeVal}", state.backlinks[storeIndex].value)
          .replace("{newStoreIdx}", (storeIndex+1));
        state.lineNo = [4, 6];

        //if (i != storeIndex) { // small behavioral fix on 12 Feb 2022, swap with itself is animated
          EntryBacklinkHelper.swapBacklinks(state.backlinks, storeIndex, i);
          StateHelper.updateCopyPush(statelist, state);
        //}

        state.backlinks[storeIndex].highlight = HIGHLIGHT_LEFT;
        ++storeIndex;
      }
      else {
        state.backlinks[i].highlight = HIGHLIGHT_RIGHT;
      }
    }
    state.status = '遍历完成。<br>';
    state.lineNo = 4;
    StateHelper.updateCopyPush(statelist, state);
    if (storeIndex - 1 != pivotIndex) {
      state.status = '将pivot（索引 = {pivotIdx}, 值 = {pivot}) 和在存储索引-1 的元素 (索引 = {newIdx}, 值 = {newVal}) 进行交换）<br>'.replace("{pivotIdx}", pivotIndex).replace("{pivot}", pivotValue)
            .replace("{newIdx}", (storeIndex - 1)).replace("{newVal}", state.backlinks[storeIndex - 1].value);
      state.lineNo = 7;
      EntryBacklinkHelper.swapBacklinks(state.backlinks, storeIndex - 1, pivotIndex);
      StateHelper.updateCopyPush(statelist, state);
    }

    state.status = '现在 pivot 已经在排序过后的位置<br>';
    state.lineNo = 7;

    for (var i = startIndex; i <= endIndex; ++i)
      state.backlinks[i].highlight = HIGHLIGHT_NONE; //unhighlight everything
    state.backlinks[storeIndex - 1].highlight = HIGHLIGHT_SORTED;
    StateHelper.updateCopyPush(statelist, state);

    return storeIndex - 1;
  }

  this.mergeSort = function(callback) {
    var numElements = statelist[0].backlinks.length;
    var state = StateHelper.copyState(statelist[0]);

    populatePseudocode([
      '将每个元素拆分成大小为1的分区',
      '递归地合并相邻的分区',
      '  遍历 i = 左侧首项位置 到 右侧末项位置',
      '    如果左侧首项的值 &lt;= 右侧首项的值',
      '      拷贝左侧首项的值<br>',
      '    否则： 拷贝右侧首项的值' + (computeInversionIndex ? '; 增加逆序数' : ""),
      '将元素拷贝进原来的数组中'
    ]);

    mergeSortInversionIndexCounter = 0;

    for (var i = 0; i < numElements; ++i) {
      state.backlinks[i].highlight = HIGHLIGHT_RAINBOW[i % 20];
    }
    state.status = '我们将数组拆分成每项只有一个元素（每个拆分项有一个独特的颜色）';
    status.lineNo = 1;
    StateHelper.updateCopyPush(statelist, state);
    this.mergeSortSplitMerge(state, 0, numElements);
    
    for (var i = 0; i < numElements; ++i)
      state.backlinks[i].highlight = HIGHLIGHT_NONE; // unhighlight everything

    state.status = '排序完成！';
    if (computeInversionIndex)
      state.status += '<br>（逆序数 = {idx}）<br>'.replace("{idx}", mergeSortInversionIndexCounter);

    state.lineNo = 0;
    StateHelper.updateCopyPush(statelist, state);

    this.play(callback);
    return true;
  }

  this.mergeSortSplitMerge = function(state, startIndex, endIndex) { // startIndex inclusive, endIndex exclusive
    if (endIndex - startIndex <= 1)
      return;
    
    var middleIndex = Math.ceil((startIndex + endIndex) / 2);
    this.mergeSortSplitMerge(state, startIndex, middleIndex);
    this.mergeSortSplitMerge(state, middleIndex, endIndex);
    this.mergeSortMerge(state, startIndex, middleIndex, endIndex)
    // Copy array back
    state.status = '我们将新数组中的元素拷贝回原来的数组中。<br>';
    state.lineNo = 7;

    var duplicateBacklinks = new Array();
    for (var i = startIndex; i < endIndex; ++i) {
      var newPosition = state.backlinks[i].secondaryPositionStatus;
      duplicateBacklinks[newPosition] = state.backlinks[i];
    }

    for (var i = startIndex; i < endIndex; ++i) {
      state.backlinks[i] = duplicateBacklinks[i];
    }

    for (var i = startIndex; i < endIndex; ++i) {
      state.backlinks[i].secondaryPositionStatus = POSITION_USE_PRIMARY;
      StateHelper.updateCopyPush(statelist, state);
    }
  }

  this.mergeSortMerge = function(state, startIndex, middleIndex, endIndex) {
    var leftIndex = startIndex;
    var rightIndex = middleIndex;

    var newHighlightColor = state.backlinks[startIndex].highlight;
    state.status = '现在我们将分区 [{partition1}]（索引从 {startIdx1} 到 {endIdx1}）和 [{partition2}]（索引从 {startIdx2} 到 {endIdx2}）合并在一起。<br>'
        .replace('{partition1}', state.backlinks.slice(startIndex, middleIndex).map(function(d) {
          return d.value;
        }))
        .replace("{startIdx1}", startIndex).replace("{endIdx1}", (middleIndex - 1))
        .replace("{partition2}", state.backlinks.slice(middleIndex, endIndex).map(function(d) {
          return d.value;
        }))
        .replace("{startIdx2}", middleIndex).replace("{endIdx2}", (endIndex - 1));
    state.lineNo = 2;

    state.backlinks[leftIndex].highlight = makePaler(state.backlinks[leftIndex].highlight);
    state.backlinks[rightIndex].highlight = makePaler(state.backlinks[rightIndex].highlight);
    StateHelper.updateCopyPush(statelist, state);

    for (var i = startIndex; i < endIndex; ++i) {
      // Note here we don't actually copy the elements into a new array, like in a usual mergesort.
      // This is left instead to the mergeSortSplitMerge to handle as it's easier there.
      // (We use the useSecondaryPostion property to overcome this lack-of-copying.)
      if (leftIndex < middleIndex && (rightIndex >= endIndex || state.backlinks[leftIndex].value <= state.backlinks[rightIndex].value)) {
        state.backlinks[leftIndex].highlight = newHighlightColor;
        state.backlinks[leftIndex].secondaryPositionStatus = i;

        if (rightIndex < endIndex) {
          state.status = '因为 {leftPart} (左分区) &lt;= {rightPart} (右分区), 我们将&nbsp;{rightPart} 拷贝进新的数组。<br>'
            .replace("{leftPart}", state.backlinks[leftIndex].value)
            .replace("{rightPart}", state.backlinks[rightIndex].value)
            .replace("{leftPart}", state.backlinks[leftIndex].value);
        }
        else {
          state.status = '因为右分区是空的，我们将 {leftPart}（左分区）拷贝进新的数组。'.replace("{leftPart}", state.backlinks[leftIndex].value);
        }
        state.lineNo = [3, 4, 5];

        leftIndex++;
        if (leftIndex != middleIndex)
          state.backlinks[leftIndex].highlight = makePaler(state.backlinks[leftIndex].highlight);

        StateHelper.updateCopyPush(statelist, state);
      }
      else {
        state.backlinks[rightIndex].highlight = newHighlightColor;
        state.backlinks[rightIndex].secondaryPositionStatus = i;

        if (leftIndex < middleIndex) {
          state.status = '<span style="font-size: 13px;">因为 {leftPart} (左分区) &gt; {rightPart} (右分区), 我们将&nbsp;{rightPart} 拷贝进新的数组。</span><br>'
            .replace("{leftPart}", state.backlinks[leftIndex].value)
            .replace("{rightPart}", state.backlinks[rightIndex].value)
            .replace("{rightPart}", state.backlinks[rightIndex].value);
        }
        else {
          state.status = '因为左分区是空的，我们将&nbsp;{rightPart}（右分区）拷贝进新的数组。'.replace("{rightPart}", state.backlinks[rightIndex].value);
        }

        if (computeInversionIndex) {
          mergeSortInversionIndexCounter += middleIndex - leftIndex;
          state.status += '<br>(我们将左分区的大小 (= {sizeofleft}) 加至逆序数 ({inversionidxcounter}).)<br>'
            .replace("{sizeofleft}", (middleIndex - leftIndex)).replace("{inversionidxcounter}", mergeSortInversionIndexCounter);
        }
//        else {
//          state.status += '奇怪'; // what is this?
//        }
        state.lineNo = [3, 6];

        ++rightIndex;
        if (rightIndex != endIndex)
          state.backlinks[rightIndex].highlight = makePaler(state.backlinks[rightIndex].highlight);

        StateHelper.updateCopyPush(statelist, state);
      }
    }
  }

  this.insertionSort = function(callback) {
    var numElements = statelist[0].backlinks.length;
    var state = StateHelper.copyState(statelist[0]);

    populatePseudocode([
      '将第一个元素标记为已排序',
      '对于每一个未排序的元素 X',
      '  “提取” 元素 X',
      '  i = 最后排序过元素的索引 到 0 的遍历',
      '    如果当前元素 j &gt; X',
      '      将排序过的元素向右移一格',
      '    跳出循环并在此插入 X'
    ]);

    // First element always sorted
    state.lineNo = 1;
    // Mark the first element ({firstVal}) as sorted.
    state.status = 'Mark index 0 ({firstVal}) as sorted.'.replace("{firstVal}", state.backlinks[0].value);
    // state.status = '将第一个元素&nbsp;({firstVal}) 标记为已经排序过。'.replace("{firstVal}", state.backlinks[0].value);
    state.backlinks[0].highlight = HIGHLIGHT_SORTED;
    StateHelper.updateCopyPush(statelist, state);

    for (var i = 1; i < numElements; ++i) {
      // Highlight first unsorted element
      state.lineNo = [2, 3];
      // Extract the first unsorted element ({val}).
      state.status = 'Extract the first unsorted element at index {idx} ({val}).'.replace("{idx}", i).replace("{val}", state.backlinks[i].value);
      // state.status = '提取第一个没有排序过的元素&nbsp;({val})。'.replace("{val}", state.backlinks[i].value);
      state.backlinks[i].highlight = HIGHLIGHT_SPECIAL;
      state.backlinks[i].secondaryPositionStatus = POSITION_USE_SECONDARY_IN_DEFAULT_POSITION;
      StateHelper.updateCopyPush(statelist, state);

      for (var j = i-1; j >= 0; --j) {
        state.lineNo = 4;
        // Figure where to insert extracted element.
        // Comparing with sorted element {val}.
        state.status = 'Figure where to insert extracted element. Comparing with sorted element at index {idx} ({val}).'.replace("{idx}", j).replace("{val}", state.backlinks[j].value);
        // state.status = '找出插入提取元素的地方；和已经排序过的元素 {val} 比较。'.replace("{val}", state.backlinks[j].value);
        state.backlinks[j].highlight = HIGHLIGHT_STANDARD;
        StateHelper.updateCopyPush(statelist, state);

        if (state.backlinks[j].value > state.backlinks[j+1].value) {
          state.lineNo = [5, 6];
          // {val1} > {val2} is true.
          // Hence move current sorted element ({val1}) to the right by 1.
          state.status = '{val1} > {val2} is true, hence move current sorted element ({val1}) to the right by 1 to index {idx}.'
                          .replace("{val1}", state.backlinks[j].value)
                          .replace("{val2}", state.backlinks[j+1].value)
                          .replace("{val1}", state.backlinks[j].value)
                          .replace("{idx}", j+1);
          // state.status = '{val1} &gt; {val2} 成立（True）, &nbsp;则将现在已经排序过的元素<span style="white-space: normal;">({val1}) 向右移动1格。<br></span>'.replace("{val1}", state.backlinks[j].value).replace("{val2}", state.backlinks[j+1].value).replace("{val1}", state.backlinks[j].value);
          EntryBacklinkHelper.swapBacklinks(state.backlinks, j, j+1);
          StateHelper.updateCopyPush(statelist, state);
          state.backlinks[j+1].highlight = HIGHLIGHT_SORTED;
        }
        else {
          state.lineNo = 7;
          // {val1} > {val2} is false.
          // Insert extracted element at current position.
          state.status = '{val1} > {val2} is false. Insert extracted element at current position (index {idx}).'
                          .replace("{val1}", state.backlinks[j].value)
                          .replace("{val2}", state.backlinks[j+1].value)
                          .replace("{idx}", j+1);
          // state.status = '{val1} &gt; {val2} 不成立（False）, 在现有位置上插入一个元素。'.replace("{val1}", state.backlinks[j].value).replace("{val2}", state.backlinks[j+1].value);
          state.backlinks[j].highlight = HIGHLIGHT_SORTED;
          state.backlinks[j+1].secondaryPositionStatus = POSITION_USE_PRIMARY;
          state.backlinks[j+1].highlight = HIGHLIGHT_SORTED;
          StateHelper.updateCopyPush(statelist, state);
          break;
        }
      }

      if (state.backlinks[0].secondaryPositionStatus == POSITION_USE_SECONDARY_IN_DEFAULT_POSITION) {
        state.lineNo = 4;
        // At beginning of array (nothing to compare).
        // Hence insert extracted element at current position.
        state.status = 'At index 0 (nothing to compare). Hence insert extracted element at current position (index 0).';
        // state.status = '在数组的最开始（没有东西可以比较），则在现有位置上插入元素。';
        state.backlinks[0].secondaryPositionStatus = POSITION_USE_PRIMARY;
        state.backlinks[0].highlight = HIGHLIGHT_SORTED;
        StateHelper.updateCopyPush(statelist, state);
      }
    }

    for (var i = 0; i < numElements; ++i)
      state.backlinks[i].highlight = HIGHLIGHT_NONE; //unhighlight everything
    state.lineNo = 0;
    // The array/list is now sorted.
    state.status = '排序完成！';
    StateHelper.updateCopyPush(statelist, state);

    this.play(callback);
    return true;
  }

  this.selectionSort = function(callback) {
    var numElements = statelist[0].backlinks.length;
    var state = StateHelper.copyState(statelist[0]);

    populatePseudocode([
      '重复（元素个数-1）次',
      '  把第一个没有排序过的元素设置为最小值',
      '  遍历每个没有排序过的元素',
      '    如果元素 &lt; 现在的最小值',
      '      将此元素设置成为新的最小值',
      '  将最小值和第一个没有排序过的位置交换'
    ]);

    for (var i = 0; i < numElements-1; ++i) {
      var minPosition = i;

      // Iteration {iteration}: Set {val} as the current minimum.
      // Then iterate through the rest to find the true minimum.
      state.status = '循环 {iteration}: 把现在的最小值设置成为&nbsp;{val} , 然后通过遍历剩下的没有排序过的元素来找到真正的最小值。'.replace("{iteration}", (i+1)).replace("{val}", state.backlinks[i].value);
      state.lineNo = [1, 2, 3];
      state.backlinks[minPosition].highlight = HIGHLIGHT_SPECIAL;

      StateHelper.updateCopyPush(statelist, state);

      for (var j = i+1; j < numElements; ++j) {
        // Check if {val} is smaller than the current minimum ({minVal}).
        state.status = '检查是否&nbsp;{val} 小于现在的最小值&nbsp;({minVal})。'.replace("{val}", state.backlinks[j].value).replace("{minVal}", state.backlinks[minPosition].value);
        state.lineNo = 4;
        state.backlinks[j].highlight = HIGHLIGHT_STANDARD;
        StateHelper.updateCopyPush(statelist, state);

        state.backlinks[j].highlight = HIGHLIGHT_NONE;

        if (state.backlinks[j].value < state.backlinks[minPosition].value) {
          state.status = '将 {val} 设为新的最小值。'.replace("{val}", state.backlinks[j].value);
          state.lineNo = 5;
          state.backlinks[minPosition].highlight = HIGHLIGHT_NONE;
          state.backlinks[j].highlight = HIGHLIGHT_SPECIAL;

          minPosition = j;
          StateHelper.updateCopyPush(statelist, state);
        }
      }

      if (minPosition != i) { // Highlight the first-most unswapped position, if it isn't the minimum
        // Set {val} as the new minimum.
        state.status = 'Swap the minimum {minVal} at index {idx1} with the first unsorted element (47) at index {idx2}.'.replace("{minVal}", state.backlinks[minPosition].value).replace("{element}", state.backlinks[i].value).replace("{idx1}", minPosition).replace("{idx2}", i);
        // state.status = '交换最小的元素&nbsp;({minVal}) 和第一个没有排序过的元素&nbsp;({element})。'.replace("{minVal}", state.backlinks[minPosition].value).replace("{element}", state.backlinks[i].value);
        state.lineNo = 6;
        state.backlinks[i].highlight = HIGHLIGHT_SPECIAL;
        StateHelper.updateCopyPush(statelist, state);

        EntryBacklinkHelper.swapBacklinks(state.backlinks, minPosition, i);
        StateHelper.updateCopyPush(statelist, state);
      }
      else {
        // As the minimum is the first unsorted element, no swap is necessary.
        state.status = '因为最小值是第一个非排序过的元素，没有必要进行交换。';
        state.lineNo = 6;
        StateHelper.updateCopyPush(statelist, state);
      }

      // {val} is now considered sorted.
      state.status = '现在 {val} 被认为是排序过的了。'.replace("{val}", state.backlinks[i].value);
      state.backlinks[minPosition].highlight = HIGHLIGHT_NONE;
      state.backlinks[i].highlight = HIGHLIGHT_SORTED;
      StateHelper.updateCopyPush(statelist, state);
    }

    for (var i = 0; i < numElements; ++i)
      state.backlinks[i].highlight = HIGHLIGHT_NONE; // un-highlight everything
    // The array/list is now sorted.
    // (After all iterations, the last element will naturally be sorted.)
    state.status = '排序完成！' + '<br>' + '（所有循环过后，最后一个元素自然就被排序过了）';
    status.lineNo = 0;
    StateHelper.updateCopyPush(statelist, state);

    this.play(callback);
    return true;
  }

  this.bubbleSort = function(callback) {
    var numElements = statelist[0].backlinks.length;
    var state = StateHelper.copyState(statelist[0]);
    var swapCounter = 0;

    populatePseudocode([
      '做',
      '  <b>swapped </b>= false',
      '  从 i = 1 到 最后一个没有排序过元素的索引-1',
      '    如果 左边元素 &gt; 右边元素',
      '      交换（左边元素，右边元素）',
      '      <b>swapped </b>= true' + (computeInversionIndex ? '; <b>++swapCounter</b>（交换计数器）' : ""),
      'while <b>swapped</b>'
    ]);

    var swapped;
    var indexOfLastUnsortedElement = numElements;
    do {
      swapped = false;

      // Set the swapped flag to false.
      // Then iterate from 1 to {endIdx} inclusive.
      state.status = '将 <b>swapped</b>（已交换旗帜变量）设置为假（False），然后从 1 到 {endIdx} 循环（包括起始）。'.replace("{endIdx}", indexOfLastUnsortedElement-1);
      state.lineNo = [2, 3];
      StateHelper.updateCopyPush(statelist, state);

      for (var i = 1; i < indexOfLastUnsortedElement; ++i) {
        state.backlinks[i-1].highlight = HIGHLIGHT_STANDARD;
        state.backlinks[i].highlight = HIGHLIGHT_STANDARD;

        // Checking if {val1} > {val2} and swap them if that is true.
        // The current value of swapped = {swapped}.
        state.status = '检查是否 {val1} &gt; {val2}; 如果是则交换元素；<b>swapped </b>= {swapped}.'.replace("{val1}", `${state.backlinks[i-1].value} (index ${i-1})`).replace("{val2}", `${state.backlinks[i].value} (index ${i})`).replace("{swapped}", swapped);
        state.lineNo = 4;
        StateHelper.updateCopyPush(statelist, state);

        if (state.backlinks[i-1].value > state.backlinks[i].value) {
          swapped = true;

          // Swapping the positions of {val1} and {val2}.
          // Set swapped = true.
          state.status = 'Swapping the index {idx1} and index {idx2} and set swapped = true.'.replace("{idx1}", i-1).replace("{idx2}", i);
          // state.status = '交换 {val1} 和 {val2} 的位置。将 <b>swapped</b>（已交换旗帜变量）设置为真（True）'.replace("{val1}", state.backlinks[i-1].value).replace("{val2}", state.backlinks[i].value);
          if (computeInversionIndex) {
            ++swapCounter;
            // For inversion index computation: Add 1 to swapCounter.
            // The current value of swapCounter = {swapCounter}.
            state.status += '<br>逆序数: <b>swapCounter</b>（交换计数器）加1。现在 swapCounter&nbsp;= {swapCounter}.'.replace("{swapCounter}", swapCounter);
          }

          state.lineNo = [5, 6];

          EntryBacklinkHelper.swapBacklinks(state.backlinks, i, i-1);
          StateHelper.updateCopyPush(statelist, state);
        }

        state.backlinks[i-1].highlight = HIGHLIGHT_NONE;
        state.backlinks[i].highlight = HIGHLIGHT_NONE;
      }

      --indexOfLastUnsortedElement;
      state.backlinks[indexOfLastUnsortedElement].highlight = HIGHLIGHT_SORTED;
      if (swapped == false)
        // No swap is done in this pass.
        // We can terminate Bubble Sort now.
        state.status = '在这轮扫描过程中没有任何交换发生，我们现在可以终止冒泡排序。';
      else
        // Mark last unsorted element as sorted now.
        // As at least one swap is done in this pass, we continue.
        state.status = '将此元素标记为已排序。因为在最近的一次扫描过程中至少有一次交换发生过，我们可以进行另一轮扫描。';

      state.lineNo = 7;
      StateHelper.updateCopyPush(statelist, state);
    }
    while (swapped);

    for (var i = 0; i < numElements; ++i)
      state.backlinks[i].highlight = HIGHLIGHT_NONE; //un-highlight everything

    // The array/list is now sorted.
    state.status = '排序完成！';
    if (computeInversionIndex)
      // Inversion Index = {swapCounter}.
      state.status += '<br>逆序数&nbsp;= {swapCounter}.'.replace("{swapCounter}", swapCounter);

    state.lineNo = 0;
    StateHelper.updateCopyPush(statelist, state);

    this.play(callback);
    return true;
  }

  this.clearPseudocode = function() { populatePseudocode([]); }

  var populatePseudocode = function(code) {
    var i = 1;
    for (; i <= 7 && i <= code.length; ++i) {
      $("#code" + i).html(
        code[i - 1].replace(
        /^\s+/,
        function(m) { return m.replace(/\s/g, "&nbsp;"); }
        )
      );
    }
    for (; i <= 7; ++i) {
      $("#code" + i).html("");
    }
  }

  //animation functions
  var drawCurrentState = function() {
    if (currentStep < 0)
      currentStep = 0;
    if (currentStep > statelist.length - 1)
      currentStep = statelist.length - 1;
    $('#progress-bar').slider("value", currentStep);
    drawState(currentStep);
    if (currentStep == (statelist.length-1)) {
      pause(); //in html file
      $('#play img').attr('src', 'https://visualgo.net/img/replay.png').attr('alt', 'replay').attr('title', 'replay');
    }
    else
      $('#play img').attr('src', 'https://visualgo.net/img/play.png').attr('alt', 'play').attr('title', 'play');
  }

  this.getAnimationDuration = function() { return transitionTime; }

  this.setAnimationDuration = function(x) {
    transitionTime = x;
    if (issPlaying) {
      clearInterval(animInterval);
      animInterval = setInterval(function() {
        drawCurrentState();
        if (currentStep < (statelist.length-1))
          ++currentStep;
        else
          clearInterval(animInterval);
      }, transitionTime);
    }
  }

  this.getCurrentIteration = function() { return currentStep; }

  this.getTotalIteration = function() { return statelist.length; }

  this.forceNext = function() {
    if ((currentStep + 1) < statelist.length)
      ++currentStep;
    drawCurrentState();
  }

  this.forcePrevious = function() {
    if ((currentStep-1) >= 0)
      --currentStep;
    drawCurrentState();
  }

  this.jumpToIteration = function(n) {
    currentStep = n;
    drawCurrentState();
  }

  this.play = function(callback) {
    issPlaying = true;
    drawCurrentState();
    animInterval = setInterval(function() {
      drawCurrentState();
      if (currentStep < (statelist.length-1))
        ++currentStep;
      else {
        clearInterval(animInterval);
        if (typeof callback == 'function') callback();
      }
    }, transitionTime);
  }

  this.pause = function() {
    issPlaying = false;
    clearInterval(animInterval);
  }

  this.replay = function() {
    issPlaying = true;
    currentStep = 0;
    drawCurrentState();
    animInterval = setInterval(function() {
      drawCurrentState();
      if (currentStep < (statelist.length-1))
        currentStep++;
      else
        clearInterval(animInterval);
    }, transitionTime);
  }

  this.stop = function() {
    issPlaying = false;
    statelist = [statelist[0]]; //clear statelist to original state, instead of new Array();
    secondaryStatelist = [null];
    currentStep = 0;
    drawState(0);
  }
}

// sorting action
var actionsWidth = 150;
var statusCodetraceWidth = 420;

//this viz-specific code
var gw = new Sorting();

// local
$(function() {
  gw.setAnimationDuration(700 / speedVal);
  AbbreviateTitle();
  var eight_modes = ["Bubble", "Selection", "Insertion", "Merge", "Quick", "RandomizedQuick", "Counting", "Radix"];
  $('#title-'+eight_modes[Math.floor(Math.random()*8)]).click(); // randomly open one of the eight sorting algorithm mode every time
  $('#play').hide();

  d3.selectAll("#radix-sort-bucket-labels-collection span")
    .style({"left": function(d, i) {
                  return 17.5 + i * 65 + "px";
          }});
  var sortMode = getQueryVariable("mode");
  if (sortMode.length > 0) {
     $('#title-' + sortMode).click();
  }
  var createArray = getQueryVariable("create");
  if (createArray.length > 0) {
    $('#userdefined-input').val(createArray);
    createList("userdefined");
  }

});

const DEFAULT_COUNT_DATA = "2,3,8,7,1,2,2,2,7,3,9,8,2,1,4"; // drop 5 numbers on 25 Feb , 2, 4, 6, 9, 2";
const DEFAULT_RADIX_DATA = "3221, 1, 10, 9680, 577, 9420, 7, 5622, 4793, 2030, 3138, 82, 2599, 743, 4127";

// title changing
function AbbreviateTitle() {
  $('#title-Bubble').text("BUB").attr('title', '冒泡排序');
  $('#title-Selection').text("SEL").attr('title', '选择排序');
  $('#title-Insertion').text("INS").attr('title', '插入排序');
  $('#title-Merge').text("MER").attr('title', '归并排序');
  $('#title-Quick').text("QUI").attr('title', '快速排序');
  $('#title-RandomizedQuick').text("R-Q").attr('title', '随机快速排序');
  $('#title-Counting').text("COU").attr('title', '计数排序');
  $('#title-Radix').text("RAD").attr('title', '基数排序');
}
$('#title-Bubble').click(function() {
  showStandardCanvas();
  $("#sort-bubble-merge-inversion").css("display", "");
  $('#current-action p').html('冒泡排序');
  $("#viz-sort-index-canvas").show();
  allOff();
  changeSortType(gw.bubbleSort);
  AbbreviateTitle();
  $('#title-Bubble').text('冒泡排序');
});
$('#title-Selection').click(function() {
  showStandardCanvas();
  hideAllSortingOptions();
  $('#current-action p').html('选择排序');
  $("#viz-sort-index-canvas").show();
  allOff();
  changeSortType(gw.selectionSort);
  AbbreviateTitle();
  $('#title-Selection').text('选择排序');
});
$('#title-Insertion').click(function() {
  showStandardCanvas();
  hideAllSortingOptions();
  $('#current-action p').html('插入排序');
  $("#viz-sort-index-canvas").show();
  allOff();
  changeSortType(gw.insertionSort);
  AbbreviateTitle();
  $('#title-Insertion').text('插入排序');
});
$('#title-Merge').click(function() {
  showStandardCanvas();
  hideAllSortingOptions();
  $("#sort-bubble-merge-inversion").css("display", "");
  $('#current-action p').html('归并排序');
  $("#viz-sort-index-canvas").show();
  allOff();
  changeSortType(gw.mergeSort);
  AbbreviateTitle();
  $('#title-Merge').text('归并排序');
});
$('#title-Quick').click(function() {
  showStandardCanvas();
  hideAllSortingOptions();
  $('#current-action p').html('快速排序');
  $("#viz-sort-index-canvas").show();
  allOff();
  changeSortType(gw.quickSort);
  AbbreviateTitle();
  $('#title-Quick').text('快速排序');
});
$('#title-RandomizedQuick').click(function() {
  showStandardCanvas();
  hideAllSortingOptions();
  $('#current-action p').html('随机快速排序');
  $("#viz-sort-index-canvas").show();
  allOff();
  changeSortType(gw.randomizedQuickSort);
  AbbreviateTitle();
  $('#title-RandomizedQuick').text('随机快速排序');
});
$('#title-Counting').click(function() {
  showStandardCanvas();
  $("#viz-counting-sort-secondary-canvas").show();
  $("#viz-sort-index-canvas").show();
  hideAllSortingOptions();
  $('#current-action p').html('计数排序');
  displayCounting();
  changeSortType(gw.countingSort); // don't use default -->, DEFAULT_COUNT_DATA);
  AbbreviateTitle();
  $('#title-Counting').text('计数排序');
});
$('#title-Radix').click(function() {
  hideAllCanvases();
  $("#viz-radix-sort-canvas").show();
  hideAllSortingOptions();
  $('#current-action p').html('基数排序');
  displayRadix();
  changeSortType(gw.radixSort); // don't use default -->, DEFAULT_RADIX_DATA);
  AbbreviateTitle();
  $('#title-Radix').text('基数排序');
});

function changeSortType(newSortingFunction, customNumberList) {
  if (!customNumberList) {
    createList('random');
  }
  else {
    $('#userdefined-input').val(customNumberList);
    createList('userdefined');
  }

  if (isPlaying) stop();
  showActionsPanel();
  hideStatusPanel();
  hideCodetracePanel();
  gw.clearPseudocode();
  gw.setSelectedSortFunction(newSortingFunction);
}

function allOff() {
  $("#counting-simple").css("display", "none");
  $("#counting-stable").css("display", "none");
  $("#create-userdefined-input-cs").css("display", "none");
  $("#create-userdefined-go-cs").css("display", "none");
  $("#create-userdefined-input-rs").css("display", "none");
  $("#create-userdefined-go-rs").css("display", "none");
}

function displayCounting() {
  allOff();

  $("#counting-simple").css("display", "");
  $("#counting-stable").css("display", "");
  $("#create-userdefined-input-cs").css("display", "");
  $("#create-userdefined-go-cs").css("display", "");
}

function displayRadix() {
  allOff();

  $("#create-userdefined-input-rs").css("display", "");
  $("#create-userdefined-go-rs").css("display", "");
}

function createList(type) {
  if (isPlaying) stop();

  var arr_size = parseInt($("#user-arr-size").val());

  setTimeout(function() {
    if (gw.createList(type, arr_size)) {
      $('#progress-bar').slider("option", "max", 0);
      closeCreate();
      isPlaying = false;
    }
  }, 500);
}

function setBase() {
  if (isPlaying) stop();
  var input = (gw.selectedSortFunction === gw.countingSort)
                ? parseInt($("#counting-sort-base").val())
                : parseInt($("#radix-sort-base").val());

  var setBaseSuccessfully = (gw.selectedSortFunction === gw.countingSort)
                              ? gw.setCountingSortBase(input)
                              : gw.setRadixSortBase(input);

  if (setBaseSuccessfully) {
    // once the base is being changed, create a random list within the new range to show the user that the change is successful
    createList("random");
  }
}

function sort(callback) {
  gw.computeInversionIndex = $('#sort-bubble-merge-inversion-checkbox').prop('checked');
  if (isPlaying) stop();
  setTimeout(function() {
    if (gw.sort(callback)) {
      $('#current-action').show();
      $('#progress-bar').slider("option", "max", gw.getTotalIteration()-1);
      triggerRightPanels();
      isPlaying = true;
    }
  }, 500);
}

function sortGeneric(callback) {
  if (gw.selectedSortFunction != gw.countingSort) {
    sort();
  }
}

function countingSortStable(callback) {
  if (isPlaying) stop();
  setTimeout(function() {
    if (gw.countingSortStable(callback)) {
      $('#current-action').show();
      $('#progress-bar').slider("option", "max", gw.getTotalIteration()-1);
      triggerRightPanels();
      isPlaying = true;
    }
  }, 500);
}

// sort options
function hideAllSortingOptions() {
  $("#sort-bubble-merge-inversion").css("display", "none");
}

// canvas
function hideAllCanvases() {
  $("#viz").hide();
  $("#viz-counting-sort-secondary-canvas").hide();
  $("#viz-sort-index-canvas").hide();
  $("#viz-radix-sort-canvas").hide();
}

function showStandardCanvas() {
  $("#viz").show();
  $("#viz-counting-sort-secondary-canvas").hide();
  $("#viz-sort-index-canvas").hide();
  $("#viz-radix-sort-canvas").hide();
}

function setDefaultScale() { // sets the sorting visualisation to its default scale (max 15 elements)
  gw.changeBarWidth(50);
  $('#scale').html('1.0x');
  $('#viz-sort-index-canvas').show();
}

function setMediumScale() { // sets the sorting visualisation to a smaller scale to accomodate more elements (around 60)
  gw.changeBarWidth(21); // 13
  $('#scale').html('0.5x');
  $('#viz-sort-index-canvas').hide();
}

var exploreModeData = [];

// This function will be called before entering E-Lecture Mode
function ENTER_LECTURE_MODE() {
  exploreModeData = gw.currentNumList;
}

// This function will be called before returning to Explore Mode
function ENTER_EXPLORE_MODE() {
  gw.loadNumberList(exploreModeData);
}

// Lecture action functions
function SORT(mode) {
  hideSlide(function() {
    sort(showSlide);
  });
}
function CUSTOM_ACTION(action, data, mode) {}
</script>
</body>
</html>
